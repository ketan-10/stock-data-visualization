(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hn(i,t){const e=new Set(i.split(","));return t?s=>e.has(s.toLowerCase()):s=>e.has(s)}const lt={},Je=[],At=()=>{},ta=()=>!1,ws=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Un=i=>i.startsWith("onUpdate:"),pt=Object.assign,Kn=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},ea=Object.prototype.hasOwnProperty,Q=(i,t)=>ea.call(i,t),F=Array.isArray,ti=i=>ys(i)==="[object Map]",pl=i=>ys(i)==="[object Set]",j=i=>typeof i=="function",ft=i=>typeof i=="string",ai=i=>typeof i=="symbol",rt=i=>i!==null&&typeof i=="object",ml=i=>(rt(i)||j(i))&&j(i.then)&&j(i.catch),vl=Object.prototype.toString,ys=i=>vl.call(i),ia=i=>ys(i).slice(8,-1),gl=i=>ys(i)==="[object Object]",Zn=i=>ft(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,vi=Hn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xs=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},sa=/-(\w)/g,ni=xs(i=>i.replace(sa,(t,e)=>e?e.toUpperCase():"")),na=/\B([A-Z])/g,ui=xs(i=>i.replace(na,"-$1").toLowerCase()),bl=xs(i=>i.charAt(0).toUpperCase()+i.slice(1)),Hs=xs(i=>i?`on${bl(i)}`:""),Ce=(i,t)=>!Object.is(i,t),Us=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},us=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},ra=i=>{const t=parseFloat(i);return isNaN(t)?i:t},oa=i=>{const t=ft(i)?Number(i):NaN;return isNaN(t)?i:t};let Nr;const _l=()=>Nr||(Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yn(i){if(F(i)){const t={};for(let e=0;e<i.length;e++){const s=i[e],n=ft(s)?ua(s):Yn(s);if(n)for(const r in n)t[r]=n[r]}return t}else if(ft(i)||rt(i))return i}const la=/;(?![^(]*\))/g,ha=/:([^]+)/,aa=/\/\*[^]*?\*\//g;function ua(i){const t={};return i.replace(aa,"").split(la).forEach(e=>{if(e){const s=e.split(ha);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function se(i){let t="";if(ft(i))t=i;else if(F(i))for(let e=0;e<i.length;e++){const s=se(i[e]);s&&(t+=s+" ")}else if(rt(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const ca="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fa=Hn(ca);function wl(i){return!!i||i===""}const Ae=i=>ft(i)?i:i==null?"":F(i)||rt(i)&&(i.toString===vl||!j(i.toString))?JSON.stringify(i,yl,2):String(i),yl=(i,t)=>t&&t.__v_isRef?yl(i,t.value):ti(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,n],r)=>(e[Ks(s,r)+" =>"]=n,e),{})}:pl(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ks(e))}:ai(t)?Ks(t):rt(t)&&!F(t)&&!gl(t)?String(t):t,Ks=(i,t="")=>{var e;return ai(i)?`Symbol(${(e=i.description)!=null?e:t})`:i};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class da{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ht,!t&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=Ht;try{return Ht=this,t()}finally{Ht=e}}}on(){Ht=this}off(){Ht=this.parent}stop(t){if(this._active){let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function pa(i,t=Ht){t&&t.active&&t.effects.push(i)}function ma(){return Ht}let $e;class qn{constructor(t,e,s,n){this.fn=t,this.trigger=e,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,pa(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,He();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(va(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ue()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=xe,e=$e;try{return xe=!0,$e=this,this._runnings++,Ir(this),this.fn()}finally{Rr(this),this._runnings--,$e=e,xe=t}}stop(){var t;this.active&&(Ir(this),Rr(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function va(i){return i.value}function Ir(i){i._trackId++,i._depsLength=0}function Rr(i){if(i.deps.length>i._depsLength){for(let t=i._depsLength;t<i.deps.length;t++)xl(i.deps[t],i);i.deps.length=i._depsLength}}function xl(i,t){const e=i.get(t);e!==void 0&&t._trackId!==e&&(i.delete(t),i.size===0&&i.cleanup())}let xe=!0,Sn=0;const Sl=[];function He(){Sl.push(xe),xe=!1}function Ue(){const i=Sl.pop();xe=i===void 0?!0:i}function Qn(){Sn++}function Xn(){for(Sn--;!Sn&&Mn.length;)Mn.shift()()}function Ml(i,t,e){if(t.get(i)!==i._trackId){t.set(i,i._trackId);const s=i.deps[i._depsLength];s!==t?(s&&xl(s,i),i.deps[i._depsLength++]=t):i._depsLength++}}const Mn=[];function Cl(i,t,e){Qn();for(const s of i.keys()){let n;s._dirtyLevel<t&&(n??(n=i.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(n??(n=i.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Mn.push(s.scheduler)))}Xn()}const El=(i,t)=>{const e=new Map;return e.cleanup=i,e.computed=t,e},Cn=new WeakMap,De=Symbol(""),En=Symbol("");function Nt(i,t,e){if(xe&&$e){let s=Cn.get(i);s||Cn.set(i,s=new Map);let n=s.get(e);n||s.set(e,n=El(()=>s.delete(e))),Ml($e,n)}}function le(i,t,e,s,n,r){const o=Cn.get(i);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(e==="length"&&F(i)){const h=Number(s);o.forEach((a,u)=>{(u==="length"||!ai(u)&&u>=h)&&l.push(a)})}else switch(e!==void 0&&l.push(o.get(e)),t){case"add":F(i)?Zn(e)&&l.push(o.get("length")):(l.push(o.get(De)),ti(i)&&l.push(o.get(En)));break;case"delete":F(i)||(l.push(o.get(De)),ti(i)&&l.push(o.get(En)));break;case"set":ti(i)&&l.push(o.get(De));break}Qn();for(const h of l)h&&Cl(h,4);Xn()}const ga=Hn("__proto__,__v_isRef,__isVue"),Ol=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(ai)),Pr=ba();function ba(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const s=W(this);for(let r=0,o=this.length;r<o;r++)Nt(s,"get",r+"");const n=s[t](...e);return n===-1||n===!1?s[t](...e.map(W)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){He(),Qn();const s=W(this)[t].apply(this,e);return Xn(),Ue(),s}}),i}function _a(i){const t=W(this);return Nt(t,"has",i),t.hasOwnProperty(i)}class zl{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){const n=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!n;if(e==="__v_isReadonly")return n;if(e==="__v_isShallow")return r;if(e==="__v_raw")return s===(n?r?Na:Nl:r?kl:Ll).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=F(t);if(!n){if(o&&Q(Pr,e))return Reflect.get(Pr,e,s);if(e==="hasOwnProperty")return _a}const l=Reflect.get(t,e,s);return(ai(e)?Ol.has(e):ga(e))||(n||Nt(t,"get",e),r)?l:zt(l)?o&&Zn(e)?l:l.value:rt(l)?n?Il(l):Ms(l):l}}class Tl extends zl{constructor(t=!1){super(!1,t)}set(t,e,s,n){let r=t[e];if(!this._isShallow){const h=ri(r);if(!cs(s)&&!ri(s)&&(r=W(r),s=W(s)),!F(t)&&zt(r)&&!zt(s))return h?!1:(r.value=s,!0)}const o=F(t)&&Zn(e)?Number(e)<t.length:Q(t,e),l=Reflect.set(t,e,s,n);return t===W(n)&&(o?Ce(s,r)&&le(t,"set",e,s):le(t,"add",e,s)),l}deleteProperty(t,e){const s=Q(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&le(t,"delete",e,void 0),n}has(t,e){const s=Reflect.has(t,e);return(!ai(e)||!Ol.has(e))&&Nt(t,"has",e),s}ownKeys(t){return Nt(t,"iterate",F(t)?"length":De),Reflect.ownKeys(t)}}class wa extends zl{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const ya=new Tl,xa=new wa,Sa=new Tl(!0),Gn=i=>i,Ss=i=>Reflect.getPrototypeOf(i);function Wi(i,t,e=!1,s=!1){i=i.__v_raw;const n=W(i),r=W(t);e||(Ce(t,r)&&Nt(n,"get",t),Nt(n,"get",r));const{has:o}=Ss(n),l=s?Gn:e?er:Ci;if(o.call(n,t))return l(i.get(t));if(o.call(n,r))return l(i.get(r));i!==n&&i.get(t)}function ji(i,t=!1){const e=this.__v_raw,s=W(e),n=W(i);return t||(Ce(i,n)&&Nt(s,"has",i),Nt(s,"has",n)),i===n?e.has(i):e.has(i)||e.has(n)}function Hi(i,t=!1){return i=i.__v_raw,!t&&Nt(W(i),"iterate",De),Reflect.get(i,"size",i)}function Ar(i){i=W(i);const t=W(this);return Ss(t).has.call(t,i)||(t.add(i),le(t,"add",i,i)),this}function $r(i,t){t=W(t);const e=W(this),{has:s,get:n}=Ss(e);let r=s.call(e,i);r||(i=W(i),r=s.call(e,i));const o=n.call(e,i);return e.set(i,t),r?Ce(t,o)&&le(e,"set",i,t):le(e,"add",i,t),this}function Dr(i){const t=W(this),{has:e,get:s}=Ss(t);let n=e.call(t,i);n||(i=W(i),n=e.call(t,i)),s&&s.call(t,i);const r=t.delete(i);return n&&le(t,"delete",i,void 0),r}function Br(){const i=W(this),t=i.size!==0,e=i.clear();return t&&le(i,"clear",void 0,void 0),e}function Ui(i,t){return function(s,n){const r=this,o=r.__v_raw,l=W(o),h=t?Gn:i?er:Ci;return!i&&Nt(l,"iterate",De),o.forEach((a,u)=>s.call(n,h(a),h(u),r))}}function Ki(i,t,e){return function(...s){const n=this.__v_raw,r=W(n),o=ti(r),l=i==="entries"||i===Symbol.iterator&&o,h=i==="keys"&&o,a=n[i](...s),u=e?Gn:t?er:Ci;return!t&&Nt(r,"iterate",h?En:De),{next(){const{value:c,done:f}=a.next();return f?{value:c,done:f}:{value:l?[u(c[0]),u(c[1])]:u(c),done:f}},[Symbol.iterator](){return this}}}}function pe(i){return function(...t){return i==="delete"?!1:i==="clear"?void 0:this}}function Ma(){const i={get(r){return Wi(this,r)},get size(){return Hi(this)},has:ji,add:Ar,set:$r,delete:Dr,clear:Br,forEach:Ui(!1,!1)},t={get(r){return Wi(this,r,!1,!0)},get size(){return Hi(this)},has:ji,add:Ar,set:$r,delete:Dr,clear:Br,forEach:Ui(!1,!0)},e={get(r){return Wi(this,r,!0)},get size(){return Hi(this,!0)},has(r){return ji.call(this,r,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Ui(!0,!1)},s={get(r){return Wi(this,r,!0,!0)},get size(){return Hi(this,!0)},has(r){return ji.call(this,r,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Ki(r,!1,!1),e[r]=Ki(r,!0,!1),t[r]=Ki(r,!1,!0),s[r]=Ki(r,!0,!0)}),[i,e,t,s]}const[Ca,Ea,Oa,za]=Ma();function Jn(i,t){const e=t?i?za:Oa:i?Ea:Ca;return(s,n,r)=>n==="__v_isReactive"?!i:n==="__v_isReadonly"?i:n==="__v_raw"?s:Reflect.get(Q(e,n)&&n in s?e:s,n,r)}const Ta={get:Jn(!1,!1)},La={get:Jn(!1,!0)},ka={get:Jn(!0,!1)},Ll=new WeakMap,kl=new WeakMap,Nl=new WeakMap,Na=new WeakMap;function Ia(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ra(i){return i.__v_skip||!Object.isExtensible(i)?0:Ia(ia(i))}function Ms(i){return ri(i)?i:tr(i,!1,ya,Ta,Ll)}function Pa(i){return tr(i,!1,Sa,La,kl)}function Il(i){return tr(i,!0,xa,ka,Nl)}function tr(i,t,e,s,n){if(!rt(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const r=n.get(i);if(r)return r;const o=Ra(i);if(o===0)return i;const l=new Proxy(i,o===2?s:e);return n.set(i,l),l}function ei(i){return ri(i)?ei(i.__v_raw):!!(i&&i.__v_isReactive)}function ri(i){return!!(i&&i.__v_isReadonly)}function cs(i){return!!(i&&i.__v_isShallow)}function Rl(i){return ei(i)||ri(i)}function W(i){const t=i&&i.__v_raw;return t?W(t):i}function Pl(i){return Object.isExtensible(i)&&us(i,"__v_skip",!0),i}const Ci=i=>rt(i)?Ms(i):i,er=i=>rt(i)?Il(i):i;class Al{constructor(t,e,s,n){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new qn(()=>t(this._value),()=>os(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=W(this);return(!t._cacheable||t.effect.dirty)&&Ce(t._value,t._value=t.effect.run())&&os(t,4),$l(t),t.effect._dirtyLevel>=2&&os(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Aa(i,t,e=!1){let s,n;const r=j(i);return r?(s=i,n=At):(s=i.get,n=i.set),new Al(s,n,r||!n,e)}function $l(i){var t;xe&&$e&&(i=W(i),Ml($e,(t=i.dep)!=null?t:i.dep=El(()=>i.dep=void 0,i instanceof Al?i:void 0)))}function os(i,t=4,e){i=W(i);const s=i.dep;s&&Cl(s,t)}function zt(i){return!!(i&&i.__v_isRef===!0)}function Z(i){return $a(i,!1)}function $a(i,t){return zt(i)?i:new Da(i,t)}class Da{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:W(t),this._value=e?t:Ci(t)}get value(){return $l(this),this._value}set value(t){const e=this.__v_isShallow||cs(t)||ri(t);t=e?t:W(t),Ce(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Ci(t),os(this,4))}}function _t(i){return zt(i)?i.value:i}const Ba={get:(i,t,e)=>_t(Reflect.get(i,t,e)),set:(i,t,e,s)=>{const n=i[t];return zt(n)&&!zt(e)?(n.value=e,!0):Reflect.set(i,t,e,s)}};function Dl(i){return ei(i)?i:new Proxy(i,Ba)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Se(i,t,e,s){try{return s?i(...s):i()}catch(n){Cs(n,t,e)}}function $t(i,t,e,s){if(j(i)){const r=Se(i,t,e,s);return r&&ml(r)&&r.catch(o=>{Cs(o,t,e)}),r}const n=[];for(let r=0;r<i.length;r++)n.push($t(i[r],t,e,s));return n}function Cs(i,t,e,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${e}`;for(;r;){const a=r.ec;if(a){for(let u=0;u<a.length;u++)if(a[u](i,o,l)===!1)return}r=r.parent}const h=t.appContext.config.errorHandler;if(h){Se(h,null,10,[i,o,l]);return}}Fa(i,e,n,s)}function Fa(i,t,e,s=!0){console.error(i)}let Ei=!1,On=!1;const yt=[];let ee=0;const ii=[];let be=null,Ie=0;const Bl=Promise.resolve();let ir=null;function Me(i){const t=ir||Bl;return i?t.then(this?i.bind(this):i):t}function Va(i){let t=ee+1,e=yt.length;for(;t<e;){const s=t+e>>>1,n=yt[s],r=Oi(n);r<i||r===i&&n.pre?t=s+1:e=s}return t}function sr(i){(!yt.length||!yt.includes(i,Ei&&i.allowRecurse?ee+1:ee))&&(i.id==null?yt.push(i):yt.splice(Va(i.id),0,i),Fl())}function Fl(){!Ei&&!On&&(On=!0,ir=Bl.then(Wl))}function Wa(i){const t=yt.indexOf(i);t>ee&&yt.splice(t,1)}function ja(i){F(i)?ii.push(...i):(!be||!be.includes(i,i.allowRecurse?Ie+1:Ie))&&ii.push(i),Fl()}function Fr(i,t,e=Ei?ee+1:0){for(;e<yt.length;e++){const s=yt[e];if(s&&s.pre){if(i&&s.id!==i.uid)continue;yt.splice(e,1),e--,s()}}}function Vl(i){if(ii.length){const t=[...new Set(ii)].sort((e,s)=>Oi(e)-Oi(s));if(ii.length=0,be){be.push(...t);return}for(be=t,Ie=0;Ie<be.length;Ie++)be[Ie]();be=null,Ie=0}}const Oi=i=>i.id==null?1/0:i.id,Ha=(i,t)=>{const e=Oi(i)-Oi(t);if(e===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return e};function Wl(i){On=!1,Ei=!0,yt.sort(Ha);try{for(ee=0;ee<yt.length;ee++){const t=yt[ee];t&&t.active!==!1&&Se(t,null,14)}}finally{ee=0,yt.length=0,Vl(),Ei=!1,ir=null,(yt.length||ii.length)&&Wl()}}function Ua(i,t,...e){if(i.isUnmounted)return;const s=i.vnode.props||lt;let n=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:f}=s[u]||lt;f&&(n=e.map(m=>ft(m)?m.trim():m)),c&&(n=e.map(ra))}let l,h=s[l=Hs(t)]||s[l=Hs(ni(t))];!h&&r&&(h=s[l=Hs(ui(t))]),h&&$t(h,i,6,n);const a=s[l+"Once"];if(a){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,$t(a,i,6,n)}}function jl(i,t,e=!1){const s=t.emitsCache,n=s.get(i);if(n!==void 0)return n;const r=i.emits;let o={},l=!1;if(!j(i)){const h=a=>{const u=jl(a,t,!0);u&&(l=!0,pt(o,u))};!e&&t.mixins.length&&t.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}return!r&&!l?(rt(i)&&s.set(i,null),null):(F(r)?r.forEach(h=>o[h]=null):pt(o,r),rt(i)&&s.set(i,o),o)}function Es(i,t){return!i||!ws(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(i,t[0].toLowerCase()+t.slice(1))||Q(i,ui(t))||Q(i,t))}let Ct=null,Hl=null;function fs(i){const t=Ct;return Ct=i,Hl=i&&i.type.__scopeId||null,t}function Ut(i,t=Ct,e){if(!t||i._n)return i;const s=(...n)=>{s._d&&Xr(-1);const r=fs(t);let o;try{o=i(...n)}finally{fs(r),s._d&&Xr(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Zs(i){const{type:t,vnode:e,proxy:s,withProxy:n,props:r,propsOptions:[o],slots:l,attrs:h,emit:a,render:u,renderCache:c,data:f,setupState:m,ctx:v,inheritAttrs:p}=i;let w,x;const y=fs(i);try{if(e.shapeFlag&4){const S=n||s,z=S;w=te(u.call(z,S,c,r,m,f,v)),x=h}else{const S=t;w=te(S.length>1?S(r,{attrs:h,slots:l,emit:a}):S(r,null)),x=t.props?h:Ka(h)}}catch(S){wi.length=0,Cs(S,i,1),w=nt(Bt)}let b=w;if(x&&p!==!1){const S=Object.keys(x),{shapeFlag:z}=b;S.length&&z&7&&(o&&S.some(Un)&&(x=Za(x,o)),b=he(b,x))}return e.dirs&&(b=he(b),b.dirs=b.dirs?b.dirs.concat(e.dirs):e.dirs),e.transition&&(b.transition=e.transition),w=b,fs(y),w}const Ka=i=>{let t;for(const e in i)(e==="class"||e==="style"||ws(e))&&((t||(t={}))[e]=i[e]);return t},Za=(i,t)=>{const e={};for(const s in i)(!Un(s)||!(s.slice(9)in t))&&(e[s]=i[s]);return e};function Ya(i,t,e){const{props:s,children:n,component:r}=i,{props:o,children:l,patchFlag:h}=t,a=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return s?Vr(s,o,a):!!o;if(h&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const f=u[c];if(o[f]!==s[f]&&!Es(a,f))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Vr(s,o,a):!0:!!o;return!1}function Vr(i,t,e){const s=Object.keys(t);if(s.length!==Object.keys(i).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==i[r]&&!Es(e,r))return!0}return!1}function qa({vnode:i,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===i&&(s.el=i.el),s===i)(i=t.vnode).el=e,t=t.parent;else break}}const Qa=Symbol.for("v-ndc"),Xa=i=>i.__isSuspense;function Ga(i,t){t&&t.pendingBranch?F(i)?t.effects.push(...i):t.effects.push(i):ja(i)}const Ja=Symbol.for("v-scx"),tu=()=>Dt(Ja);function Pi(i,t){return nr(i,null,t)}const Zi={};function wt(i,t,e){return nr(i,t,e)}function nr(i,t,{immediate:e,deep:s,flush:n,once:r,onTrack:o,onTrigger:l}=lt){if(t&&r){const L=t;t=(...D)=>{L(...D),z()}}const h=xt,a=L=>s===!0?L:Qe(L,s===!1?1:void 0);let u,c=!1,f=!1;if(zt(i)?(u=()=>i.value,c=cs(i)):ei(i)?(u=()=>a(i),c=!0):F(i)?(f=!0,c=i.some(L=>ei(L)||cs(L)),u=()=>i.map(L=>{if(zt(L))return L.value;if(ei(L))return a(L);if(j(L))return Se(L,h,2)})):j(i)?t?u=()=>Se(i,h,2):u=()=>(m&&m(),$t(i,h,3,[v])):u=At,t&&s){const L=u;u=()=>Qe(L())}let m,v=L=>{m=b.onStop=()=>{Se(L,h,4),m=b.onStop=void 0}},p;if(ks)if(v=At,t?e&&$t(t,h,3,[u(),f?[]:void 0,v]):u(),n==="sync"){const L=tu();p=L.__watcherHandles||(L.__watcherHandles=[])}else return At;let w=f?new Array(i.length).fill(Zi):Zi;const x=()=>{if(!(!b.active||!b.dirty))if(t){const L=b.run();(s||c||(f?L.some((D,R)=>Ce(D,w[R])):Ce(L,w)))&&(m&&m(),$t(t,h,3,[L,w===Zi?void 0:f&&w[0]===Zi?[]:w,v]),w=L)}else b.run()};x.allowRecurse=!!t;let y;n==="sync"?y=x:n==="post"?y=()=>Lt(x,h&&h.suspense):(x.pre=!0,h&&(x.id=h.uid),y=()=>sr(x));const b=new qn(u,At,y),S=ma(),z=()=>{b.stop(),S&&Kn(S.effects,b)};return t?e?x():w=b.run():n==="post"?Lt(b.run.bind(b),h&&h.suspense):b.run(),p&&p.push(z),z}function eu(i,t,e){const s=this.proxy,n=ft(i)?i.includes(".")?Ul(s,i):()=>s[i]:i.bind(s,s);let r;j(t)?r=t:(r=t.handler,e=t);const o=$i(this),l=nr(n,r.bind(s),e);return o(),l}function Ul(i,t){const e=t.split(".");return()=>{let s=i;for(let n=0;n<e.length&&s;n++)s=s[e[n]];return s}}function Qe(i,t,e=0,s){if(!rt(i)||i.__v_skip)return i;if(t&&t>0){if(e>=t)return i;e++}if(s=s||new Set,s.has(i))return i;if(s.add(i),zt(i))Qe(i.value,t,e,s);else if(F(i))for(let n=0;n<i.length;n++)Qe(i[n],t,e,s);else if(pl(i)||ti(i))i.forEach(n=>{Qe(n,t,e,s)});else if(gl(i))for(const n in i)Qe(i[n],t,e,s);return i}function ze(i,t,e,s){const n=i.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let h=l.dir[s];h&&(He(),$t(h,e,8,[i.el,l,i,t]),Ue())}}const _e=Symbol("_leaveCb"),Yi=Symbol("_enterCb");function iu(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zt(()=>{i.isMounted=!0}),Ql(()=>{i.isUnmounting=!0}),i}const Rt=[Function,Array],Kl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},su={name:"BaseTransition",props:Kl,setup(i,{slots:t}){const e=Vu(),s=iu();return()=>{const n=t.default&&Yl(t.default(),!0);if(!n||!n.length)return;let r=n[0];if(n.length>1){for(const f of n)if(f.type!==Bt){r=f;break}}const o=W(i),{mode:l}=o;if(s.isLeaving)return Ys(r);const h=Wr(r);if(!h)return Ys(r);const a=zn(h,o,s,e);Tn(h,a);const u=e.subTree,c=u&&Wr(u);if(c&&c.type!==Bt&&!Re(h,c)){const f=zn(c,o,s,e);if(Tn(c,f),l==="out-in")return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},Ys(r);l==="in-out"&&h.type!==Bt&&(f.delayLeave=(m,v,p)=>{const w=Zl(s,c);w[String(c.key)]=c,m[_e]=()=>{v(),m[_e]=void 0,delete a.delayedLeave},a.delayedLeave=p})}return r}}},nu=su;function Zl(i,t){const{leavingVNodes:e}=i;let s=e.get(t.type);return s||(s=Object.create(null),e.set(t.type,s)),s}function zn(i,t,e,s){const{appear:n,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:a,onEnterCancelled:u,onBeforeLeave:c,onLeave:f,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:p,onAppear:w,onAfterAppear:x,onAppearCancelled:y}=t,b=String(i.key),S=Zl(e,i),z=(R,Y)=>{R&&$t(R,s,9,Y)},L=(R,Y)=>{const q=Y[1];z(R,Y),F(R)?R.every(dt=>dt.length<=1)&&q():R.length<=1&&q()},D={mode:r,persisted:o,beforeEnter(R){let Y=l;if(!e.isMounted)if(n)Y=p||l;else return;R[_e]&&R[_e](!0);const q=S[b];q&&Re(i,q)&&q.el[_e]&&q.el[_e](),z(Y,[R])},enter(R){let Y=h,q=a,dt=u;if(!e.isMounted)if(n)Y=w||h,q=x||a,dt=y||u;else return;let A=!1;const et=R[Yi]=gt=>{A||(A=!0,gt?z(dt,[R]):z(q,[R]),D.delayedLeave&&D.delayedLeave(),R[Yi]=void 0)};Y?L(Y,[R,et]):et()},leave(R,Y){const q=String(i.key);if(R[Yi]&&R[Yi](!0),e.isUnmounting)return Y();z(c,[R]);let dt=!1;const A=R[_e]=et=>{dt||(dt=!0,Y(),et?z(v,[R]):z(m,[R]),R[_e]=void 0,S[q]===i&&delete S[q])};S[q]=i,f?L(f,[R,A]):A()},clone(R){return zn(R,t,e,s)}};return D}function Ys(i){if(Os(i))return i=he(i),i.children=null,i}function Wr(i){return Os(i)?i.children?i.children[0]:void 0:i}function Tn(i,t){i.shapeFlag&6&&i.component?Tn(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function Yl(i,t=!1,e){let s=[],n=0;for(let r=0;r<i.length;r++){let o=i[r];const l=e==null?o.key:String(e)+String(o.key!=null?o.key:r);o.type===ct?(o.patchFlag&128&&n++,s=s.concat(Yl(o.children,t,l))):(t||o.type!==Bt)&&s.push(l!=null?he(o,{key:l}):o)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function mt(i,t){return j(i)?pt({name:i.name},t,{setup:i}):i}const gi=i=>!!i.type.__asyncLoader,Os=i=>i.type.__isKeepAlive;function ru(i,t){ql(i,"a",t)}function ou(i,t){ql(i,"da",t)}function ql(i,t,e=xt){const s=i.__wdc||(i.__wdc=()=>{let n=e;for(;n;){if(n.isDeactivated)return;n=n.parent}return i()});if(zs(t,s,e),e){let n=e.parent;for(;n&&n.parent;)Os(n.parent.vnode)&&lu(s,t,e,n),n=n.parent}}function lu(i,t,e,s){const n=zs(t,i,s,!0);Ai(()=>{Kn(s[t],n)},e)}function zs(i,t,e=xt,s=!1){if(e){const n=e[i]||(e[i]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;He();const l=$i(e),h=$t(t,e,i,o);return l(),Ue(),h});return s?n.unshift(r):n.push(r),r}}const ue=i=>(t,e=xt)=>(!ks||i==="sp")&&zs(i,(...s)=>t(...s),e),hu=ue("bm"),Zt=ue("m"),au=ue("bu"),uu=ue("u"),Ql=ue("bum"),Ai=ue("um"),cu=ue("sp"),fu=ue("rtg"),du=ue("rtc");function pu(i,t=xt){zs("ec",i,t)}function Xl(i,t,e,s){let n;const r=e&&e[s];if(F(i)||ft(i)){n=new Array(i.length);for(let o=0,l=i.length;o<l;o++)n[o]=t(i[o],o,void 0,r&&r[o])}else if(typeof i=="number"){n=new Array(i);for(let o=0;o<i;o++)n[o]=t(o+1,o,void 0,r&&r[o])}else if(rt(i))if(i[Symbol.iterator])n=Array.from(i,(o,l)=>t(o,l,void 0,r&&r[l]));else{const o=Object.keys(i);n=new Array(o.length);for(let l=0,h=o.length;l<h;l++){const a=o[l];n[l]=t(i[a],a,l,r&&r[l])}}else n=[];return e&&(e[s]=n),n}function mu(i,t,e={},s,n){if(Ct.isCE||Ct.parent&&gi(Ct.parent)&&Ct.parent.isCE)return t!=="default"&&(e.name=t),nt("slot",e,s&&s());let r=i[t];r&&r._c&&(r._d=!1),at();const o=r&&Gl(r(e)),l=Ee(ct,{key:e.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&i._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Gl(i){return i.some(t=>ps(t)?!(t.type===Bt||t.type===ct&&!Gl(t.children)):!0)?i:null}const Ln=i=>i?ch(i)?hr(i)||i.proxy:Ln(i.parent):null,bi=pt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Ln(i.parent),$root:i=>Ln(i.root),$emit:i=>i.emit,$options:i=>rr(i),$forceUpdate:i=>i.f||(i.f=()=>{i.effect.dirty=!0,sr(i.update)}),$nextTick:i=>i.n||(i.n=Me.bind(i.proxy)),$watch:i=>eu.bind(i)}),qs=(i,t)=>i!==lt&&!i.__isScriptSetup&&Q(i,t),vu={get({_:i},t){const{ctx:e,setupState:s,data:n,props:r,accessCache:o,type:l,appContext:h}=i;let a;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return n[t];case 4:return e[t];case 3:return r[t]}else{if(qs(s,t))return o[t]=1,s[t];if(n!==lt&&Q(n,t))return o[t]=2,n[t];if((a=i.propsOptions[0])&&Q(a,t))return o[t]=3,r[t];if(e!==lt&&Q(e,t))return o[t]=4,e[t];kn&&(o[t]=0)}}const u=bi[t];let c,f;if(u)return t==="$attrs"&&Nt(i,"get",t),u(i);if((c=l.__cssModules)&&(c=c[t]))return c;if(e!==lt&&Q(e,t))return o[t]=4,e[t];if(f=h.config.globalProperties,Q(f,t))return f[t]},set({_:i},t,e){const{data:s,setupState:n,ctx:r}=i;return qs(n,t)?(n[t]=e,!0):s!==lt&&Q(s,t)?(s[t]=e,!0):Q(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(r[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:s,appContext:n,propsOptions:r}},o){let l;return!!e[o]||i!==lt&&Q(i,o)||qs(t,o)||(l=r[0])&&Q(l,o)||Q(s,o)||Q(bi,o)||Q(n.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:Q(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};function jr(i){return F(i)?i.reduce((t,e)=>(t[e]=null,t),{}):i}let kn=!0;function gu(i){const t=rr(i),e=i.proxy,s=i.ctx;kn=!1,t.beforeCreate&&Hr(t.beforeCreate,i,"bc");const{data:n,computed:r,methods:o,watch:l,provide:h,inject:a,created:u,beforeMount:c,mounted:f,beforeUpdate:m,updated:v,activated:p,deactivated:w,beforeDestroy:x,beforeUnmount:y,destroyed:b,unmounted:S,render:z,renderTracked:L,renderTriggered:D,errorCaptured:R,serverPrefetch:Y,expose:q,inheritAttrs:dt,components:A,directives:et,filters:gt}=t;if(a&&bu(a,s,null),o)for(const it in o){const X=o[it];j(X)&&(s[it]=X.bind(e))}if(n){const it=n.call(e,e);rt(it)&&(i.data=Ms(it))}if(kn=!0,r)for(const it in r){const X=r[it],Ft=j(X)?X.bind(e,e):j(X.get)?X.get.bind(e,e):At,de=!j(X)&&j(X.set)?X.set.bind(e):At,Vt=H({get:Ft,set:de});Object.defineProperty(s,it,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Qt=>Vt.value=Qt})}if(l)for(const it in l)Jl(l[it],s,e,it);if(h){const it=j(h)?h.call(e):h;Reflect.ownKeys(it).forEach(X=>{oi(X,it[X])})}u&&Hr(u,i,"c");function ht(it,X){F(X)?X.forEach(Ft=>it(Ft.bind(e))):X&&it(X.bind(e))}if(ht(hu,c),ht(Zt,f),ht(au,m),ht(uu,v),ht(ru,p),ht(ou,w),ht(pu,R),ht(du,L),ht(fu,D),ht(Ql,y),ht(Ai,S),ht(cu,Y),F(q))if(q.length){const it=i.exposed||(i.exposed={});q.forEach(X=>{Object.defineProperty(it,X,{get:()=>e[X],set:Ft=>e[X]=Ft})})}else i.exposed||(i.exposed={});z&&i.render===At&&(i.render=z),dt!=null&&(i.inheritAttrs=dt),A&&(i.components=A),et&&(i.directives=et)}function bu(i,t,e=At){F(i)&&(i=Nn(i));for(const s in i){const n=i[s];let r;rt(n)?"default"in n?r=Dt(n.from||s,n.default,!0):r=Dt(n.from||s):r=Dt(n),zt(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Hr(i,t,e){$t(F(i)?i.map(s=>s.bind(t.proxy)):i.bind(t.proxy),t,e)}function Jl(i,t,e,s){const n=s.includes(".")?Ul(e,s):()=>e[s];if(ft(i)){const r=t[i];j(r)&&wt(n,r)}else if(j(i))wt(n,i.bind(e));else if(rt(i))if(F(i))i.forEach(r=>Jl(r,t,e,s));else{const r=j(i.handler)?i.handler.bind(e):t[i.handler];j(r)&&wt(n,r,i)}}function rr(i){const t=i.type,{mixins:e,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,l=r.get(t);let h;return l?h=l:!n.length&&!e&&!s?h=t:(h={},n.length&&n.forEach(a=>ds(h,a,o,!0)),ds(h,t,o)),rt(t)&&r.set(t,h),h}function ds(i,t,e,s=!1){const{mixins:n,extends:r}=t;r&&ds(i,r,e,!0),n&&n.forEach(o=>ds(i,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const l=_u[o]||e&&e[o];i[o]=l?l(i[o],t[o]):t[o]}return i}const _u={data:Ur,props:Kr,emits:Kr,methods:pi,computed:pi,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:pi,directives:pi,watch:yu,provide:Ur,inject:wu};function Ur(i,t){return t?i?function(){return pt(j(i)?i.call(this,this):i,j(t)?t.call(this,this):t)}:t:i}function wu(i,t){return pi(Nn(i),Nn(t))}function Nn(i){if(F(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function St(i,t){return i?[...new Set([].concat(i,t))]:t}function pi(i,t){return i?pt(Object.create(null),i,t):t}function Kr(i,t){return i?F(i)&&F(t)?[...new Set([...i,...t])]:pt(Object.create(null),jr(i),jr(t??{})):t}function yu(i,t){if(!i)return t;if(!t)return i;const e=pt(Object.create(null),i);for(const s in t)e[s]=St(i[s],t[s]);return e}function th(){return{app:null,config:{isNativeTag:ta,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xu=0;function Su(i,t){return function(s,n=null){j(s)||(s=pt({},s)),n!=null&&!rt(n)&&(n=null);const r=th(),o=new WeakSet;let l=!1;const h=r.app={_uid:xu++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Zu,get config(){return r.config},set config(a){},use(a,...u){return o.has(a)||(a&&j(a.install)?(o.add(a),a.install(h,...u)):j(a)&&(o.add(a),a(h,...u))),h},mixin(a){return r.mixins.includes(a)||r.mixins.push(a),h},component(a,u){return u?(r.components[a]=u,h):r.components[a]},directive(a,u){return u?(r.directives[a]=u,h):r.directives[a]},mount(a,u,c){if(!l){const f=nt(s,n);return f.appContext=r,c===!0?c="svg":c===!1&&(c=void 0),u&&t?t(f,a):i(f,a,c),l=!0,h._container=a,a.__vue_app__=h,hr(f.component)||f.component.proxy}},unmount(){l&&(i(null,h._container),delete h._container.__vue_app__)},provide(a,u){return r.provides[a]=u,h},runWithContext(a){const u=_i;_i=h;try{return a()}finally{_i=u}}};return h}}let _i=null;function oi(i,t){if(xt){let e=xt.provides;const s=xt.parent&&xt.parent.provides;s===e&&(e=xt.provides=Object.create(s)),e[i]=t}}function Dt(i,t,e=!1){const s=xt||Ct;if(s||_i){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:_i._context.provides;if(n&&i in n)return n[i];if(arguments.length>1)return e&&j(t)?t.call(s&&s.proxy):t}}function Mu(i,t,e,s=!1){const n={},r={};us(r,Ls,1),i.propsDefaults=Object.create(null),eh(i,t,n,r);for(const o in i.propsOptions[0])o in n||(n[o]=void 0);e?i.props=s?n:Pa(n):i.type.props?i.props=n:i.props=r,i.attrs=r}function Cu(i,t,e,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=i,l=W(n),[h]=i.propsOptions;let a=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let c=0;c<u.length;c++){let f=u[c];if(Es(i.emitsOptions,f))continue;const m=t[f];if(h)if(Q(r,f))m!==r[f]&&(r[f]=m,a=!0);else{const v=ni(f);n[v]=In(h,l,v,m,i,!1)}else m!==r[f]&&(r[f]=m,a=!0)}}}else{eh(i,t,n,r)&&(a=!0);let u;for(const c in l)(!t||!Q(t,c)&&((u=ui(c))===c||!Q(t,u)))&&(h?e&&(e[c]!==void 0||e[u]!==void 0)&&(n[c]=In(h,l,c,void 0,i,!0)):delete n[c]);if(r!==l)for(const c in r)(!t||!Q(t,c))&&(delete r[c],a=!0)}a&&le(i,"set","$attrs")}function eh(i,t,e,s){const[n,r]=i.propsOptions;let o=!1,l;if(t)for(let h in t){if(vi(h))continue;const a=t[h];let u;n&&Q(n,u=ni(h))?!r||!r.includes(u)?e[u]=a:(l||(l={}))[u]=a:Es(i.emitsOptions,h)||(!(h in s)||a!==s[h])&&(s[h]=a,o=!0)}if(r){const h=W(e),a=l||lt;for(let u=0;u<r.length;u++){const c=r[u];e[c]=In(n,h,c,a[c],i,!Q(a,c))}}return o}function In(i,t,e,s,n,r){const o=i[e];if(o!=null){const l=Q(o,"default");if(l&&s===void 0){const h=o.default;if(o.type!==Function&&!o.skipFactory&&j(h)){const{propsDefaults:a}=n;if(e in a)s=a[e];else{const u=$i(n);s=a[e]=h.call(null,t),u()}}else s=h}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===ui(e))&&(s=!0))}return s}function ih(i,t,e=!1){const s=t.propsCache,n=s.get(i);if(n)return n;const r=i.props,o={},l=[];let h=!1;if(!j(i)){const u=c=>{h=!0;const[f,m]=ih(c,t,!0);pt(o,f),m&&l.push(...m)};!e&&t.mixins.length&&t.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!r&&!h)return rt(i)&&s.set(i,Je),Je;if(F(r))for(let u=0;u<r.length;u++){const c=ni(r[u]);Zr(c)&&(o[c]=lt)}else if(r)for(const u in r){const c=ni(u);if(Zr(c)){const f=r[u],m=o[c]=F(f)||j(f)?{type:f}:pt({},f);if(m){const v=Qr(Boolean,m.type),p=Qr(String,m.type);m[0]=v>-1,m[1]=p<0||v<p,(v>-1||Q(m,"default"))&&l.push(c)}}}const a=[o,l];return rt(i)&&s.set(i,a),a}function Zr(i){return i[0]!=="$"&&!vi(i)}function Yr(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function qr(i,t){return Yr(i)===Yr(t)}function Qr(i,t){return F(t)?t.findIndex(e=>qr(e,i)):j(t)&&qr(t,i)?0:-1}const sh=i=>i[0]==="_"||i==="$stable",or=i=>F(i)?i.map(te):[te(i)],Eu=(i,t,e)=>{if(t._n)return t;const s=Ut((...n)=>or(t(...n)),e);return s._c=!1,s},nh=(i,t,e)=>{const s=i._ctx;for(const n in i){if(sh(n))continue;const r=i[n];if(j(r))t[n]=Eu(n,r,s);else if(r!=null){const o=or(r);t[n]=()=>o}}},rh=(i,t)=>{const e=or(t);i.slots.default=()=>e},Ou=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=W(t),us(t,"_",e)):nh(t,i.slots={})}else i.slots={},t&&rh(i,t);us(i.slots,Ls,1)},zu=(i,t,e)=>{const{vnode:s,slots:n}=i;let r=!0,o=lt;if(s.shapeFlag&32){const l=t._;l?e&&l===1?r=!1:(pt(n,t),!e&&l===1&&delete n._):(r=!t.$stable,nh(t,n)),o=t}else t&&(rh(i,t),o={default:1});if(r)for(const l in n)!sh(l)&&o[l]==null&&delete n[l]};function Rn(i,t,e,s,n=!1){if(F(i)){i.forEach((f,m)=>Rn(f,t&&(F(t)?t[m]:t),e,s,n));return}if(gi(s)&&!n)return;const r=s.shapeFlag&4?hr(s.component)||s.component.proxy:s.el,o=n?null:r,{i:l,r:h}=i,a=t&&t.r,u=l.refs===lt?l.refs={}:l.refs,c=l.setupState;if(a!=null&&a!==h&&(ft(a)?(u[a]=null,Q(c,a)&&(c[a]=null)):zt(a)&&(a.value=null)),j(h))Se(h,l,12,[o,u]);else{const f=ft(h),m=zt(h);if(f||m){const v=()=>{if(i.f){const p=f?Q(c,h)?c[h]:u[h]:h.value;n?F(p)&&Kn(p,r):F(p)?p.includes(r)||p.push(r):f?(u[h]=[r],Q(c,h)&&(c[h]=u[h])):(h.value=[r],i.k&&(u[i.k]=h.value))}else f?(u[h]=o,Q(c,h)&&(c[h]=o)):m&&(h.value=o,i.k&&(u[i.k]=o))};o?(v.id=-1,Lt(v,e)):v()}}}const Lt=Ga;function Tu(i){return Lu(i)}function Lu(i,t){const e=_l();e.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:l,createComment:h,setText:a,setElementText:u,parentNode:c,nextSibling:f,setScopeId:m=At,insertStaticContent:v}=i,p=(d,g,_,M=null,C=null,k=null,I=void 0,T=null,N=!!g.dynamicChildren)=>{if(d===g)return;d&&!Re(d,g)&&(M=Vi(d),Qt(d,C,k,!0),d=null),g.patchFlag===-2&&(N=!1,g.dynamicChildren=null);const{type:E,ref:P,shapeFlag:B}=g;switch(E){case Ts:w(d,g,_,M);break;case Bt:x(d,g,_,M);break;case Xs:d==null&&y(g,_,M,I);break;case ct:A(d,g,_,M,C,k,I,T,N);break;default:B&1?z(d,g,_,M,C,k,I,T,N):B&6?et(d,g,_,M,C,k,I,T,N):(B&64||B&128)&&E.process(d,g,_,M,C,k,I,T,N,Ke)}P!=null&&C&&Rn(P,d&&d.ref,k,g||d,!g)},w=(d,g,_,M)=>{if(d==null)s(g.el=l(g.children),_,M);else{const C=g.el=d.el;g.children!==d.children&&a(C,g.children)}},x=(d,g,_,M)=>{d==null?s(g.el=h(g.children||""),_,M):g.el=d.el},y=(d,g,_,M)=>{[d.el,d.anchor]=v(d.children,g,_,M,d.el,d.anchor)},b=({el:d,anchor:g},_,M)=>{let C;for(;d&&d!==g;)C=f(d),s(d,_,M),d=C;s(g,_,M)},S=({el:d,anchor:g})=>{let _;for(;d&&d!==g;)_=f(d),n(d),d=_;n(g)},z=(d,g,_,M,C,k,I,T,N)=>{g.type==="svg"?I="svg":g.type==="math"&&(I="mathml"),d==null?L(g,_,M,C,k,I,T,N):Y(d,g,C,k,I,T,N)},L=(d,g,_,M,C,k,I,T)=>{let N,E;const{props:P,shapeFlag:B,transition:$,dirs:V}=d;if(N=d.el=o(d.type,k,P&&P.is,P),B&8?u(N,d.children):B&16&&R(d.children,N,null,M,C,Qs(d,k),I,T),V&&ze(d,null,M,"created"),D(N,d,d.scopeId,I,M),P){for(const tt in P)tt!=="value"&&!vi(tt)&&r(N,tt,null,P[tt],k,d.children,M,C,ne);"value"in P&&r(N,"value",null,P.value,k),(E=P.onVnodeBeforeMount)&&Gt(E,M,d)}V&&ze(d,null,M,"beforeMount");const U=ku(C,$);U&&$.beforeEnter(N),s(N,g,_),((E=P&&P.onVnodeMounted)||U||V)&&Lt(()=>{E&&Gt(E,M,d),U&&$.enter(N),V&&ze(d,null,M,"mounted")},C)},D=(d,g,_,M,C)=>{if(_&&m(d,_),M)for(let k=0;k<M.length;k++)m(d,M[k]);if(C){let k=C.subTree;if(g===k){const I=C.vnode;D(d,I,I.scopeId,I.slotScopeIds,C.parent)}}},R=(d,g,_,M,C,k,I,T,N=0)=>{for(let E=N;E<d.length;E++){const P=d[E]=T?we(d[E]):te(d[E]);p(null,P,g,_,M,C,k,I,T)}},Y=(d,g,_,M,C,k,I)=>{const T=g.el=d.el;let{patchFlag:N,dynamicChildren:E,dirs:P}=g;N|=d.patchFlag&16;const B=d.props||lt,$=g.props||lt;let V;if(_&&Te(_,!1),(V=$.onVnodeBeforeUpdate)&&Gt(V,_,g,d),P&&ze(g,d,_,"beforeUpdate"),_&&Te(_,!0),E?q(d.dynamicChildren,E,T,_,M,Qs(g,C),k):I||X(d,g,T,null,_,M,Qs(g,C),k,!1),N>0){if(N&16)dt(T,g,B,$,_,M,C);else if(N&2&&B.class!==$.class&&r(T,"class",null,$.class,C),N&4&&r(T,"style",B.style,$.style,C),N&8){const U=g.dynamicProps;for(let tt=0;tt<U.length;tt++){const ot=U[tt],vt=B[ot],Wt=$[ot];(Wt!==vt||ot==="value")&&r(T,ot,vt,Wt,C,d.children,_,M,ne)}}N&1&&d.children!==g.children&&u(T,g.children)}else!I&&E==null&&dt(T,g,B,$,_,M,C);((V=$.onVnodeUpdated)||P)&&Lt(()=>{V&&Gt(V,_,g,d),P&&ze(g,d,_,"updated")},M)},q=(d,g,_,M,C,k,I)=>{for(let T=0;T<g.length;T++){const N=d[T],E=g[T],P=N.el&&(N.type===ct||!Re(N,E)||N.shapeFlag&70)?c(N.el):_;p(N,E,P,null,M,C,k,I,!0)}},dt=(d,g,_,M,C,k,I)=>{if(_!==M){if(_!==lt)for(const T in _)!vi(T)&&!(T in M)&&r(d,T,_[T],null,I,g.children,C,k,ne);for(const T in M){if(vi(T))continue;const N=M[T],E=_[T];N!==E&&T!=="value"&&r(d,T,E,N,I,g.children,C,k,ne)}"value"in M&&r(d,"value",_.value,M.value,I)}},A=(d,g,_,M,C,k,I,T,N)=>{const E=g.el=d?d.el:l(""),P=g.anchor=d?d.anchor:l("");let{patchFlag:B,dynamicChildren:$,slotScopeIds:V}=g;V&&(T=T?T.concat(V):V),d==null?(s(E,_,M),s(P,_,M),R(g.children||[],_,P,C,k,I,T,N)):B>0&&B&64&&$&&d.dynamicChildren?(q(d.dynamicChildren,$,_,C,k,I,T),(g.key!=null||C&&g===C.subTree)&&oh(d,g,!0)):X(d,g,_,P,C,k,I,T,N)},et=(d,g,_,M,C,k,I,T,N)=>{g.slotScopeIds=T,d==null?g.shapeFlag&512?C.ctx.activate(g,_,M,I,N):gt(g,_,M,C,k,I,N):fe(d,g,N)},gt=(d,g,_,M,C,k,I)=>{const T=d.component=Fu(d,M,C);if(Os(d)&&(T.ctx.renderer=Ke),Wu(T),T.asyncDep){if(C&&C.registerDep(T,ht),!d.el){const N=T.subTree=nt(Bt);x(null,N,g,_)}}else ht(T,d,g,_,C,k,I)},fe=(d,g,_)=>{const M=g.component=d.component;if(Ya(d,g,_))if(M.asyncDep&&!M.asyncResolved){it(M,g,_);return}else M.next=g,Wa(M.update),M.effect.dirty=!0,M.update();else g.el=d.el,M.vnode=g},ht=(d,g,_,M,C,k,I)=>{const T=()=>{if(d.isMounted){let{next:P,bu:B,u:$,parent:V,vnode:U}=d;{const Ze=lh(d);if(Ze){P&&(P.el=U.el,it(d,P,I)),Ze.asyncDep.then(()=>{d.isUnmounted||T()});return}}let tt=P,ot;Te(d,!1),P?(P.el=U.el,it(d,P,I)):P=U,B&&Us(B),(ot=P.props&&P.props.onVnodeBeforeUpdate)&&Gt(ot,V,P,U),Te(d,!0);const vt=Zs(d),Wt=d.subTree;d.subTree=vt,p(Wt,vt,c(Wt.el),Vi(Wt),d,C,k),P.el=vt.el,tt===null&&qa(d,vt.el),$&&Lt($,C),(ot=P.props&&P.props.onVnodeUpdated)&&Lt(()=>Gt(ot,V,P,U),C)}else{let P;const{el:B,props:$}=g,{bm:V,m:U,parent:tt}=d,ot=gi(g);if(Te(d,!1),V&&Us(V),!ot&&(P=$&&$.onVnodeBeforeMount)&&Gt(P,tt,g),Te(d,!0),B&&js){const vt=()=>{d.subTree=Zs(d),js(B,d.subTree,d,C,null)};ot?g.type.__asyncLoader().then(()=>!d.isUnmounted&&vt()):vt()}else{const vt=d.subTree=Zs(d);p(null,vt,_,M,d,C,k),g.el=vt.el}if(U&&Lt(U,C),!ot&&(P=$&&$.onVnodeMounted)){const vt=g;Lt(()=>Gt(P,tt,vt),C)}(g.shapeFlag&256||tt&&gi(tt.vnode)&&tt.vnode.shapeFlag&256)&&d.a&&Lt(d.a,C),d.isMounted=!0,g=_=M=null}},N=d.effect=new qn(T,At,()=>sr(E),d.scope),E=d.update=()=>{N.dirty&&N.run()};E.id=d.uid,Te(d,!0),E()},it=(d,g,_)=>{g.component=d;const M=d.vnode.props;d.vnode=g,d.next=null,Cu(d,g.props,M,_),zu(d,g.children,_),He(),Fr(d),Ue()},X=(d,g,_,M,C,k,I,T,N=!1)=>{const E=d&&d.children,P=d?d.shapeFlag:0,B=g.children,{patchFlag:$,shapeFlag:V}=g;if($>0){if($&128){de(E,B,_,M,C,k,I,T,N);return}else if($&256){Ft(E,B,_,M,C,k,I,T,N);return}}V&8?(P&16&&ne(E,C,k),B!==E&&u(_,B)):P&16?V&16?de(E,B,_,M,C,k,I,T,N):ne(E,C,k,!0):(P&8&&u(_,""),V&16&&R(B,_,M,C,k,I,T,N))},Ft=(d,g,_,M,C,k,I,T,N)=>{d=d||Je,g=g||Je;const E=d.length,P=g.length,B=Math.min(E,P);let $;for($=0;$<B;$++){const V=g[$]=N?we(g[$]):te(g[$]);p(d[$],V,_,null,C,k,I,T,N)}E>P?ne(d,C,k,!0,!1,B):R(g,_,M,C,k,I,T,N,B)},de=(d,g,_,M,C,k,I,T,N)=>{let E=0;const P=g.length;let B=d.length-1,$=P-1;for(;E<=B&&E<=$;){const V=d[E],U=g[E]=N?we(g[E]):te(g[E]);if(Re(V,U))p(V,U,_,null,C,k,I,T,N);else break;E++}for(;E<=B&&E<=$;){const V=d[B],U=g[$]=N?we(g[$]):te(g[$]);if(Re(V,U))p(V,U,_,null,C,k,I,T,N);else break;B--,$--}if(E>B){if(E<=$){const V=$+1,U=V<P?g[V].el:M;for(;E<=$;)p(null,g[E]=N?we(g[E]):te(g[E]),_,U,C,k,I,T,N),E++}}else if(E>$)for(;E<=B;)Qt(d[E],C,k,!0),E++;else{const V=E,U=E,tt=new Map;for(E=U;E<=$;E++){const It=g[E]=N?we(g[E]):te(g[E]);It.key!=null&&tt.set(It.key,E)}let ot,vt=0;const Wt=$-U+1;let Ze=!1,Tr=0;const ci=new Array(Wt);for(E=0;E<Wt;E++)ci[E]=0;for(E=V;E<=B;E++){const It=d[E];if(vt>=Wt){Qt(It,C,k,!0);continue}let Xt;if(It.key!=null)Xt=tt.get(It.key);else for(ot=U;ot<=$;ot++)if(ci[ot-U]===0&&Re(It,g[ot])){Xt=ot;break}Xt===void 0?Qt(It,C,k,!0):(ci[Xt-U]=E+1,Xt>=Tr?Tr=Xt:Ze=!0,p(It,g[Xt],_,null,C,k,I,T,N),vt++)}const Lr=Ze?Nu(ci):Je;for(ot=Lr.length-1,E=Wt-1;E>=0;E--){const It=U+E,Xt=g[It],kr=It+1<P?g[It+1].el:M;ci[E]===0?p(null,Xt,_,kr,C,k,I,T,N):Ze&&(ot<0||E!==Lr[ot]?Vt(Xt,_,kr,2):ot--)}}},Vt=(d,g,_,M,C=null)=>{const{el:k,type:I,transition:T,children:N,shapeFlag:E}=d;if(E&6){Vt(d.component.subTree,g,_,M);return}if(E&128){d.suspense.move(g,_,M);return}if(E&64){I.move(d,g,_,Ke);return}if(I===ct){s(k,g,_);for(let B=0;B<N.length;B++)Vt(N[B],g,_,M);s(d.anchor,g,_);return}if(I===Xs){b(d,g,_);return}if(M!==2&&E&1&&T)if(M===0)T.beforeEnter(k),s(k,g,_),Lt(()=>T.enter(k),C);else{const{leave:B,delayLeave:$,afterLeave:V}=T,U=()=>s(k,g,_),tt=()=>{B(k,()=>{U(),V&&V()})};$?$(k,U,tt):tt()}else s(k,g,_)},Qt=(d,g,_,M=!1,C=!1)=>{const{type:k,props:I,ref:T,children:N,dynamicChildren:E,shapeFlag:P,patchFlag:B,dirs:$}=d;if(T!=null&&Rn(T,null,_,d,!0),P&256){g.ctx.deactivate(d);return}const V=P&1&&$,U=!gi(d);let tt;if(U&&(tt=I&&I.onVnodeBeforeUnmount)&&Gt(tt,g,d),P&6)Jh(d.component,_,M);else{if(P&128){d.suspense.unmount(_,M);return}V&&ze(d,null,g,"beforeUnmount"),P&64?d.type.remove(d,g,_,C,Ke,M):E&&(k!==ct||B>0&&B&64)?ne(E,g,_,!1,!0):(k===ct&&B&384||!C&&P&16)&&ne(N,g,_),M&&Or(d)}(U&&(tt=I&&I.onVnodeUnmounted)||V)&&Lt(()=>{tt&&Gt(tt,g,d),V&&ze(d,null,g,"unmounted")},_)},Or=d=>{const{type:g,el:_,anchor:M,transition:C}=d;if(g===ct){Gh(_,M);return}if(g===Xs){S(d);return}const k=()=>{n(_),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:I,delayLeave:T}=C,N=()=>I(_,k);T?T(d.el,k,N):N()}else k()},Gh=(d,g)=>{let _;for(;d!==g;)_=f(d),n(d),d=_;n(g)},Jh=(d,g,_)=>{const{bum:M,scope:C,update:k,subTree:I,um:T}=d;M&&Us(M),C.stop(),k&&(k.active=!1,Qt(I,d,g,_)),T&&Lt(T,g),Lt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ne=(d,g,_,M=!1,C=!1,k=0)=>{for(let I=k;I<d.length;I++)Qt(d[I],g,_,M,C)},Vi=d=>d.shapeFlag&6?Vi(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el);let Vs=!1;const zr=(d,g,_)=>{d==null?g._vnode&&Qt(g._vnode,null,null,!0):p(g._vnode||null,d,g,null,null,null,_),Vs||(Vs=!0,Fr(),Vl(),Vs=!1),g._vnode=d},Ke={p,um:Qt,m:Vt,r:Or,mt:gt,mc:R,pc:X,pbc:q,n:Vi,o:i};let Ws,js;return t&&([Ws,js]=t(Ke)),{render:zr,hydrate:Ws,createApp:Su(zr,Ws)}}function Qs({type:i,props:t},e){return e==="svg"&&i==="foreignObject"||e==="mathml"&&i==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function Te({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function ku(i,t){return(!i||i&&!i.pendingBranch)&&t&&!t.persisted}function oh(i,t,e=!1){const s=i.children,n=t.children;if(F(s)&&F(n))for(let r=0;r<s.length;r++){const o=s[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=we(n[r]),l.el=o.el),e||oh(o,l)),l.type===Ts&&(l.el=o.el)}}function Nu(i){const t=i.slice(),e=[0];let s,n,r,o,l;const h=i.length;for(s=0;s<h;s++){const a=i[s];if(a!==0){if(n=e[e.length-1],i[n]<a){t[s]=n,e.push(s);continue}for(r=0,o=e.length-1;r<o;)l=r+o>>1,i[e[l]]<a?r=l+1:o=l;a<i[e[r]]&&(r>0&&(t[s]=e[r-1]),e[r]=s)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function lh(i){const t=i.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lh(t)}const Iu=i=>i.__isTeleport,ct=Symbol.for("v-fgt"),Ts=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Xs=Symbol.for("v-stc"),wi=[];let Kt=null;function at(i=!1){wi.push(Kt=i?null:[])}function Ru(){wi.pop(),Kt=wi[wi.length-1]||null}let zi=1;function Xr(i){zi+=i}function hh(i){return i.dynamicChildren=zi>0?Kt||Je:null,Ru(),zi>0&&Kt&&Kt.push(i),i}function Et(i,t,e,s,n,r){return hh(J(i,t,e,s,n,r,!0))}function Ee(i,t,e,s,n){return hh(nt(i,t,e,s,n,!0))}function ps(i){return i?i.__v_isVNode===!0:!1}function Re(i,t){return i.type===t.type&&i.key===t.key}const Ls="__vInternal",ah=({key:i})=>i??null,ls=({ref:i,ref_key:t,ref_for:e})=>(typeof i=="number"&&(i=""+i),i!=null?ft(i)||zt(i)||j(i)?{i:Ct,r:i,k:t,f:!!e}:i:null);function J(i,t=null,e=null,s=0,n=null,r=i===ct?0:1,o=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&ah(t),ref:t&&ls(t),scopeId:Hl,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ct};return l?(lr(h,e),r&128&&i.normalize(h)):e&&(h.shapeFlag|=ft(e)?8:16),zi>0&&!o&&Kt&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&Kt.push(h),h}const nt=Pu;function Pu(i,t=null,e=null,s=0,n=null,r=!1){if((!i||i===Qa)&&(i=Bt),ps(i)){const l=he(i,t,!0);return e&&lr(l,e),zi>0&&!r&&Kt&&(l.shapeFlag&6?Kt[Kt.indexOf(i)]=l:Kt.push(l)),l.patchFlag|=-2,l}if(Ku(i)&&(i=i.__vccOpts),t){t=Au(t);let{class:l,style:h}=t;l&&!ft(l)&&(t.class=se(l)),rt(h)&&(Rl(h)&&!F(h)&&(h=pt({},h)),t.style=Yn(h))}const o=ft(i)?1:Xa(i)?128:Iu(i)?64:rt(i)?4:j(i)?2:0;return J(i,t,e,s,n,o,r,!0)}function Au(i){return i?Rl(i)||Ls in i?pt({},i):i:null}function he(i,t,e=!1){const{props:s,ref:n,patchFlag:r,children:o}=i,l=t?$u(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:l,key:l&&ah(l),ref:t&&t.ref?e&&n?F(n)?n.concat(ls(t)):[n,ls(t)]:ls(t):n,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==ct?r===-1?16:r|16:r,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&he(i.ssContent),ssFallback:i.ssFallback&&he(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function uh(i=" ",t=0){return nt(Ts,null,i,t)}function ms(i="",t=!1){return t?(at(),Ee(Bt,null,i)):nt(Bt,null,i)}function te(i){return i==null||typeof i=="boolean"?nt(Bt):F(i)?nt(ct,null,i.slice()):typeof i=="object"?we(i):nt(Ts,null,String(i))}function we(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:he(i)}function lr(i,t){let e=0;const{shapeFlag:s}=i;if(t==null)t=null;else if(F(t))e=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),lr(i,n()),n._c&&(n._d=!0));return}else{e=32;const n=t._;!n&&!(Ls in t)?t._ctx=Ct:n===3&&Ct&&(Ct.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else j(t)?(t={default:t,_ctx:Ct},e=32):(t=String(t),s&64?(e=16,t=[uh(t)]):e=8);i.children=t,i.shapeFlag|=e}function $u(...i){const t={};for(let e=0;e<i.length;e++){const s=i[e];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=se([t.class,s.class]));else if(n==="style")t.style=Yn([t.style,s.style]);else if(ws(n)){const r=t[n],o=s[n];o&&r!==o&&!(F(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=s[n])}return t}function Gt(i,t,e,s=null){$t(i,t,7,[e,s])}const Du=th();let Bu=0;function Fu(i,t,e){const s=i.type,n=(t?t.appContext:i.appContext)||Du,r={uid:Bu++,vnode:i,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new da(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ih(s,n),emitsOptions:jl(s,n),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:s.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ua.bind(null,r),i.ce&&i.ce(r),r}let xt=null;const Vu=()=>xt||Ct;let vs,Pn;{const i=_l(),t=(e,s)=>{let n;return(n=i[e])||(n=i[e]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};vs=t("__VUE_INSTANCE_SETTERS__",e=>xt=e),Pn=t("__VUE_SSR_SETTERS__",e=>ks=e)}const $i=i=>{const t=xt;return vs(i),i.scope.on(),()=>{i.scope.off(),vs(t)}},Gr=()=>{xt&&xt.scope.off(),vs(null)};function ch(i){return i.vnode.shapeFlag&4}let ks=!1;function Wu(i,t=!1){t&&Pn(t);const{props:e,children:s}=i.vnode,n=ch(i);Mu(i,e,n,t),Ou(i,s);const r=n?ju(i,t):void 0;return t&&Pn(!1),r}function ju(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=Pl(new Proxy(i.ctx,vu));const{setup:s}=e;if(s){const n=i.setupContext=s.length>1?Uu(i):null,r=$i(i);He();const o=Se(s,i,0,[i.props,n]);if(Ue(),r(),ml(o)){if(o.then(Gr,Gr),t)return o.then(l=>{Jr(i,l,t)}).catch(l=>{Cs(l,i,0)});i.asyncDep=o}else Jr(i,o,t)}else fh(i,t)}function Jr(i,t,e){j(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:rt(t)&&(i.setupState=Dl(t)),fh(i,e)}let to;function fh(i,t,e){const s=i.type;if(!i.render){if(!t&&to&&!s.render){const n=s.template||rr(i).template;if(n){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:l,compilerOptions:h}=s,a=pt(pt({isCustomElement:r,delimiters:l},o),h);s.render=to(n,a)}}i.render=s.render||At}{const n=$i(i);He();try{gu(i)}finally{Ue(),n()}}}function Hu(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(t,e){return Nt(i,"get","$attrs"),t[e]}}))}function Uu(i){const t=e=>{i.exposed=e||{}};return{get attrs(){return Hu(i)},slots:i.slots,emit:i.emit,expose:t}}function hr(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Dl(Pl(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in bi)return bi[e](i)},has(t,e){return e in t||e in bi}}))}function Ku(i){return j(i)&&"__vccOpts"in i}const H=(i,t)=>Aa(i,t,ks);function ae(i,t,e){const s=arguments.length;return s===2?rt(t)&&!F(t)?ps(t)?nt(i,null,[t]):nt(i,t):nt(i,null,t):(s>3?e=Array.prototype.slice.call(arguments,2):s===3&&ps(e)&&(e=[e]),nt(i,t,e))}const Zu="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yu="http://www.w3.org/2000/svg",qu="http://www.w3.org/1998/Math/MathML",ye=typeof document<"u"?document:null,eo=ye&&ye.createElement("template"),Qu={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,s)=>{const n=t==="svg"?ye.createElementNS(Yu,i):t==="mathml"?ye.createElementNS(qu,i):ye.createElement(i,e?{is:e}:void 0);return i==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:i=>ye.createTextNode(i),createComment:i=>ye.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>ye.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,e,s,n,r){const o=e?e.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),e),!(n===r||!(n=n.nextSibling)););else{eo.innerHTML=s==="svg"?`<svg>${i}</svg>`:s==="mathml"?`<math>${i}</math>`:i;const l=eo.content;if(s==="svg"||s==="mathml"){const h=l.firstChild;for(;h.firstChild;)l.appendChild(h.firstChild);l.removeChild(h)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},me="transition",fi="animation",Ti=Symbol("_vtc"),ar=(i,{slots:t})=>ae(nu,Xu(i),t);ar.displayName="Transition";const dh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ar.props=pt({},Kl,dh);const Le=(i,t=[])=>{F(i)?i.forEach(e=>e(...t)):i&&i(...t)},io=i=>i?F(i)?i.some(t=>t.length>1):i.length>1:!1;function Xu(i){const t={};for(const A in i)A in dh||(t[A]=i[A]);if(i.css===!1)return t;const{name:e="v",type:s,duration:n,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:l=`${e}-enter-to`,appearFromClass:h=r,appearActiveClass:a=o,appearToClass:u=l,leaveFromClass:c=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:m=`${e}-leave-to`}=i,v=Gu(n),p=v&&v[0],w=v&&v[1],{onBeforeEnter:x,onEnter:y,onEnterCancelled:b,onLeave:S,onLeaveCancelled:z,onBeforeAppear:L=x,onAppear:D=y,onAppearCancelled:R=b}=t,Y=(A,et,gt)=>{ke(A,et?u:l),ke(A,et?a:o),gt&&gt()},q=(A,et)=>{A._isLeaving=!1,ke(A,c),ke(A,m),ke(A,f),et&&et()},dt=A=>(et,gt)=>{const fe=A?D:y,ht=()=>Y(et,A,gt);Le(fe,[et,ht]),so(()=>{ke(et,A?h:r),ve(et,A?u:l),io(fe)||no(et,s,p,ht)})};return pt(t,{onBeforeEnter(A){Le(x,[A]),ve(A,r),ve(A,o)},onBeforeAppear(A){Le(L,[A]),ve(A,h),ve(A,a)},onEnter:dt(!1),onAppear:dt(!0),onLeave(A,et){A._isLeaving=!0;const gt=()=>q(A,et);ve(A,c),ec(),ve(A,f),so(()=>{A._isLeaving&&(ke(A,c),ve(A,m),io(S)||no(A,s,w,gt))}),Le(S,[A,gt])},onEnterCancelled(A){Y(A,!1),Le(b,[A])},onAppearCancelled(A){Y(A,!0),Le(R,[A])},onLeaveCancelled(A){q(A),Le(z,[A])}})}function Gu(i){if(i==null)return null;if(rt(i))return[Gs(i.enter),Gs(i.leave)];{const t=Gs(i);return[t,t]}}function Gs(i){return oa(i)}function ve(i,t){t.split(/\s+/).forEach(e=>e&&i.classList.add(e)),(i[Ti]||(i[Ti]=new Set)).add(t)}function ke(i,t){t.split(/\s+/).forEach(s=>s&&i.classList.remove(s));const e=i[Ti];e&&(e.delete(t),e.size||(i[Ti]=void 0))}function so(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let Ju=0;function no(i,t,e,s){const n=i._endId=++Ju,r=()=>{n===i._endId&&s()};if(e)return setTimeout(r,e);const{type:o,timeout:l,propCount:h}=tc(i,t);if(!o)return s();const a=o+"end";let u=0;const c=()=>{i.removeEventListener(a,f),r()},f=m=>{m.target===i&&++u>=h&&c()};setTimeout(()=>{u<h&&c()},l+1),i.addEventListener(a,f)}function tc(i,t){const e=window.getComputedStyle(i),s=v=>(e[v]||"").split(", "),n=s(`${me}Delay`),r=s(`${me}Duration`),o=ro(n,r),l=s(`${fi}Delay`),h=s(`${fi}Duration`),a=ro(l,h);let u=null,c=0,f=0;t===me?o>0&&(u=me,c=o,f=r.length):t===fi?a>0&&(u=fi,c=a,f=h.length):(c=Math.max(o,a),u=c>0?o>a?me:fi:null,f=u?u===me?r.length:h.length:0);const m=u===me&&/\b(transform|all)(,|$)/.test(s(`${me}Property`).toString());return{type:u,timeout:c,propCount:f,hasTransform:m}}function ro(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,s)=>oo(e)+oo(i[s])))}function oo(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function ec(){return document.body.offsetHeight}function ic(i,t,e){const s=i[Ti];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}const lo=Symbol("_vod"),sc=Symbol("_vsh"),nc=Symbol(""),rc=/(^|;)\s*display\s*:/;function oc(i,t,e){const s=i.style,n=ft(e);let r=!1;if(e&&!n){if(t)if(ft(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();e[l]==null&&hs(s,l,"")}else for(const o in t)e[o]==null&&hs(s,o,"");for(const o in e)o==="display"&&(r=!0),hs(s,o,e[o])}else if(n){if(t!==e){const o=s[nc];o&&(e+=";"+o),s.cssText=e,r=rc.test(e)}}else t&&i.removeAttribute("style");lo in i&&(i[lo]=r?s.display:"",i[sc]&&(s.display="none"))}const ho=/\s*!important$/;function hs(i,t,e){if(F(e))e.forEach(s=>hs(i,t,s));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const s=lc(i,t);ho.test(e)?i.setProperty(ui(s),e.replace(ho,""),"important"):i[s]=e}}const ao=["Webkit","Moz","ms"],Js={};function lc(i,t){const e=Js[t];if(e)return e;let s=ni(t);if(s!=="filter"&&s in i)return Js[t]=s;s=bl(s);for(let n=0;n<ao.length;n++){const r=ao[n]+s;if(r in i)return Js[t]=r}return t}const uo="http://www.w3.org/1999/xlink";function hc(i,t,e,s,n){if(s&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(uo,t.slice(6,t.length)):i.setAttributeNS(uo,t,e);else{const r=fa(t);e==null||r&&!wl(e)?i.removeAttribute(t):i.setAttribute(t,r?"":e)}}function ac(i,t,e,s,n,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,n,r),i[t]=e??"";return}const l=i.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const a=l==="OPTION"?i.getAttribute("value")||"":i.value,u=e??"";(a!==u||!("_value"in i))&&(i.value=u),e==null&&i.removeAttribute(t),i._value=e;return}let h=!1;if(e===""||e==null){const a=typeof i[t];a==="boolean"?e=wl(e):e==null&&a==="string"?(e="",h=!0):a==="number"&&(e=0,h=!0)}try{i[t]=e}catch{}h&&i.removeAttribute(t)}function uc(i,t,e,s){i.addEventListener(t,e,s)}function cc(i,t,e,s){i.removeEventListener(t,e,s)}const co=Symbol("_vei");function fc(i,t,e,s,n=null){const r=i[co]||(i[co]={}),o=r[t];if(s&&o)o.value=s;else{const[l,h]=dc(t);if(s){const a=r[t]=vc(s,n);uc(i,l,a,h)}else o&&(cc(i,l,o,h),r[t]=void 0)}}const fo=/(?:Once|Passive|Capture)$/;function dc(i){let t;if(fo.test(i)){t={};let s;for(;s=i.match(fo);)i=i.slice(0,i.length-s[0].length),t[s[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):ui(i.slice(2)),t]}let tn=0;const pc=Promise.resolve(),mc=()=>tn||(pc.then(()=>tn=0),tn=Date.now());function vc(i,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;$t(gc(s,e.value),t,5,[s])};return e.value=i,e.attached=mc(),e}function gc(i,t){if(F(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const po=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,bc=(i,t,e,s,n,r,o,l,h)=>{const a=n==="svg";t==="class"?ic(i,s,a):t==="style"?oc(i,e,s):ws(t)?Un(t)||fc(i,t,e,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_c(i,t,s,a))?ac(i,t,s,r,o,l,h):(t==="true-value"?i._trueValue=s:t==="false-value"&&(i._falseValue=s),hc(i,t,s,a))};function _c(i,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in i&&po(t)&&j(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=i.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return po(t)&&ft(e)?!1:t in i}const wc=["ctrl","shift","alt","meta"],yc={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>wc.some(e=>i[`${e}Key`]&&!t.includes(e))},xc=(i,t)=>{const e=i._withMods||(i._withMods={}),s=t.join(".");return e[s]||(e[s]=(n,...r)=>{for(let o=0;o<t.length;o++){const l=yc[t[o]];if(l&&l(n,t))return}return i(n,...r)})},Sc=pt({patchProp:bc},Qu);let mo;function Mc(){return mo||(mo=Tu(Sc))}const Cc=(...i)=>{const t=Mc().createApp(...i),{mount:e}=t;return t.mount=s=>{const n=Oc(s);if(!n)return;const r=t._component;!j(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=e(n,!1,Ec(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Ec(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function Oc(i){return ft(i)?document.querySelector(i):i}function st(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Be(i,t){return i.width===t.width&&i.height===t.height}var zc=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(n){return n!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function Tc(i){return new zc(i)}var Lc=function(){function i(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=st({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return st({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=st(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Be(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=st(this._transformBitmapSize(t,this._canvasElementClientSize)),n=Be(this.bitmapSize,s)?null:s;e===null&&n===null||e!==null&&n!==null&&Be(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Nc().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=vo(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Tc(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=vo(this._canvasElement);if(s!==null){var n=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?Ic(r[0],n):st({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],r=st({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function kc(i,t){if(t.type==="device-pixel-content-box")return new Lc(i,t.transform,t.options);throw new Error("Unsupported binding target")}function vo(i){return i.ownerDocument.defaultView}function Nc(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Ic(i,t){return st({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var Rc=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function Fe(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var n=i.canvasElement.getContext("2d",t);return n===null?null:new Rc(n,e,s)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.1.3
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Pc={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Ac={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},$c={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Dc={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Bc={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fc={color:"#26a69a",base:0},ph={color:"#2196f3"},mh={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var go,bo;function Ve(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function vh(i,t,e,s){i.beginPath();const n=i.lineWidth%2?.5:0;i.moveTo(e,t+n),i.lineTo(s,t+n),i.stroke()}function Oe(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function Tt(i){if(i===void 0)throw new Error("Value is undefined");return i}function O(i){if(i===null)throw new Error("Value is null");return i}function Xe(i){return O(Tt(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(go||(go={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(bo||(bo={}));const _o={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Pt(i){return i<0?0:i>255?255:Math.round(i)||0}function gh(i){return i<=0||i>0?i<0?0:i>1?1:Math.round(1e4*i)/1e4:0}const Vc=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Wc=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,jc=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Hc=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function gs(i){(i=i.toLowerCase())in _o&&(i=_o[i]);{const t=Hc.exec(i)||jc.exec(i);if(t)return[Pt(parseInt(t[1],10)),Pt(parseInt(t[2],10)),Pt(parseInt(t[3],10)),gh(t.length<5?1:parseFloat(t[4]))]}{const t=Wc.exec(i);if(t)return[Pt(parseInt(t[1],16)),Pt(parseInt(t[2],16)),Pt(parseInt(t[3],16)),1]}{const t=Vc.exec(i);if(t)return[Pt(17*parseInt(t[1],16)),Pt(17*parseInt(t[2],16)),Pt(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${i}`)}function Ns(i){const t=gs(i);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class ut{constructor(){this.h=[]}l(t,e,s){const n={o:t,_:e,u:s===!0};this.h.push(n)}v(t){const e=this.h.findIndex(s=>t===s.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,s){const n=[...this.h];this.h=this.h.filter(r=>!r.u),n.forEach(r=>r.o(t,e,s))}M(){return this.h.length>0}S(){this.h=[]}}function Yt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Yt(i[s],e[s]));return i}function ie(i){return typeof i=="number"&&isFinite(i)}function Li(i){return typeof i=="number"&&i%1==0}function Di(i){return typeof i=="string"}function qi(i){return typeof i=="boolean"}function re(i){const t=i;if(!t||typeof t!="object")return t;let e,s,n;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(n=t[s],e[s]=n&&typeof n=="object"?re(n):n);return e}function Uc(i){return i!==null}function ki(i){return i===null?void 0:i}const ur="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function li(i,t,e){return t===void 0&&(t=ur),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}let Kc=class{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),s=this.H();return t.P===e&&t.D===s||(t.P=e,t.D=s,t.R=li(e,s),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}};class cr{constructor(){this.Y=[]}X(t){this.Y=t}K(t,e,s){this.Y.forEach(n=>{n.K(t,e,s)})}}let qt=class{K(t,e,s){t.useBitmapCoordinateSpace(n=>this.Z(n,e,s))}},Zc=class extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.G===null||this.G.tt===null)return;const n=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,l=h=>{t.beginPath();for(let a=n.to-1;a>=n.from;--a){const u=r.it[a],c=Math.round(u.nt*e)+o,f=u.st*s,m=h*s+o;t.moveTo(c,f),t.arc(c,f,m,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,l(r.ht+r.et)),t.fillStyle=r.lt,l(r.ht)}};function Yc(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const qc={from:0,to:1};class Qc{constructor(t,e){this.ut=new cr,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.X(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(Yc),this.ct=this.dt.map(s=>{const n=new Zc;return n.J(s),n}),this.ut.X(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),s=this.vt.xt(),n=this.F.St();e.forEach((r,o)=>{var l;const h=this.dt[o],a=r.kt(s);if(t||a===null||!r.yt())return void(h.tt=null);const u=O(r.Ct());h.lt=a.Tt,h.ht=a.ht,h.et=a.Pt,h.it[0]._t=a._t,h.it[0].st=r.Dt().Rt(a._t,u.Ot),h.rt=(l=a.At)!==null&&l!==void 0?l:this.F.Vt(h.it[0].st/r.Dt().Bt()),h.it[0].ot=s,h.it[0].nt=n.It(s),h.tt=qc})}}class Xc extends qt{constructor(t){super(),this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*s),h=Math.round(this.zt.st*n);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*s),t.strokeStyle=this.zt.Lt.O,t.fillStyle=this.zt.Lt.O,Ve(t,this.zt.Lt.Nt),function(a,u,c,f){a.beginPath();const m=a.lineWidth%2?.5:0;a.moveTo(u+m,c),a.lineTo(u+m,f),a.stroke()}(t,l,0,e.height)),o&&h>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*n),t.strokeStyle=this.zt.Et.O,t.fillStyle=this.zt.Et.O,Ve(t,this.zt.Et.Nt),vh(t,h,0,e.width))}}class Gc{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,O:"",yt:!1},Et:{et:1,Nt:0,O:"",yt:!1},nt:0,st:0},this.Wt=new Xc(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=O(this.jt.Ht()),s=e.$t().W().crosshair,n=this.Ft;if(s.mode===2)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=s.horzLine.width,n.Et.Nt=s.horzLine.style,n.Et.O=s.horzLine.color,n.Lt.et=s.vertLine.width,n.Lt.Nt=s.vertLine.style,n.Lt.O=s.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Xt()}}function Jc(i,t,e,s,n,r){i.fillRect(t+r,e,s-2*r,r),i.fillRect(t+r,e+n-r,s-2*r,r),i.fillRect(t,e,r,n),i.fillRect(t+s-r,e,r,n)}function Is(i,t,e,s,n,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,s,n),i.restore()}function wo(i,t){return i.map(e=>e===0?e:e+t)}function en(i,t,e,s,n,r){i.beginPath(),i.lineTo(t+s-r[1],e),r[1]!==0&&i.arcTo(t+s,e,t+s,e+r[1],r[1]),i.lineTo(t+s,e+n-r[2]),r[2]!==0&&i.arcTo(t+s,e+n,t+s-r[2],e+n,r[2]),i.lineTo(t+r[3],e+n),r[3]!==0&&i.arcTo(t,e+n,t,e+n-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0])}function yo(i,t,e,s,n,r,o=0,l=[0,0,0,0],h=""){if(i.save(),!o||!h||h===r)return en(i,t,e,s,n,l),i.fillStyle=r,i.fill(),void i.restore();const a=o/2;r!=="transparent"&&(en(i,t+o,e+o,s-2*o,n-2*o,wo(l,-o)),i.fillStyle=r,i.fill()),h!=="transparent"&&(en(i,t+a,e+a,s-o,n-o,wo(l,-a)),i.lineWidth=o,i.strokeStyle=h,i.closePath(),i.stroke()),i.restore()}function bh(i,t,e,s,n,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,s,n),i.restore()}class xo{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Kt=e}Bt(t,e){return this.zt.yt?t.P+t.L+t.V:0}K(t,e,s,n){if(!this.zt.yt||this.zt.Zt.length===0)return;const r=this.zt.O,o=this.Kt.t,l=t.useBitmapCoordinateSpace(h=>{const a=h.context;a.font=e.R;const u=this.Gt(h,e,s,n),c=u.Jt,f=(m,v)=>{u.Qt?yo(a,c.ti,c.ii,c.ni,c.si,m,c.ei,[c.ht,0,0,c.ht],v):yo(a,c.ri,c.ii,c.ni,c.si,m,c.ei,[0,c.ht,c.ht,0],v)};return f(o,"transparent"),this.zt.hi&&(a.fillStyle=r,a.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),f("transparent",o),this.zt._i&&(a.fillStyle=e.A,a.fillRect(u.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),u});t.useMediaCoordinateSpace(({context:h})=>{const a=l.di;h.font=e.R,h.textAlign=l.Qt?"right":"left",h.textBaseline="middle",h.fillStyle=r,h.fillText(this.zt.Zt,a.fi,(a.ii+a.ci)/2+a.vi)})}Gt(t,e,s,n){var r;const{context:o,bitmapSize:l,mediaSize:h,horizontalPixelRatio:a,verticalPixelRatio:u}=t,c=this.zt.hi||!this.zt.pi?e.T:0,f=this.zt.mi?e.C:0,m=e.L+this.Kt.bi,v=e.V+this.Kt.wi,p=e.B,w=e.I,x=this.zt.Zt,y=e.P,b=s.gi(o,x),S=Math.ceil(s.Mi(o,x)),z=y+m+v,L=e.C+p+w+S+c,D=Math.max(1,Math.floor(u));let R=Math.round(z*u);R%2!=D%2&&(R+=1);const Y=f>0?Math.max(1,Math.floor(f*a)):0,q=Math.round(L*a),dt=Math.round(c*a),A=(r=this.Kt.xi)!==null&&r!==void 0?r:this.Kt.Si,et=Math.round(A*u)-Math.floor(.5*u),gt=Math.floor(et+D/2-R/2),fe=gt+R,ht=n==="right",it=ht?h.width-f:f,X=ht?l.width-Y:Y;let Ft,de,Vt;return ht?(Ft=X-q,de=X-dt,Vt=it-c-p-f):(Ft=X+q,de=X+dt,Vt=it+c+p),{Qt:ht,Jt:{ii:gt,li:et,ci:fe,ni:q,si:R,ht:2*a,ei:Y,ti:Ft,ri:X,ai:de,oi:D,ui:l.width},di:{ii:gt/u,ci:fe/u,fi:Vt,vi:b}}}}class Rs{constructor(t){this.ki={Si:0,t:"#000",wi:0,bi:0},this.yi={Zt:"",yt:!1,hi:!0,pi:!1,At:"",O:"#FFF",_i:!1,mi:!1},this.Ci={Zt:"",yt:!1,hi:!1,pi:!0,At:"",O:"#FFF",_i:!0,mi:!0},this.ft=!0,this.Ti=new(t||xo)(this.yi,this.ki),this.Pi=new(t||xo)(this.Ci,this.ki)}Zt(){return this.Ri(),this.yi.Zt}Si(){return this.Ri(),this.ki.Si}bt(){this.ft=!0}Bt(t,e=!1){return Math.max(this.Ti.Bt(t,e),this.Pi.Bt(t,e))}Di(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Ri(),this.yi.yt||this.Ci.yt}Vi(){return this.Ri(),this.yi.yt}gt(t){return this.Ri(),this.yi.hi=this.yi.hi&&t.W().ticksVisible,this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Ti}Bi(){return this.Ri(),this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Pi}Ri(){this.ft&&(this.yi.hi=!0,this.Ci.hi=!1,this.Ii(this.yi,this.Ci,this.ki))}}class tf extends Rs{constructor(t,e,s){super(),this.jt=t,this.zi=e,this.Li=s}Ii(t,e,s){if(t.yt=!1,this.jt.W().mode===2)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.zi.Ct();if(!this.jt.yt()||this.zi.Ei()||r===null)return;const o=Ns(n.labelBackgroundColor);s.t=o.t,t.O=o.i;const l=2/12*this.zi.P();s.bi=l,s.wi=l;const h=this.Li(this.zi);s.Si=h.Si,t.Zt=this.zi.Ni(h._t,r),t.yt=!0}}const ef=/[1-9]/g;class _h{constructor(){this.zt=null}J(t){this.zt=t}K(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Zt.length===0)return;const s=t.useMediaCoordinateSpace(({context:f})=>(f.font=e.R,Math.round(e.Fi.Mi(f,O(this.zt).Zt,ef))));if(s<=0)return;const n=e.Wi,r=s+2*n,o=r/2,l=this.zt.ji;let h=this.zt.Si,a=Math.floor(h-o)+.5;a<0?(h+=Math.abs(0-a),a=Math.floor(h-o)+.5):a+r>l&&(h-=Math.abs(l-(a+r)),a=Math.floor(h-o)+.5);const u=a+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:m,verticalPixelRatio:v})=>{const p=O(this.zt);f.fillStyle=p.t;const w=Math.round(a*m),x=Math.round(0*v),y=Math.round(u*m),b=Math.round(c*v),S=Math.round(2*m);if(f.beginPath(),f.moveTo(w,x),f.lineTo(w,b-S),f.arcTo(w,b,w+S,b,S),f.lineTo(y-S,b),f.arcTo(y,b,y,b-S,S),f.lineTo(y,x),f.fill(),p.hi){const z=Math.round(p.Si*m),L=x,D=Math.round((L+e.T)*v);f.fillStyle=p.O;const R=Math.max(1,Math.floor(m)),Y=Math.floor(.5*m);f.fillRect(z-Y,L,R,D-L)}}),t.useMediaCoordinateSpace(({context:f})=>{const m=O(this.zt),v=0+e.C+e.T+e.L+e.P/2;f.font=e.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=m.O;const p=e.Fi.gi(f,"Apr0");f.translate(a+n,v+p),f.fillText(m.Zt,0,0)})}}class sf{constructor(t,e,s){this.ft=!0,this.Wt=new _h,this.Ft={yt:!1,t:"#4c525e",O:"white",Zt:"",ji:0,Si:NaN,hi:!0},this.vt=t,this.Hi=e,this.Li=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const s=this.Hi.St();if(s.Ei())return;t.ji=s.ji();const n=this.Li();if(n===null)return;t.Si=n.Si;const r=s.$i(this.vt.xt());t.Zt=s.Ui(O(r)),t.yt=!0;const o=Ns(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.hi=s.W().ticksVisible}}class fr{constructor(){this.qi=null,this.Yi=0}Xi(){return this.Yi}Ki(t){this.Yi=t}Dt(){return this.qi}Zi(t){this.qi=t}Gi(t){return[]}Ji(){return[]}yt(){return!0}}var So;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden"})(So||(So={}));class nf extends fr{constructor(t,e){super(),this.Qi=null,this.tn=NaN,this.nn=0,this.sn=!0,this.en=new Map,this.rn=!1,this.hn=NaN,this.ln=NaN,this.an=NaN,this.on=NaN,this.Hi=t,this._n=e,this.un=new Qc(t,this),this.cn=((n,r)=>o=>{const l=r(),h=n();if(o===O(this.Qi).dn())return{_t:h,Si:l};{const a=O(o.Ct());return{_t:o.fn(l,a),Si:l}}})(()=>this.tn,()=>this.ln);const s=((n,r)=>()=>{const o=this.Hi.St().vn(n()),l=r();return o&&Number.isFinite(l)?{ot:o,Si:l}:null})(()=>this.nn,()=>this.Yt());this.pn=new sf(this,t,s),this.mn=new Gc(this)}W(){return this._n}bn(t,e){this.an=t,this.on=e}wn(){this.an=NaN,this.on=NaN}gn(){return this.an}Mn(){return this.on}xn(t,e,s){this.rn||(this.rn=!0),this.sn=!0,this.Sn(t,e,s)}xt(){return this.nn}Yt(){return this.hn}Xt(){return this.ln}yt(){return this.sn}kn(){this.sn=!1,this.yn(),this.tn=NaN,this.hn=NaN,this.ln=NaN,this.Qi=null,this.wn()}Cn(t){return this.Qi!==null?[this.mn,this.un]:[]}Ut(t){return t===this.Qi&&this._n.horzLine.visible}qt(){return this._n.vertLine.visible}Tn(t,e){this.sn&&this.Qi===t||this.en.clear();const s=[];return this.Qi===t&&s.push(this.Pn(this.en,e,this.cn)),s}Ji(){return this.sn?[this.pn]:[]}Ht(){return this.Qi}Rn(){this.mn.bt(),this.en.forEach(t=>t.bt()),this.pn.bt(),this.un.bt()}Dn(t){return t&&!t.dn().Ei()?t.dn():null}Sn(t,e,s){this.On(t,e,s)&&this.Rn()}On(t,e,s){const n=this.hn,r=this.ln,o=this.tn,l=this.nn,h=this.Qi,a=this.Dn(s);this.nn=t,this.hn=isNaN(t)?NaN:this.Hi.St().It(t),this.Qi=s;const u=a!==null?a.Ct():null;return a!==null&&u!==null?(this.tn=e,this.ln=a.Rt(e,u)):(this.tn=NaN,this.ln=NaN),n!==this.hn||r!==this.ln||l!==this.nn||o!==this.tn||h!==this.Qi}yn(){const t=this.Hi.wt().map(s=>s.Vn().An()).filter(Uc),e=t.length===0?null:Math.max(...t);this.nn=e!==null?e:NaN}Pn(t,e,s){let n=t.get(e);return n===void 0&&(n=new tf(this,e,s),t.set(e,n)),n}}function Ps(i){return i==="left"||i==="right"}class bt{constructor(t){this.Bn=new Map,this.In=[],this.zn=t}Ln(t,e){const s=function(n,r){return n===void 0?r:{En:Math.max(n.En,r.En),Nn:n.Nn||r.Nn}}(this.Bn.get(t),e);this.Bn.set(t,s)}Fn(){return this.zn}Wn(t){const e=this.Bn.get(t);return e===void 0?{En:this.zn}:{En:Math.max(this.zn,e.En),Nn:e.Nn}}jn(){this.Hn(),this.In=[{$n:0}]}Un(t){this.Hn(),this.In=[{$n:1,Ot:t}]}qn(t){this.Yn(),this.In.push({$n:5,Ot:t})}Hn(){this.Yn(),this.In.push({$n:6})}Xn(){this.Hn(),this.In=[{$n:4}]}Kn(t){this.Hn(),this.In.push({$n:2,Ot:t})}Zn(t){this.Hn(),this.In.push({$n:3,Ot:t})}Gn(){return this.In}Jn(t){for(const e of t.In)this.Qn(e);this.zn=Math.max(this.zn,t.zn),t.Bn.forEach((e,s)=>{this.Ln(s,e)})}static ts(){return new bt(2)}static ns(){return new bt(3)}Qn(t){switch(t.$n){case 0:this.jn();break;case 1:this.Un(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Zn(t.Ot);break;case 4:this.Xn();break;case 5:this.qn(t.Ot);break;case 6:this.Yn()}}Yn(){const t=this.In.findIndex(e=>e.$n===5);t!==-1&&this.In.splice(t,1)}}const Mo=".";function oe(i,t){if(!ie(i))return"n/a";if(!Li(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class As{constructor(t,e){if(e||(e=1),ie(t)&&Li(t)||(t=100),t<0)throw new TypeError("invalid base");this.zi=t,this.ss=e,this.es()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.rs(t)}es(){if(this.hs=0,this.zi>0&&this.ss>0){let t=this.zi;for(;t>1;)t/=10,this.hs++}}rs(t){const e=this.zi/this.ss;let s=Math.floor(t),n="";const r=this.hs!==void 0?this.hs:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.hs);o>=e&&(o-=e,s+=1),n=Mo+oe(+o.toFixed(this.hs)*this.ss,r)}else s=Math.round(s*e)/e,r>0&&(n=Mo+oe(0,r));return s.toFixed(0)+n}}class wh extends As{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class rf{constructor(t){this.ls=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.os(t):t<999995?e+this.os(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.os(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.os(t/1e9)+"B")}os(t){let e;const s=Math.pow(10,this.ls);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.ls).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}function yh(i,t,e,s,n,r,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:l,horizontalPixelRatio:h,verticalPixelRatio:a}=i,u=t[s.from];let c=r(i,u),f=u;if(s.to-s.from<2){const m=n/2;l.beginPath();const v={nt:u.nt-m,st:u.st},p={nt:u.nt+m,st:u.st};l.moveTo(v.nt*h,v.st*a),l.lineTo(p.nt*h,p.st*a),o(i,c,v,p)}else{const m=(p,w)=>{o(i,c,f,w),l.beginPath(),c=p,f=w};let v=f;l.beginPath(),l.moveTo(u.nt*h,u.st*a);for(let p=s.from+1;p<s.to;++p){v=t[p];const w=r(i,v);switch(e){case 0:l.lineTo(v.nt*h,v.st*a);break;case 1:l.lineTo(v.nt*h,t[p-1].st*a),w!==c&&(m(w,v),l.lineTo(v.nt*h,t[p-1].st*a)),l.lineTo(v.nt*h,v.st*a);break;case 2:{const[x,y]=of(t,p-1,p);l.bezierCurveTo(x.nt*h,x.st*a,y.nt*h,y.st*a,v.nt*h,v.st*a);break}}e!==1&&w!==c&&(m(w,v),l.moveTo(v.nt*h,v.st*a))}(f!==v||f===v&&e===1)&&o(i,c,f,v)}}const Co=6;function sn(i,t){return{nt:i.nt-t.nt,st:i.st-t.st}}function Eo(i,t){return{nt:i.nt/t,st:i.st/t}}function of(i,t,e){const s=Math.max(0,t-1),n=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=Eo(sn(i[e],i[s]),Co),{nt:r.nt+o.nt,st:r.st+o.st}),sn(i[e],Eo(sn(i[n],i[t]),Co))]}function lf(i,t,e,s,n){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(n.nt*o,i*l),r.lineTo(s.nt*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class xh extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){var e;if(this.G===null)return;const{it:s,tt:n,_s:r,et:o,Nt:l,us:h}=this.G,a=(e=this.G.cs)!==null&&e!==void 0?e:this.G.ds?0:t.mediaSize.height;if(n===null)return;const u=t.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,Ve(u,l),u.lineWidth=1,yh(t,s,h,n,r,this.fs.bind(this),lf.bind(null,a))}}function An(i,t,e){return Math.min(Math.max(i,t),e)}function Qi(i,t,e){return t-i<=e}function Sh(i){const t=Math.ceil(i);return t%2==0?t-1:t}class dr{vs(t,e){const s=this.ps,{bs:n,ws:r,gs:o,Ms:l,xs:h,cs:a}=e;if(this.Ss===void 0||s===void 0||s.bs!==n||s.ws!==r||s.gs!==o||s.Ms!==l||s.cs!==a||s.xs!==h){const u=t.context.createLinearGradient(0,0,0,h);if(u.addColorStop(0,n),a!=null){const c=An(a*t.verticalPixelRatio/h,0,1);u.addColorStop(c,r),u.addColorStop(c,o)}u.addColorStop(1,l),this.Ss=u,this.ps=e}return this.Ss}}class hf extends xh{constructor(){super(...arguments),this.ks=new dr}fs(t,e){return this.ks.vs(t,{bs:e.ys,ws:"",gs:"",Ms:e.Cs,xs:t.bitmapSize.height})}}function af(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class Mh extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){if(this.G===null)return;const{it:e,tt:s,_s:n,us:r,et:o,Nt:l,Ts:h}=this.G;if(s===null)return;const a=t.context;a.lineCap="butt",a.lineWidth=o*t.verticalPixelRatio,Ve(a,l),a.lineJoin="round";const u=this.Ps.bind(this);r!==void 0&&yh(t,e,r,s,n,u,af),h&&function(c,f,m,v,p){const{horizontalPixelRatio:w,verticalPixelRatio:x,context:y}=c;let b=null;const S=Math.max(1,Math.floor(w))%2/2,z=m*x+S;for(let L=v.to-1;L>=v.from;--L){const D=f[L];if(D){const R=p(c,D);R!==b&&(y.beginPath(),b!==null&&y.fill(),y.fillStyle=R,b=R);const Y=Math.round(D.nt*w)+S,q=D.st*x;y.moveTo(Y,q),y.arc(Y,q,z,0,2*Math.PI)}}y.fill()}(t,e,h,s,u)}}class Ch extends Mh{Ps(t,e){return e.lt}}function Eh(i,t,e,s,n=0,r=t.length){let o=r-n;for(;0<o;){const l=o>>1,h=n+l;s(t[h],e)===i?(n=h+1,o-=l+1):o=l}return n}const Bi=Eh.bind(null,!0),Oh=Eh.bind(null,!1);function uf(i,t){return i.ot<t}function cf(i,t){return t<i.ot}function zh(i,t,e){const s=t.Rs(),n=t.ui(),r=Bi(i,s,uf),o=Oh(i,n,cf);if(!e)return{from:r,to:o};let l=r,h=o;return r>0&&r<i.length&&i[r].ot>=s&&(l=r-1),o>0&&o<i.length&&i[o-1].ot<=n&&(h=o+1),{from:l,to:h}}class pr{constructor(t,e,s){this.Ds=!0,this.Os=!0,this.As=!0,this.Vs=[],this.Bs=null,this.Is=t,this.zs=e,this.Ls=s}bt(t){this.Ds=!0,t==="data"&&(this.Os=!0),t==="options"&&(this.As=!0)}gt(){return this.Is.yt()?(this.Es(),this.Bs===null?null:this.Ns):null}Fs(){this.Vs=this.Vs.map(t=>Object.assign(Object.assign({},t),this.Is.js().Ws(t.ot)))}Hs(){this.Bs=null}Es(){this.Os&&(this.$s(),this.Os=!1),this.As&&(this.Fs(),this.As=!1),this.Ds&&(this.Us(),this.Ds=!1)}Us(){const t=this.Is.Dt(),e=this.zs.St();if(this.Hs(),e.Ei()||t.Ei())return;const s=e.qs();if(s===null||this.Is.Vn().Ys()===0)return;const n=this.Is.Ct();n!==null&&(this.Bs=zh(this.Vs,s,this.Ls),this.Xs(t,e,n.Ot),this.Ks())}}class $s extends pr{constructor(t,e){super(t,e,!0)}Xs(t,e,s){e.Zs(this.Vs,ki(this.Bs)),t.Gs(this.Vs,s,ki(this.Bs))}Js(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>{const s=e.Ot[3];return this.te(e.ie,s,t)})}}class ff extends $s{constructor(t,e){super(t,e),this.Ns=new cr,this.ne=new hf,this.se=new Ch,this.Ns.X([this.ne,this.se])}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.W();this.ne.J({us:t.lineType,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,cs:null,ds:t.invertFilledArea,tt:this.Bs,_s:this.zs.St().ee()}),this.se.J({us:t.lineVisible?t.lineType:void 0,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Bs,_s:this.zs.St().ee(),Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class df extends qt{constructor(){super(...arguments),this.zt=null,this.re=0,this.he=0}J(t){this.zt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.Vn.length===0||this.zt.tt===null)return;this.re=this.le(e),this.re>=2&&Math.max(1,Math.floor(e))%2!=this.re%2&&this.re--,this.he=this.zt.ae?Math.min(this.re,Math.floor(e)):this.re;let n=null;const r=this.he<=this.re&&this.zt.ee>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.Vn[o];n!==l.oe&&(t.fillStyle=l.oe,n=l.oe);const h=Math.floor(.5*this.he),a=Math.round(l.nt*e),u=a-h,c=this.he,f=u+c-1,m=Math.min(l._e,l.ue),v=Math.max(l._e,l.ue),p=Math.round(m*s)-h,w=Math.round(v*s)+h,x=Math.max(w-p,this.he);t.fillRect(u,p,c,x);const y=Math.ceil(1.5*this.re);if(r){if(this.zt.ce){const L=a-y;let D=Math.max(p,Math.round(l.de*s)-h),R=D+c-1;R>p+x-1&&(R=p+x-1,D=R-c+1),t.fillRect(L,D,u-L,R-D+1)}const b=a+y;let S=Math.max(p,Math.round(l.fe*s)-h),z=S+c-1;z>p+x-1&&(z=p+x-1,S=z-c+1),t.fillRect(f+1,S,b-f,z-S+1)}}}le(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,n){return Math.floor(.3*s*n)}(O(this.zt).ee,t)))}}class Th extends pr{constructor(t,e){super(t,e,!1)}Xs(t,e,s){e.Zs(this.Vs,ki(this.Bs)),t.ve(this.Vs,s,ki(this.Bs))}pe(t,e,s){return{ot:t,me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3],nt:NaN,de:NaN,_e:NaN,ue:NaN,fe:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>this.te(e.ie,e,t))}}class pf extends Th{constructor(){super(...arguments),this.Ns=new df}te(t,e,s){return Object.assign(Object.assign({},this.pe(t,e,s)),s.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),ce:t.openVisible,ae:t.thinBars,tt:this.Bs})}}class mf extends xh{constructor(){super(...arguments),this.ks=new dr}fs(t,e){const s=this.G;return this.ks.vs(t,{bs:e.Me,ws:e.xe,gs:e.Se,Ms:e.ke,xs:t.bitmapSize.height,cs:s.cs})}}class vf extends Mh{constructor(){super(...arguments),this.ye=new dr}Ps(t,e){const s=this.G;return this.ye.vs(t,{bs:e.Ce,ws:e.Ce,gs:e.Te,Ms:e.Te,xs:t.bitmapSize.height,cs:s.cs})}}class gf extends $s{constructor(t,e){super(t,e),this.Ns=new cr,this.Pe=new mf,this.Re=new vf,this.Ns.X([this.Pe,this.Re])}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.Ct();if(t===null)return;const e=this.Is.W(),s=this.Is.Dt().Rt(e.baseValue.price,t.Ot),n=this.zs.St().ee();this.Pe.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineType,cs:s,ds:!1,tt:this.Bs,_s:n}),this.Re.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineVisible?e.lineType:void 0,Ts:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,cs:s,tt:this.Bs,_s:n})}}class bf extends qt{constructor(){super(...arguments),this.zt=null,this.re=0}J(t){this.zt=t}Z(t){if(this.zt===null||this.zt.Vn.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.re=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),h=Math.floor(r*l*o),a=Math.floor(r*o),u=Math.min(h,a);return Math.max(Math.floor(o),u)}(this.zt.ee,e),this.re>=2&&Math.floor(e)%2!=this.re%2&&this.re--;const s=this.zt.Vn;this.zt.De&&this.Oe(t,s,this.zt.tt),this.zt._i&&this.Ae(t,s,this.zt.tt);const n=this.Ve(e);(!this.zt._i||this.re>2*n)&&this.Be(t,s,this.zt.tt)}Oe(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",h=Math.min(Math.floor(r),Math.floor(this.zt.ee*r));h=Math.max(Math.floor(r),Math.min(h,this.re));const a=Math.floor(.5*h);let u=null;for(let c=s.from;c<s.to;c++){const f=e[c];f.Ie!==l&&(n.fillStyle=f.Ie,l=f.Ie);const m=Math.round(Math.min(f.de,f.fe)*o),v=Math.round(Math.max(f.de,f.fe)*o),p=Math.round(f._e*o),w=Math.round(f.ue*o);let x=Math.round(r*f.nt)-a;const y=x+h-1;u!==null&&(x=Math.max(u+1,x),x=Math.min(x,y));const b=y-x+1;n.fillRect(x,p,b,m-p),n.fillRect(x,v+1,b,w-v),u=y}}Ve(t){let e=Math.floor(1*t);this.re<=2*e&&(e=Math.floor(.5*(this.re-1)));const s=Math.max(Math.floor(t),e);return this.re<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}Ae(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const h=this.Ve(r);let a=null;for(let u=s.from;u<s.to;u++){const c=e[u];c.ze!==l&&(n.fillStyle=c.ze,l=c.ze);let f=Math.round(c.nt*r)-Math.floor(.5*this.re);const m=f+this.re-1,v=Math.round(Math.min(c.de,c.fe)*o),p=Math.round(Math.max(c.de,c.fe)*o);if(a!==null&&(f=Math.max(a+1,f),f=Math.min(f,m)),this.zt.ee*r>2*h)Jc(n,f,v,m-f+1,p-v+1,h);else{const w=m-f+1;n.fillRect(f,v,w,p-v+1)}a=m}}Be(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const h=this.Ve(r);for(let a=s.from;a<s.to;a++){const u=e[a];let c=Math.round(Math.min(u.de,u.fe)*o),f=Math.round(Math.max(u.de,u.fe)*o),m=Math.round(u.nt*r)-Math.floor(.5*this.re),v=m+this.re-1;if(u.oe!==l){const p=u.oe;n.fillStyle=p,l=p}this.zt._i&&(m+=h,c+=h,v-=h,f-=h),c>f||n.fillRect(m,c,v-m+1,f-c+1)}}}class _f extends Th{constructor(){super(...arguments),this.Ns=new bf}te(t,e,s){return Object.assign(Object.assign({},this.pe(t,e,s)),s.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),De:t.wickVisible,_i:t.borderVisible,tt:this.Bs})}}class wf{constructor(t,e){this.Le=t,this.zi=e}K(t,e,s){this.Le.draw(t,this.zi,e,s)}}class nn extends pr{constructor(t,e,s){super(t,e,!1),this.mn=s,this.Ns=new wf(this.mn.renderer(),n=>{const r=t.Ct();return r===null?null:t.Dt().Rt(n,r.Ot)})}Ee(t){return this.mn.priceValueBuilder(t)}Ne(t){return this.mn.isWhitespace(t)}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>Object.assign(Object.assign({ot:e.ie,nt:NaN},t.Ws(e.ie)),{Fe:e.We}))}Xs(t,e){e.Zs(this.Vs,ki(this.Bs))}Ks(){this.mn.update({bars:this.Vs.map(yf),barSpacing:this.zs.St().ee(),visibleRange:this.Bs},this.Is.W())}}function yf(i){return{x:i.nt,time:i.ot,originalData:i.Fe,barColor:i.oe}}class xf extends qt{constructor(){super(...arguments),this.zt=null,this.je=[]}J(t){this.zt=t,this.je=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.je.length||this.He(e);const n=Math.max(1,Math.floor(s)),r=Math.round(this.zt.$e*s)-Math.floor(n/2),o=r+n;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const h=this.zt.it[l],a=this.je[l-this.zt.tt.from],u=Math.round(h.st*s);let c,f;t.fillStyle=h.oe,u<=r?(c=u,f=o):(c=r,f=u-Math.floor(n/2)+n),t.fillRect(a.Rs,c,a.ui-a.Rs+1,f-c)}}He(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.je=[]);const e=Math.ceil(this.zt.ee*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.zt.ee*t)-e;this.je=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*t);let h,a;if(s%2){const u=(s-1)/2;h=l-u,a=l+u}else{const u=s/2;h=l-u,a=l+u-1}this.je[r-this.zt.tt.from]={Rs:h,ui:a,Ue:l,qe:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from],l=this.je[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Rs-l.ui!==e+1&&(l.Ue>l.qe?l.ui=o.Rs-e-1:o.Rs=l.ui+e+1)}let n=Math.ceil(this.zt.ee*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from];o.ui<o.Rs&&(o.ui=o.Rs);const l=o.ui-o.Rs+1;n=Math.min(l,n)}if(e>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from];o.ui-o.Rs+1>n&&(o.Ue>o.qe?o.ui-=1:o.Rs+=1)}}}class Sf extends $s{constructor(){super(...arguments),this.Ns=new xf}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t={it:this.Vs,ee:this.zs.St().ee(),tt:this.Bs,$e:this.Is.Dt().Rt(this.Is.W().base,O(this.Is.Ct()).Ot)};this.Ns.J(t)}}class Mf extends $s{constructor(){super(...arguments),this.Ns=new Ch}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.W(),e={it:this.Vs,Nt:t.lineStyle,us:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Bs,_s:this.zs.St().ee()};this.Ns.J(e)}}const Cf=/[2-9]/g;class Ni{constructor(t=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ze={},this.Ge=new Map,this.Je=t}Qe(){this.Ye=0,this.Ge.clear(),this.Xe=1,this.Ke=1,this.Ze={}}Mi(t,e,s){return this.tr(t,e,s).width}gi(t,e,s){const n=this.tr(t,e,s);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}tr(t,e,s){const n=s||Cf,r=String(e).replace(n,"0");if(this.Ge.has(r))return Tt(this.Ge.get(r)).ir;if(this.Ye===this.Je){const l=this.Ze[this.Ke];delete this.Ze[this.Ke],this.Ge.delete(l),this.Ke++,this.Ye--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Ge.set(r,{ir:o,nr:this.Xe}),this.Ze[this.Xe]=r,this.Ye++,this.Xe++),o}}class Ef{constructor(t){this.sr=null,this.k=null,this.er="right",this.rr=t}hr(t,e,s){this.sr=t,this.k=e,this.er=s}K(t){this.k!==null&&this.sr!==null&&this.sr.K(t,this.k,this.rr,this.er)}}class Lh{constructor(t,e,s){this.lr=t,this.rr=new Ni(50),this.ar=e,this.F=s,this.j=-1,this.Wt=new Ef(this.rr)}gt(){const t=this.F._r(this.ar);if(t===null)return null;const e=t.ur(this.ar)?t.cr():this.ar.Dt();if(e===null)return null;const s=t.dr(e);if(s==="overlay")return null;const n=this.F.vr();return n.P!==this.j&&(this.j=n.P,this.rr.Qe()),this.Wt.hr(this.lr.Bi(),n,s),this.Wt}}class Of extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}pr(t,e){var s;if(!(!((s=this.zt)===null||s===void 0)&&s.yt))return null;const{st:n,et:r,mr:o}=this.zt;return e>=n-r-7&&e<=n+r+7?{br:this.zt,mr:o}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.O,t.lineWidth=Math.floor(this.zt.et*s),Ve(t,this.zt.Nt),vh(t,r,0,e.width))}}class mr{constructor(t){this.wr={st:0,O:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.gr=new Of,this.ft=!0,this.Is=t,this.zs=t.$t(),this.gr.J(this.wr)}bt(){this.ft=!0}gt(){return this.Is.yt()?(this.ft&&(this.Mr(),this.ft=!1),this.gr):null}}class zf extends mr{constructor(t){super(t)}Mr(){this.wr.yt=!1;const t=this.Is.Dt(),e=t.Sr().Sr;if(e!==2&&e!==3)return;const s=this.Is.W();if(!s.baseLineVisible||!this.Is.yt())return;const n=this.Is.Ct();n!==null&&(this.wr.yt=!0,this.wr.st=t.Rt(n.Ot,n.Ot),this.wr.O=s.baseLineColor,this.wr.et=s.baseLineWidth,this.wr.Nt=s.baseLineStyle)}}class Tf extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}We(){return this.zt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const n=this.zt;if(n===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(n.qe.x*e)+o,h=n.qe.y*s;t.fillStyle=n.kr,t.beginPath();const a=Math.max(2,1.5*n.yr)*e;t.arc(l,h,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.Cr,t.beginPath(),t.arc(l,h,n.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.Tr,t.beginPath(),t.arc(l,h,n.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const Lf=[{Pr:0,Rr:.25,Dr:4,Or:10,Ar:.25,Vr:0,Br:.4,Ir:.8},{Pr:.25,Rr:.525,Dr:10,Or:14,Ar:0,Vr:0,Br:.8,Ir:0},{Pr:.525,Rr:1,Dr:14,Or:14,Ar:0,Vr:0,Br:0,Ir:0}];function Oo(i,t,e,s){return function(n,r){if(n==="transparent")return n;const o=gs(n),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(i,e+(s-e)*t)}function zo(i,t){const e=i%2600/2600;let s;for(const h of Lf)if(e>=h.Pr&&e<=h.Rr){s=h;break}Oe(s!==void 0,"Last price animation internal logic error");const n=(e-s.Pr)/(s.Rr-s.Pr);return{Cr:Oo(t,n,s.Ar,s.Vr),Tr:Oo(t,n,s.Br,s.Ir),ht:(r=n,o=s.Dr,l=s.Or,o+(l-o)*r)};var r,o,l}class kf{constructor(t){this.Wt=new Tf,this.ft=!0,this.zr=!0,this.Lr=performance.now(),this.Er=this.Lr-1,this.Nr=t}Fr(){this.Er=this.Lr-1,this.bt()}Wr(){if(this.bt(),this.Nr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Er-t;if(e>0)return void(e<650&&(this.Er+=2600));this.Lr=t,this.Er=t+2600}}bt(){this.ft=!0}jr(){this.zr=!0}yt(){return this.Nr.W().lastPriceAnimation!==0}Hr(){switch(this.Nr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Er}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.zr=!1):this.zr&&(this.$r(),this.zr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Nr.$t().St(),e=t.qs(),s=this.Nr.Ct();if(e===null||s===null)return;const n=this.Nr.Ur(!0);if(n.qr||!e.Yr(n.ie))return;const r={x:t.It(n.ie),y:this.Nr.Dt().Rt(n._t,s.Ot)},o=n.O,l=this.Nr.W().lineWidth,h=zo(this.Xr(),o);this.Wt.J({kr:o,yr:l,Cr:h.Cr,Tr:h.Tr,ht:h.ht,qe:r})}$r(){const t=this.Wt.We();if(t!==null){const e=zo(this.Xr(),t.kr);t.Cr=e.Cr,t.Tr=e.Tr,t.ht=e.ht}}Xr(){return this.Hr()?performance.now()-this.Lr:2599}}function yi(i,t){return Sh(Math.min(Math.max(i,12),30)*t)}function Ii(i,t){switch(i){case"arrowDown":case"arrowUp":return yi(t,1);case"circle":return yi(t,.8);case"square":return yi(t,.7)}}function kh(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(yi(i,1))}function To(i){return Math.max(yi(i,.1),3)}function Nh(i,t,e,s,n){const r=Ii("square",e),o=(r-1)/2,l=i-o,h=t-o;return s>=l&&s<=l+r&&n>=h&&n<=h+r}function Lo(i,t,e,s){const n=(Ii("arrowUp",s)-1)/2*e.Kr,r=(Sh(s/2)-1)/2*e.Kr;t.beginPath(),i?(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st-n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+n),t.lineTo(e.nt-r,e.st+n),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st+n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-n),t.lineTo(e.nt-r,e.st-n),t.lineTo(e.nt-r,e.st)),t.fill()}function Nf(i,t,e,s,n,r){return Nh(t,e,s,n,r)}class If extends qt{constructor(){super(...arguments),this.zt=null,this.rr=new Ni,this.j=-1,this.H="",this.Zr=""}J(t){this.zt=t}hr(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Zr=li(t,e),this.rr.Qe())}pr(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const n=this.zt.it[s];if(Pf(n,t,e))return{br:n.Gr,mr:n.mr}}return null}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s},n,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Zr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Zt!==void 0&&(l.Zt.ji=this.rr.Mi(t,l.Zt.Jr),l.Zt.Bt=this.j,l.Zt.nt=l.nt-l.Zt.ji/2),Rf(l,t,e,s)}}}}function Rf(i,t,e,s){t.fillStyle=i.O,i.Zt!==void 0&&function(n,r,o,l,h,a){n.save(),n.scale(h,a),n.fillText(r,o,l),n.restore()}(t,i.Zt.Jr,i.Zt.nt,i.Zt.st,e,s),function(n,r,o){if(n.Ys!==0){switch(n.Qr){case"arrowDown":return void Lo(!1,r,o,n.Ys);case"arrowUp":return void Lo(!0,r,o,n.Ys);case"circle":return void function(l,h,a){const u=(Ii("circle",a)-1)/2;l.beginPath(),l.arc(h.nt,h.st,u*h.Kr,0,2*Math.PI,!1),l.fill()}(r,o,n.Ys);case"square":return void function(l,h,a){const u=Ii("square",a),c=(u-1)*h.Kr/2,f=h.nt-c,m=h.st-c;l.fillRect(f,m,u*h.Kr,u*h.Kr)}(r,o,n.Ys)}n.Qr}}(i,t,function(n,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(n.nt*r)+l,st:n.st*o,Kr:r}}(i,e,s))}function Pf(i,t,e){return!(i.Zt===void 0||!function(s,n,r,o,l,h){const a=o/2;return l>=s&&l<=s+r&&h>=n-a&&h<=n+a}(i.Zt.nt,i.Zt.st,i.Zt.ji,i.Zt.Bt,t,e))||function(s,n,r){if(s.Ys===0)return!1;switch(s.Qr){case"arrowDown":case"arrowUp":return Nf(0,s.nt,s.st,s.Ys,n,r);case"circle":return function(o,l,h,a,u){const c=2+Ii("circle",h)/2,f=o-a,m=l-u;return Math.sqrt(f*f+m*m)<=c}(s.nt,s.st,s.Ys,n,r);case"square":return Nh(s.nt,s.st,s.Ys,n,r)}}(i,t,e)}function Af(i,t,e,s,n,r,o,l,h){const a=ie(e)?e:e.ge,u=ie(e)?e:e.be,c=ie(e)?e:e.we,f=ie(t.size)?Math.max(t.size,0):1,m=kh(l.ee())*f,v=m/2;switch(i.Ys=m,t.position){case"inBar":return i.st=o.Rt(a,h),void(i.Zt!==void 0&&(i.Zt.st=i.st+v+r+.6*n));case"aboveBar":return i.st=o.Rt(u,h)-v-s.th,i.Zt!==void 0&&(i.Zt.st=i.st-v-.6*n,s.th+=1.2*n),void(s.th+=m+r);case"belowBar":return i.st=o.Rt(c,h)+v+s.ih,i.Zt!==void 0&&(i.Zt.st=i.st+v+r+.6*n,s.ih+=1.2*n),void(s.ih+=m+r)}t.position}class $f{constructor(t,e){this.ft=!0,this.nh=!0,this.sh=!0,this.eh=null,this.Wt=new If,this.Nr=t,this.Hi=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.sh=!0,t==="data"&&(this.nh=!0)}gt(t){if(!this.Nr.yt())return null;this.ft&&this.rh();const e=this.Hi.W().layout;return this.Wt.hr(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}hh(){if(this.sh){if(this.Nr.lh().length>0){const t=this.Hi.St().ee(),e=To(t),s=1.5*kh(t)+2*e;this.eh={above:s,below:s}}else this.eh=null;this.sh=!1}return this.eh}rh(){const t=this.Nr.Dt(),e=this.Hi.St(),s=this.Nr.lh();this.nh&&(this.zt.it=s.map(u=>({ot:u.time,nt:0,st:0,Ys:0,Qr:u.shape,O:u.color,Gr:u.Gr,mr:u.id,Zt:void 0})),this.nh=!1);const n=this.Hi.W().layout;this.zt.tt=null;const r=e.qs();if(r===null)return;const o=this.Nr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const h=To(e.ee()),a={th:h,ih:h};this.zt.tt=zh(this.zt.it,r,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const c=s[u];c.time!==l&&(a.th=h,a.ih=h,l=c.time);const f=this.zt.it[u];f.nt=e.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Zt={Jr:c.text,nt:0,st:0,ji:0,Bt:0});const m=this.Nr.ah(c.time);m!==null&&Af(f,c,m,a,n.fontSize,h,t,e,o.Ot)}this.ft=!1}}class Df extends mr{constructor(t){super(t)}Mr(){const t=this.wr;t.yt=!1;const e=this.Is.W();if(!e.priceLineVisible||!this.Is.yt())return;const s=this.Is.Ur(e.priceLineSource===0);s.qr||(t.yt=!0,t.st=s.Si,t.O=this.Is.oh(s.O),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Bf extends Rs{constructor(t){super(),this.jt=t}Ii(t,e,s){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),o=r.lastValueVisible,l=n._h()!=="",h=r.seriesLastValueMode===0,a=n.Ur(!1);if(a.qr)return;o&&(t.Zt=this.uh(a,o,h),t.yt=t.Zt.length!==0),(l||h)&&(e.Zt=this.dh(a,o,l,h),e.yt=e.Zt.length>0);const u=n.oh(a.O),c=Ns(u);s.t=c.t,s.Si=a.Si,e.At=n.$t().Vt(a.Si/n.Dt().Bt()),t.At=u,t.O=c.i,e.O=c.i}dh(t,e,s,n){let r="";const o=this.jt._h();return s&&o.length!==0&&(r+=`${o} `),e&&n&&(r+=this.jt.Dt().fh()?t.ph:t.mh),r.trim()}uh(t,e,s){return e?s?this.jt.Dt().fh()?t.mh:t.ph:t.Zt:""}}function ko(i,t,e,s){const n=Number.isFinite(t),r=Number.isFinite(e);return n&&r?i(t,e):n||r?n?t:e:s}class kt{constructor(t,e){this.bh=t,this.wh=e}gh(t){return t!==null&&this.bh===t.bh&&this.wh===t.wh}Mh(){return new kt(this.bh,this.wh)}xh(){return this.bh}Sh(){return this.wh}kh(){return this.wh-this.bh}Ei(){return this.wh===this.bh||Number.isNaN(this.wh)||Number.isNaN(this.bh)}Jn(t){return t===null?this:new kt(ko(Math.min,this.xh(),t.xh(),-1/0),ko(Math.max,this.Sh(),t.Sh(),1/0))}yh(t){if(!ie(t)||this.wh-this.bh===0)return;const e=.5*(this.wh+this.bh);let s=this.wh-e,n=this.bh-e;s*=t,n*=t,this.wh=e+s,this.bh=e+n}Ch(t){ie(t)&&(this.wh+=t,this.bh+=t)}Th(){return{minValue:this.bh,maxValue:this.wh}}static Ph(t){return t===null?null:new kt(t.minValue,t.maxValue)}}class bs{constructor(t,e){this.Rh=t,this.Dh=e||null}Oh(){return this.Rh}Ah(){return this.Dh}Th(){return this.Rh===null?null:{priceRange:this.Rh.Th(),margins:this.Dh||void 0}}static Ph(t){return t===null?null:new bs(kt.Ph(t.priceRange),t.margins)}}class Ff extends mr{constructor(t,e){super(t),this.Vh=e}Mr(){const t=this.wr;t.yt=!1;const e=this.Vh.W();if(!this.Is.yt()||!e.lineVisible)return;const s=this.Vh.Bh();s!==null&&(t.yt=!0,t.st=s,t.O=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.mr=this.Vh.W().id)}}class Vf extends Rs{constructor(t,e){super(),this.Nr=t,this.Vh=e}Ii(t,e,s){t.yt=!1,e.yt=!1;const n=this.Vh.W(),r=n.axisLabelVisible,o=n.title!=="",l=this.Nr;if(!r||!l.yt())return;const h=this.Vh.Bh();if(h===null)return;o&&(e.Zt=n.title,e.yt=!0),e.At=l.$t().Vt(h/l.Dt().Bt()),t.Zt=this.Ih(n.price),t.yt=!0;const a=Ns(n.axisLabelColor||n.color);s.t=a.t;const u=n.axisLabelTextColor||a.i;t.O=u,e.O=u,s.Si=h}Ih(t){const e=this.Nr.Ct();return e===null?"":this.Nr.Dt().Ni(t,e.Ot)}}class Wf{constructor(t,e){this.Nr=t,this._n=e,this.zh=new Ff(t,this),this.lr=new Vf(t,this),this.Lh=new Lh(this.lr,t,t.$t())}Eh(t){Yt(this._n,t),this.bt(),this.Nr.$t().Nh()}W(){return this._n}Fh(){return this.zh}Wh(){return this.Lh}jh(){return this.lr}bt(){this.zh.bt(),this.lr.bt()}Bh(){const t=this.Nr,e=t.Dt();if(t.$t().St().Ei()||e.Ei())return null;const s=t.Ct();return s===null?null:e.Rt(this._n.price,s.Ot)}}class jf extends fr{constructor(t){super(),this.Hi=t}$t(){return this.Hi}}const Hf={Bar:(i,t,e,s)=>{var n;const r=t.upColor,o=t.downColor,l=O(i(e,s)),h=Xe(l.Ot[0])<=Xe(l.Ot[3]);return{oe:(n=l.O)!==null&&n!==void 0?n:h?r:o}},Candlestick:(i,t,e,s)=>{var n,r,o;const l=t.upColor,h=t.downColor,a=t.borderUpColor,u=t.borderDownColor,c=t.wickUpColor,f=t.wickDownColor,m=O(i(e,s)),v=Xe(m.Ot[0])<=Xe(m.Ot[3]);return{oe:(n=m.O)!==null&&n!==void 0?n:v?l:h,ze:(r=m.At)!==null&&r!==void 0?r:v?a:u,Ie:(o=m.Hh)!==null&&o!==void 0?o:v?c:f}},Custom:(i,t,e,s)=>{var n;return{oe:(n=O(i(e,s)).O)!==null&&n!==void 0?n:t.color}},Area:(i,t,e,s)=>{var n,r,o,l;const h=O(i(e,s));return{oe:(n=h.lt)!==null&&n!==void 0?n:t.lineColor,lt:(r=h.lt)!==null&&r!==void 0?r:t.lineColor,ys:(o=h.ys)!==null&&o!==void 0?o:t.topColor,Cs:(l=h.Cs)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(i,t,e,s)=>{var n,r,o,l,h,a;const u=O(i(e,s));return{oe:u.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Ce:(n=u.Ce)!==null&&n!==void 0?n:t.topLineColor,Te:(r=u.Te)!==null&&r!==void 0?r:t.bottomLineColor,Me:(o=u.Me)!==null&&o!==void 0?o:t.topFillColor1,xe:(l=u.xe)!==null&&l!==void 0?l:t.topFillColor2,Se:(h=u.Se)!==null&&h!==void 0?h:t.bottomFillColor1,ke:(a=u.ke)!==null&&a!==void 0?a:t.bottomFillColor2}},Line:(i,t,e,s)=>{var n,r;const o=O(i(e,s));return{oe:(n=o.O)!==null&&n!==void 0?n:t.color,lt:(r=o.O)!==null&&r!==void 0?r:t.color}},Histogram:(i,t,e,s)=>{var n;return{oe:(n=O(i(e,s)).O)!==null&&n!==void 0?n:t.color}}};class Uf{constructor(t){this.$h=(e,s)=>s!==void 0?s.Ot:this.Nr.Vn().Uh(e),this.Nr=t,this.qh=Hf[t.Yh()]}Ws(t,e){return this.qh(this.$h,this.Nr.W(),t,e)}}var No;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(No||(No={}));const ge=30;class Kf{constructor(){this.Xh=[],this.Kh=new Map,this.Zh=new Map}Gh(){return this.Ys()>0?this.Xh[this.Xh.length-1]:null}Jh(){return this.Ys()>0?this.Qh(0):null}An(){return this.Ys()>0?this.Qh(this.Xh.length-1):null}Ys(){return this.Xh.length}Ei(){return this.Ys()===0}Yr(t){return this.tl(t,0)!==null}Uh(t){return this.il(t)}il(t,e=0){const s=this.tl(t,e);return s===null?null:Object.assign(Object.assign({},this.nl(s)),{ie:this.Qh(s)})}Qs(){return this.Xh}sl(t,e,s){if(this.Ei())return null;let n=null;for(const r of s)n=Xi(n,this.el(t,e,r));return n}J(t){this.Zh.clear(),this.Kh.clear(),this.Xh=t}Qh(t){return this.Xh[t].ie}nl(t){return this.Xh[t]}tl(t,e){const s=this.rl(t);if(s===null&&e!==0)switch(e){case-1:return this.hl(t);case 1:return this.ll(t);default:throw new TypeError("Unknown search mode")}return s}hl(t){let e=this.al(t);return e>0&&(e-=1),e!==this.Xh.length&&this.Qh(e)<t?e:null}ll(t){const e=this.ol(t);return e!==this.Xh.length&&t<this.Qh(e)?e:null}rl(t){const e=this.al(t);return e===this.Xh.length||t<this.Xh[e].ie?null:e}al(t){return Bi(this.Xh,t,(e,s)=>e.ie<s)}ol(t){return Oh(this.Xh,t,(e,s)=>e.ie>s)}_l(t,e,s){let n=null;for(let r=t;r<e;r++){const o=this.Xh[r].Ot[s];Number.isNaN(o)||(n===null?n={ul:o,cl:o}:(o<n.ul&&(n.ul=o),o>n.cl&&(n.cl=o)))}return n}el(t,e,s){if(this.Ei())return null;let n=null;const r=O(this.Jh()),o=O(this.An()),l=Math.max(t,r),h=Math.min(e,o),a=Math.ceil(l/ge)*ge,u=Math.max(a,Math.floor(h/ge)*ge);{const f=this.al(l),m=this.ol(Math.min(h,a,e));n=Xi(n,this._l(f,m,s))}let c=this.Kh.get(s);c===void 0&&(c=new Map,this.Kh.set(s,c));for(let f=Math.max(a+1,l);f<u;f+=ge){const m=Math.floor(f/ge);let v=c.get(m);if(v===void 0){const p=this.al(m*ge),w=this.ol((m+1)*ge-1);v=this._l(p,w,s),c.set(m,v)}n=Xi(n,v)}{const f=this.al(u),m=this.ol(h);n=Xi(n,this._l(f,m,s))}return n}}function Xi(i,t){return i===null?t:t===null?i:{ul:Math.min(i.ul,t.ul),cl:Math.max(i.cl,t.cl)}}class Zf{constructor(t){this.dl=t}K(t,e,s){this.dl.draw(t)}fl(t,e,s){var n,r;(r=(n=this.dl).drawBackground)===null||r===void 0||r.call(n,t)}}class rn{constructor(t){this.Ge=null,this.mn=t}gt(){var t;const e=this.mn.renderer();if(e===null)return null;if(((t=this.Ge)===null||t===void 0?void 0:t.vl)===e)return this.Ge.pl;const s=new Zf(e);return this.Ge={vl:e,pl:s},s}ml(){var t,e,s;return(s=(e=(t=this.mn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:"normal"}}function Ih(i){var t,e,s,n,r;return{Zt:i.text(),Si:i.coordinate(),xi:(t=i.fixedCoordinate)===null||t===void 0?void 0:t.call(i),O:i.textColor(),t:i.backColor(),yt:(s=(e=i.visible)===null||e===void 0?void 0:e.call(i))===null||s===void 0||s,hi:(r=(n=i.tickVisible)===null||n===void 0?void 0:n.call(i))===null||r===void 0||r}}class Yf{constructor(t,e){this.Wt=new _h,this.bl=t,this.wl=e}gt(){return this.Wt.J(Object.assign({ji:this.wl.ji()},Ih(this.bl))),this.Wt}}class qf extends Rs{constructor(t,e){super(),this.bl=t,this.zi=e}Ii(t,e,s){const n=Ih(this.bl);s.t=n.t,t.O=n.O;const r=2/12*this.zi.P();s.bi=r,s.wi=r,s.Si=n.Si,s.xi=n.xi,t.Zt=n.Zt,t.yt=n.yt,t.hi=n.hi}}class Qf{constructor(t,e){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=t,this.Nr=e}Cl(){return this.yl}Rn(){var t,e;(e=(t=this.yl).updateAllViews)===null||e===void 0||e.call(t)}Cn(){var t,e,s,n;const r=(s=(e=(t=this.yl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.gl)===null||n===void 0?void 0:n.vl)===r)return this.gl.pl;const o=r.map(l=>new rn(l));return this.gl={vl:r,pl:o},o}Ji(){var t,e,s,n;const r=(s=(e=(t=this.yl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Ml)===null||n===void 0?void 0:n.vl)===r)return this.Ml.pl;const o=this.Nr.$t().St(),l=r.map(h=>new Yf(h,o));return this.Ml={vl:r,pl:l},l}Tn(){var t,e,s,n;const r=(s=(e=(t=this.yl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.xl)===null||n===void 0?void 0:n.vl)===r)return this.xl.pl;const o=this.Nr.Dt(),l=r.map(h=>new qf(h,o));return this.xl={vl:r,pl:l},l}Tl(){var t,e,s,n;const r=(s=(e=(t=this.yl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Sl)===null||n===void 0?void 0:n.vl)===r)return this.Sl.pl;const o=r.map(l=>new rn(l));return this.Sl={vl:r,pl:o},o}Pl(){var t,e,s,n;const r=(s=(e=(t=this.yl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.kl)===null||n===void 0?void 0:n.vl)===r)return this.kl.pl;const o=r.map(l=>new rn(l));return this.kl={vl:r,pl:o},o}Rl(t,e){var s,n,r;return(r=(n=(s=this.yl).autoscaleInfo)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}pr(t,e){var s,n,r;return(r=(n=(s=this.yl).hitTest)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}}function on(i,t,e,s){i.forEach(n=>{t(n).forEach(r=>{r.ml()===e&&s.push(r)})})}function ln(i){return i.Cn()}function Xf(i){return i.Tl()}function Gf(i){return i.Pl()}class vr extends jf{constructor(t,e,s,n,r){super(t),this.zt=new Kf,this.zh=new Df(this),this.Dl=[],this.Ol=new zf(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.Ll=[],this._n=e,this.El=s;const o=new Bf(this);this.en=[o],this.Lh=new Lh(o,this,t),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.Al=new kf(this)),this.Nl(),this.Fl(r)}S(){this.zl!==null&&clearTimeout(this.zl)}oh(t){return this._n.priceLineColor||t}Ur(t){const e={qr:!0},s=this.Dt();if(this.$t().St().Ei()||s.Ei()||this.zt.Ei())return e;const n=this.$t().St().qs(),r=this.Ct();if(n===null||r===null)return e;let o,l;if(t){const c=this.zt.Gh();if(c===null)return e;o=c,l=c.ie}else{const c=this.zt.il(n.ui(),-1);if(c===null||(o=this.zt.Uh(c.ie),o===null))return e;l=c.ie}const h=o.Ot[3],a=this.js().Ws(l,{Ot:o}),u=s.Rt(h,r.Ot);return{qr:!1,_t:h,Zt:s.Ni(h,r.Ot),ph:s.Wl(h),mh:s.jl(h,r.Ot),O:a.oe,Si:u,ie:l}}js(){return this.Vl!==null||(this.Vl=new Uf(this)),this.Vl}W(){return this._n}Eh(t){const e=t.priceScaleId;e!==void 0&&e!==this._n.priceScaleId&&this.$t().Hl(this,e),Yt(this._n,t),t.priceFormat!==void 0&&(this.Nl(),this.$t().$l()),this.$t().Ul(this),this.$t().ql(),this.mn.bt("options")}J(t,e){this.zt.J(t),this.Yl(),this.mn.bt("data"),this.un.bt("data"),this.Al!==null&&(e&&e.Xl?this.Al.Wr():t.length===0&&this.Al.Fr());const s=this.$t()._r(this);this.$t().Kl(s),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Zl(t){this.Bl=t,this.Yl();const e=this.$t()._r(this);this.un.bt("data"),this.$t().Kl(e),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Gl(){return this.Bl}lh(){return this.Il}Jl(t){const e=new Wf(this,t);return this.Dl.push(e),this.$t().Ul(this),e}Ql(t){const e=this.Dl.indexOf(t);e!==-1&&this.Dl.splice(e,1),this.$t().Ul(this)}Yh(){return this.El}Ct(){const t=this.ta();return t===null?null:{Ot:t.Ot[3],ia:t.ot}}ta(){const t=this.$t().St().qs();if(t===null)return null;const e=t.Rs();return this.zt.il(e,1)}Vn(){return this.zt}ah(t){const e=this.zt.Uh(t);return e===null?null:this.El==="Bar"||this.El==="Candlestick"||this.El==="Custom"?{me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3]}:e.Ot[3]}na(t){const e=[];on(this.Ll,ln,"top",e);const s=this.Al;return s!==null&&s.yt()&&(this.zl===null&&s.Hr()&&(this.zl=setTimeout(()=>{this.zl=null,this.$t().sa()},0)),s.jr(),e.push(s)),e}Cn(){const t=[];this.ea()||t.push(this.Ol),t.push(this.mn,this.zh,this.un);const e=this.Dl.map(s=>s.Fh());return t.push(...e),on(this.Ll,ln,"normal",t),t}ra(){return this.ha(ln,"bottom")}la(t){return this.ha(Xf,t)}aa(t){return this.ha(Gf,t)}oa(t,e){return this.Ll.map(s=>s.pr(t,e)).filter(s=>s!==null)}Gi(t){return[this.Lh,...this.Dl.map(e=>e.Wh())]}Tn(t,e){if(e!==this.qi&&!this.ea())return[];const s=[...this.en];for(const n of this.Dl)s.push(n.jh());return this.Ll.forEach(n=>{s.push(...n.Tn())}),s}Ji(){const t=[];return this.Ll.forEach(e=>{t.push(...e.Ji())}),t}Rl(t,e){if(this._n.autoscaleInfoProvider!==void 0){const s=this._n.autoscaleInfoProvider(()=>{const n=this._a(t,e);return n===null?null:n.Th()});return bs.Ph(s)}return this._a(t,e)}ua(){return this._n.priceFormat.minMove}ca(){return this.da}Rn(){var t;this.mn.bt(),this.un.bt();for(const e of this.en)e.bt();for(const e of this.Dl)e.bt();this.zh.bt(),this.Ol.bt(),(t=this.Al)===null||t===void 0||t.bt(),this.Ll.forEach(e=>e.Rn())}Dt(){return O(super.Dt())}kt(t){if(!((this.El==="Line"||this.El==="Area"||this.El==="Baseline")&&this._n.crosshairMarkerVisible))return null;const e=this.zt.Uh(t);return e===null?null:{_t:e.Ot[3],ht:this.fa(),At:this.va(),Pt:this.pa(),Tt:this.ma(t)}}_h(){return this._n.title}yt(){return this._n.visible}ba(t){this.Ll.push(new Qf(t,this))}wa(t){this.Ll=this.Ll.filter(e=>e.Cl()!==t)}ga(){if(this.mn instanceof nn)return t=>this.mn.Ee(t)}Ma(){if(this.mn instanceof nn)return t=>this.mn.Ne(t)}ea(){return!Ps(this.Dt().xa())}_a(t,e){if(!Li(t)||!Li(e)||this.zt.Ei())return null;const s=this.El==="Line"||this.El==="Area"||this.El==="Baseline"||this.El==="Histogram"?[3]:[2,1],n=this.zt.sl(t,e,s);let r=n!==null?new kt(n.ul,n.cl):null;if(this.Yh()==="Histogram"){const l=this._n.base,h=new kt(l,l);r=r!==null?r.Jn(h):h}let o=this.un.hh();return this.Ll.forEach(l=>{const h=l.Rl(t,e);if(h!=null&&h.priceRange){const m=new kt(h.priceRange.minValue,h.priceRange.maxValue);r=r!==null?r.Jn(m):m}var a,u,c,f;h!=null&&h.margins&&(a=o,u=h.margins,o={above:Math.max((c=a==null?void 0:a.above)!==null&&c!==void 0?c:0,u.above),below:Math.max((f=a==null?void 0:a.below)!==null&&f!==void 0?f:0,u.below)})}),new bs(r,o)}fa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerRadius}return 0}va(){switch(this.El){case"Line":case"Area":case"Baseline":{const t=this._n.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}pa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerBorderWidth}return 0}ma(t){switch(this.El){case"Line":case"Area":case"Baseline":{const e=this._n.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.js().Ws(t).oe}Nl(){switch(this._n.priceFormat.type){case"custom":this.da={format:this._n.priceFormat.formatter};break;case"volume":this.da=new rf(this._n.priceFormat.precision);break;case"percent":this.da=new wh(this._n.priceFormat.precision);break;default:{const t=Math.pow(10,this._n.priceFormat.precision);this.da=new As(t,this._n.priceFormat.minMove*t)}}this.qi!==null&&this.qi.Sa()}Yl(){const t=this.$t().St();if(!t.ka()||this.zt.Ei())return void(this.Il=[]);const e=O(this.zt.Jh());this.Il=this.Bl.map((s,n)=>{const r=O(t.ya(s.time,!0)),o=r<e?1:-1;return{time:O(this.zt.il(r,o)).ie,position:s.position,shape:s.shape,color:s.color,id:s.id,Gr:n,text:s.text,size:s.size,originalTime:s.originalTime}})}Fl(t){switch(this.un=new $f(this,this.$t()),this.El){case"Bar":this.mn=new pf(this,this.$t());break;case"Candlestick":this.mn=new _f(this,this.$t());break;case"Line":this.mn=new Mf(this,this.$t());break;case"Custom":this.mn=new nn(this,this.$t(),Tt(t));break;case"Area":this.mn=new ff(this,this.$t());break;case"Baseline":this.mn=new gf(this,this.$t());break;case"Histogram":this.mn=new Sf(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.El)}}ha(t,e){const s=[];return on(this.Ll,t,e,s),s}}class Jf{constructor(t){this._n=t}Ca(t,e,s){let n=t;if(this._n.mode===0)return n;const r=s.dn(),o=r.Ct();if(o===null)return n;const l=r.Rt(t,o),h=s.Ta().filter(u=>u instanceof vr).reduce((u,c)=>{if(s.ur(c)||!c.yt())return u;const f=c.Dt(),m=c.Vn();if(f.Ei()||!m.Yr(e))return u;const v=m.Uh(e);if(v===null)return u;const p=Xe(c.Ct());return u.concat([f.Rt(v.Ot[3],p.Ot)])},[]);if(h.length===0)return n;h.sort((u,c)=>Math.abs(u-l)-Math.abs(c-l));const a=h[0];return n=r.fn(a,o),n}}class td extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=Math.max(1,Math.floor(s));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=O(this.zt);if(o.Pa){t.strokeStyle=o.Ra,Ve(t,o.Da),t.beginPath();for(const l of o.Oa){const h=Math.round(l.Aa*s);t.moveTo(h,-r),t.lineTo(h,e.height+r)}t.stroke()}if(o.Va){t.strokeStyle=o.Ba,Ve(t,o.Ia),t.beginPath();for(const l of o.za){const h=Math.round(l.Aa*n);t.moveTo(-r,h),t.lineTo(e.width+r,h)}t.stroke()}})}}class ed{constructor(t){this.Wt=new td,this.ft=!0,this.Qi=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.Qi.$t().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.Qi.dn().La(),Oa:(this.Qi.$t().St().La()||[]).map(s=>({Aa:s.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class id{constructor(t){this.mn=new ed(t)}Fh(){return this.mn}}const hn={Ea:4,Na:1e-4};function Ge(i,t){const e=100*(i-t)/t;return t<0?-e:e}function sd(i,t){const e=Ge(i.xh(),t),s=Ge(i.Sh(),t);return new kt(e,s)}function xi(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function nd(i,t){const e=xi(i.xh(),t),s=xi(i.Sh(),t);return new kt(e,s)}function _s(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.Na)+t.Ea;return i<0?-s:s}function Si(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ea)-t.Na;return i<0?-s:s}function di(i,t){if(i===null)return null;const e=_s(i.xh(),t),s=_s(i.Sh(),t);return new kt(e,s)}function Gi(i,t){if(i===null)return null;const e=Si(i.xh(),t),s=Si(i.Sh(),t);return new kt(e,s)}function an(i){if(i===null)return hn;const t=Math.abs(i.Sh()-i.xh());if(t>=1||t<1e-15)return hn;const e=Math.ceil(Math.abs(Math.log10(t))),s=hn.Ea+e;return{Ea:s,Na:1/Math.pow(10,s)}}class un{constructor(t,e){if(this.Fa=t,this.Wa=e,function(s){if(s<0)return!1;for(let n=s;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let s=this.Fa;s!==1;){if(s%2==0)this.ja.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),s/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(t,e,s){const n=this.Fa===0?0:1/this.Fa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Wa[0];for(;;){const c=Qi(r,n,1e-14)&&r>n+1e-14,f=Qi(r,s*l,1e-14),m=Qi(r,1,1e-14);if(!(c&&f&&m))break;r/=l,l=this.Wa[++o%this.Wa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.ja.length>0&&(h=r,a=1,u=1e-14,Math.abs(h-a)<u))for(o=0,l=this.ja[0];Qi(r,s*l,1e-14)&&r>n+1e-14;)r/=l,l=this.ja[++o%this.ja.length];var h,a,u;return r}}class Io{constructor(t,e,s,n){this.$a=[],this.zi=t,this.Fa=e,this.Ua=s,this.qa=n}Ha(t,e){if(t<e)throw new Error("high < low");const s=this.zi.Bt(),n=(t-e)*this.Ya()/s,r=new un(this.Fa,[2,2.5,2]),o=new un(this.Fa,[2,2,2.5]),l=new un(this.Fa,[2.5,2,2]),h=[];return h.push(r.Ha(t,e,n),o.Ha(t,e,n),l.Ha(t,e,n)),function(a){if(a.length<1)throw Error("array is empty");let u=a[0];for(let c=1;c<a.length;++c)a[c]<u&&(u=a[c]);return u}(h)}Xa(){const t=this.zi,e=t.Ct();if(e===null)return void(this.$a=[]);const s=t.Bt(),n=this.Ua(s-1,e),r=this.Ua(0,e),o=this.zi.W().entireTextOnly?this.Ka()/2:0,l=o,h=s-1-o,a=Math.max(n,r),u=Math.min(n,r);if(a===u)return void(this.$a=[]);let c=this.Ha(a,u),f=a%c;f+=f<0?c:0;const m=a>=u?1:-1;let v=null,p=0;for(let w=a-f;w>u;w-=c){const x=this.qa(w,e,!0);v!==null&&Math.abs(x-v)<this.Ya()||x<l||x>h||(p<this.$a.length?(this.$a[p].Aa=x,this.$a[p].Za=t.Ga(w)):this.$a.push({Aa:x,Za:t.Ga(w)}),p++,v=x,t.Ja()&&(c=this.Ha(w*m,u)))}this.$a.length=p}La(){return this.$a}Ka(){return this.zi.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function Rh(i){return i.slice().sort((t,e)=>O(t.Xi())-O(e.Xi()))}var Ro;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(Ro||(Ro={}));const Po=new wh,Ao=new As(100,1);class rd{constructor(t,e,s,n){this.Qa=0,this.io=null,this.Rh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new ut,this.oo=new ut,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Ao,this.vo=an(null),this.po=t,this._n=e,this.mo=s,this.bo=n,this.wo=new Io(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this._n}Eh(t){if(Yt(this._n,t),this.Sa(),t.mode!==void 0&&this.So({Sr:t.mode}),t.scaleMargins!==void 0){const e=Tt(t.scaleMargins.top),s=Tt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.ko(),this.co=null}}yo(){return this._n.autoScale}Ja(){return this._n.mode===1}fh(){return this._n.mode===2}Co(){return this._n.mode===3}Sr(){return{Nn:this._n.autoScale,To:this._n.invertScale,Sr:this._n.mode}}So(t){const e=this.Sr();let s=null;t.Nn!==void 0&&(this._n.autoScale=t.Nn),t.Sr!==void 0&&(this._n.mode=t.Sr,t.Sr!==2&&t.Sr!==3||(this._n.autoScale=!0),this.so.eo=!1),e.Sr===1&&t.Sr!==e.Sr&&(function(r,o){if(r===null)return!1;const l=Si(r.xh(),o),h=Si(r.Sh(),o);return isFinite(l)&&isFinite(h)}(this.Rh,this.vo)?(s=Gi(this.Rh,this.vo),s!==null&&this.Po(s)):this._n.autoScale=!0),t.Sr===1&&t.Sr!==e.Sr&&(s=di(this.Rh,this.vo),s!==null&&this.Po(s));const n=e.Sr!==this._n.mode;n&&(e.Sr===2||this.fh())&&this.Sa(),n&&(e.Sr===3||this.Co())&&this.Sa(),t.To!==void 0&&e.To!==t.To&&(this._n.invertScale=t.To,this.Ro()),this.oo.m(e,this.Sr())}Do(){return this.oo}P(){return this.mo.fontSize}Bt(){return this.Qa}Oo(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const t=this.Bt()-this.Vo()-this.Bo();return this.io=t,t}Oh(){return this.Io(),this.Rh}Po(t,e){const s=this.Rh;(e||s===null&&t!==null||s!==null&&!s.gh(t))&&(this.co=null,this.Rh=t)}Ei(){return this.Io(),this.Qa===0||!this.Rh||this.Rh.Ei()}zo(t){return this.To()?t:this.Bt()-1-t}Rt(t,e){return this.fh()?t=Ge(t,e):this.Co()&&(t=xi(t,e)),this.xo(t,e)}Gs(t,e,s){this.Io();const n=this.Bo(),r=O(this.Oh()),o=r.xh(),l=r.Sh(),h=this.Ao()-1,a=this.To(),u=h/(l-o),c=s===void 0?0:s.from,f=s===void 0?t.length:s.to,m=this.Lo();for(let v=c;v<f;v++){const p=t[v],w=p._t;if(isNaN(w))continue;let x=w;m!==null&&(x=m(p._t,e));const y=n+u*(x-o),b=a?y:this.Qa-1-y;p.st=b}}ve(t,e,s){this.Io();const n=this.Bo(),r=O(this.Oh()),o=r.xh(),l=r.Sh(),h=this.Ao()-1,a=this.To(),u=h/(l-o),c=s===void 0?0:s.from,f=s===void 0?t.length:s.to,m=this.Lo();for(let v=c;v<f;v++){const p=t[v];let w=p.me,x=p.be,y=p.we,b=p.ge;m!==null&&(w=m(p.me,e),x=m(p.be,e),y=m(p.we,e),b=m(p.ge,e));let S=n+u*(w-o),z=a?S:this.Qa-1-S;p.de=z,S=n+u*(x-o),z=a?S:this.Qa-1-S,p._e=z,S=n+u*(y-o),z=a?S:this.Qa-1-S,p.ue=z,S=n+u*(b-o),z=a?S:this.Qa-1-S,p.fe=z}}fn(t,e){const s=this.Mo(t,e);return this.Eo(s,e)}Eo(t,e){let s=t;return this.fh()?s=function(n,r){return r<0&&(n=-n),n/100*r+r}(s,e):this.Co()&&(s=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(s,e)),s}Ta(){return this._o}No(){if(this.uo)return this.uo;let t=[];for(let e=0;e<this._o.length;e++){const s=this._o[e];s.Xi()===null&&s.Ki(e+1),t.push(s)}return t=Rh(t),this.uo=t,this.uo}Fo(t){this._o.indexOf(t)===-1&&(this._o.push(t),this.Sa(),this.Wo())}jo(t){const e=this._o.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this._o.splice(e,1),this._o.length===0&&(this.So({Nn:!0}),this.Po(null)),this.Sa(),this.Wo()}Ct(){let t=null;for(const e of this._o){const s=e.Ct();s!==null&&(t===null||s.ia<t.ia)&&(t=s)}return t===null?null:t.Ot}To(){return this._n.invertScale}La(){const t=this.Ct()===null;if(this.co!==null&&(t||this.co.Ho===t))return this.co.La;this.wo.Xa();const e=this.wo.La();return this.co={La:e,Ho:t},this.ao.m(),e}$o(){return this.ao}Uo(t){this.fh()||this.Co()||this.do===null&&this.no===null&&(this.Ei()||(this.do=this.Qa-t,this.no=O(this.Oh()).Mh()))}qo(t){if(this.fh()||this.Co()||this.do===null)return;this.So({Nn:!1}),(t=this.Qa-t)<0&&(t=0);let e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1));const s=O(this.no).Mh();e=Math.max(e,.1),s.yh(e),this.Po(s)}Yo(){this.fh()||this.Co()||(this.do=null,this.no=null)}Xo(t){this.yo()||this.fo===null&&this.no===null&&(this.Ei()||(this.fo=t,this.no=O(this.Oh()).Mh()))}Ko(t){if(this.yo()||this.fo===null)return;const e=O(this.Oh()).kh()/(this.Ao()-1);let s=t-this.fo;this.To()&&(s*=-1);const n=s*e,r=O(this.no).Mh();r.Ch(n),this.Po(r,!0),this.co=null}Zo(){this.yo()||this.fo!==null&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Ni(t,e){switch(this._n.mode){case 2:return this.Go(Ge(t,e));case 3:return this.ca().format(xi(t,e));default:return this.Ih(t)}}Ga(t){switch(this._n.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.Ih(t)}}Wl(t){return this.Ih(t,O(this.Jo()).ca())}jl(t,e){return t=Ge(t,e),this.Go(t,Po)}Qo(){return this._o}t_(t){this.so={ro:t,eo:!1}}Rn(){this._o.forEach(t=>t.Rn())}Sa(){this.co=null;const t=this.Jo();let e=100;t!==null&&(e=Math.round(1/t.ua())),this.da=Ao,this.fh()?(this.da=Po,e=100):this.Co()?(this.da=new As(100,1),e=100):t!==null&&(this.da=t.ca()),this.wo=new Io(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this._n.scaleMargins.bottom*this.Bt()+this.lo:this._n.scaleMargins.top*this.Bt()+this.ho}Bo(){return this.To()?this._n.scaleMargins.top*this.Bt()+this.ho:this._n.scaleMargins.bottom*this.Bt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(t,e){if(this.Io(),this.Ei())return 0;t=this.Ja()&&t?_s(t,this.vo):t;const s=O(this.Oh()),n=this.Bo()+(this.Ao()-1)*(t-s.xh())/s.kh();return this.zo(n)}Mo(t,e){if(this.Io(),this.Ei())return 0;const s=this.zo(t),n=O(this.Oh()),r=n.xh()+n.kh()*((s-this.Bo())/(this.Ao()-1));return this.Ja()?Si(r,this.vo):r}Ro(){this.co=null,this.wo.Xa()}i_(){const t=this.so.ro;if(t===null)return;let e=null;const s=this.Qo();let n=0,r=0;for(const h of s){if(!h.yt())continue;const a=h.Ct();if(a===null)continue;const u=h.Rl(t.Rs(),t.ui());let c=u&&u.Oh();if(c!==null){switch(this._n.mode){case 1:c=di(c,this.vo);break;case 2:c=sd(c,a.Ot);break;case 3:c=nd(c,a.Ot)}if(e=e===null?c:e.Jn(O(c)),u!==null){const f=u.Ah();f!==null&&(n=Math.max(n,f.above),r=Math.max(n,f.below))}}}if(n===this.ho&&r===this.lo||(this.ho=n,this.lo=r,this.co=null,this.ko()),e!==null){if(e.xh()===e.Sh()){const h=this.Jo(),a=5*(h===null||this.fh()||this.Co()?1:h.ua());this.Ja()&&(e=Gi(e,this.vo)),e=new kt(e.xh()-a,e.Sh()+a),this.Ja()&&(e=di(e,this.vo))}if(this.Ja()){const h=Gi(e,this.vo),a=an(h);if(o=a,l=this.vo,o.Ea!==l.Ea||o.Na!==l.Na){const u=this.no!==null?Gi(this.no,this.vo):null;this.vo=a,e=di(h,a),u!==null&&(this.no=di(u,a))}}this.Po(e)}else this.Rh===null&&(this.Po(new kt(-.5,.5)),this.vo=an(null));var o,l;this.so.eo=!0}Lo(){return this.fh()?Ge:this.Co()?xi:this.Ja()?t=>_s(t,this.vo):null}n_(t,e,s){return e===void 0?(s===void 0&&(s=this.ca()),s.format(t)):e(t)}Ih(t,e){return this.n_(t,this.bo.priceFormatter,e)}Go(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}class od{constructor(t,e){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new ut,this.wl=t,this.Hi=e,this.l_=new id(this);const s=e.W();this.a_=this.o_("left",s.leftPriceScale),this.__=this.o_("right",s.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(s)}c_(t){if(t.leftPriceScale&&this.a_.Eh(t.leftPriceScale),t.rightPriceScale&&this.__.Eh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales){const e=Array.from(this.s_.values());for(const s of e){const n=O(s[0].Dt());n.Eh(t.overlayPriceScales),t.localization&&n.Sa()}}}d_(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?Tt(this.s_.get(t))[0].Dt():null}S(){this.$t().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach(t=>{t.S&&t.S()}),this.h_.m()}v_(){return this.r_}p_(t){this.r_=t}$t(){return this.Hi}ji(){return this.e_}Bt(){return this.Qa}m_(t){this.e_=t,this.b_()}Oo(t){this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach(e=>{if(this.ur(e)){const s=e.Dt();s!==null&&s.Oo(t)}}),this.b_()}Ta(){return this._o}ur(t){const e=t.Dt();return e===null||this.a_!==e&&this.__!==e}Fo(t,e,s){const n=s!==void 0?s:this.g_().w_+1;this.M_(t,e,n)}jo(t){const e=this._o.indexOf(t);Oe(e!==-1,"removeDataSource: invalid data source"),this._o.splice(e,1);const s=O(t.Dt()).xa();if(this.s_.has(s)){const r=Tt(this.s_.get(s)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.s_.delete(s))}const n=t.Dt();n&&n.Ta().indexOf(t)>=0&&n.jo(t),n!==null&&(n.Wo(),this.x_(n)),this.uo=null}dr(t){return t===this.a_?"left":t===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(t,e){t.Uo(e)}C_(t,e){t.qo(e),this.b_()}T_(t){t.Yo()}P_(t,e){t.Xo(e)}R_(t,e){t.Ko(e),this.b_()}D_(t){t.Zo()}b_(){this._o.forEach(t=>{t.Rn()})}dn(){let t=null;return this.Hi.W().rightPriceScale.visible&&this.__.Ta().length!==0?t=this.__:this.Hi.W().leftPriceScale.visible&&this.a_.Ta().length!==0?t=this.a_:this._o.length!==0&&(t=this._o[0].Dt()),t===null&&(t=this.__),t}cr(){let t=null;return this.Hi.W().rightPriceScale.visible?t=this.__:this.Hi.W().leftPriceScale.visible&&(t=this.a_),t}x_(t){t!==null&&t.yo()&&this.O_(t)}A_(t){const e=this.wl.qs();t.So({Nn:!0}),e!==null&&t.t_(e),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach(t=>{this.ur(t)&&this.x_(t.Dt())}),this.b_(),this.Hi.Nh()}No(){return this.uo===null&&(this.uo=Rh(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(t){const e=t.Qo();if(e&&e.length>0&&!this.wl.Ei()){const s=this.wl.qs();s!==null&&t.t_(s)}t.Rn()}g_(){const t=this.No();if(t.length===0)return{L_:0,w_:0};let e=0,s=0;for(let n=0;n<t.length;n++){const r=t[n].Xi();r!==null&&(r<e&&(e=r),r>s&&(s=r))}return{L_:e,w_:s}}M_(t,e,s){let n=this.d_(e);if(n===null&&(n=this.o_(e,this.Hi.W().overlayPriceScales)),this._o.push(t),!Ps(e)){const r=this.s_.get(e)||[];r.push(t),this.s_.set(e,r)}n.Fo(t),t.Zi(n),t.Ki(s),this.x_(n),this.uo=null}u_(t,e,s){e.Sr!==s.Sr&&this.O_(t)}o_(t,e){const s=Object.assign({visible:!0,autoScale:!0},re(e)),n=new rd(t,s,this.Hi.W().layout,this.Hi.W().localization);return n.Oo(this.Bt()),n}}class ld{constructor(t,e,s=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ge=new Map,this.Ze=new Map,this.E_=t,this.N_=e,this.Je=s}F_(t){const e=t.time,s=this.N_.cacheKey(e),n=this.Ge.get(s);if(n!==void 0)return n.W_;if(this.Ye===this.Je){const o=this.Ze.get(this.Ke);this.Ze.delete(this.Ke),this.Ge.delete(Tt(o)),this.Ke++,this.Ye--}const r=this.E_(t);return this.Ge.set(s,{W_:r,nr:this.Xe}),this.Ze.set(this.Xe,s),this.Ye++,this.Xe++,r}}class Mi{constructor(t,e){Oe(t<=e,"right should be >= left"),this.j_=t,this.H_=e}Rs(){return this.j_}ui(){return this.H_}U_(){return this.H_-this.j_+1}Yr(t){return this.j_<=t&&t<=this.H_}gh(t){return this.j_===t.Rs()&&this.H_===t.ui()}}function $o(i,t){return i===null||t===null?i===t:i.gh(t)}class hd{constructor(){this.q_=new Map,this.Ge=null,this.Y_=!1}X_(t){this.Y_=t,this.Ge=null}K_(t,e){this.Z_(e),this.Ge=null;for(let s=e;s<t.length;++s){const n=t[s];let r=this.q_.get(n.timeWeight);r===void 0&&(r=[],this.q_.set(n.timeWeight,r)),r.push({index:s,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}G_(t,e){const s=Math.ceil(e/t);return this.Ge!==null&&this.Ge.J_===s||(this.Ge={La:this.Q_(s),J_:s}),this.Ge.La}Z_(t){if(t===0)return void this.q_.clear();const e=[];this.q_.forEach((s,n)=>{t<=s[0].index?e.push(n):s.splice(Bi(s,t,r=>r.index<t),1/0)});for(const s of e)this.q_.delete(s)}Q_(t){let e=[];for(const s of Array.from(this.q_.keys()).sort((n,r)=>r-n)){if(!this.q_.get(s))continue;const n=e;e=[];const r=n.length;let o=0;const l=Tt(this.q_.get(s)),h=l.length;let a=1/0,u=-1/0;for(let c=0;c<h;c++){const f=l[c],m=f.index;for(;o<r;){const v=n[o],p=v.index;if(!(p<m)){a=p;break}o++,e.push(v),u=p,a=1/0}if(a-m>=t&&m-u>=t)e.push(f),u=m;else if(this.Y_)return n}for(;o<r;o++)e.push(n[o])}return e}}class si{constructor(t){this.tu=t}iu(){return this.tu===null?null:new Mi(Math.floor(this.tu.Rs()),Math.ceil(this.tu.ui()))}nu(){return this.tu}static su(){return new si(null)}}function ad(i,t){return i.weight>t.weight?i:t}class ud{constructor(t,e,s,n){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new hd,this.lu=new Map,this.au=si.su(),this.ou=!0,this._u=new ut,this.uu=new ut,this.cu=new ut,this.du=null,this.fu=null,this.vu=[],this._n=e,this.bo=s,this.pu=e.rightOffset,this.mu=e.barSpacing,this.Hi=t,this.N_=n,this.bu(),this.hu.X_(e.uniformDistribution)}W(){return this._n}wu(t){Yt(this.bo,t),this.gu(),this.bu()}Eh(t,e){var s;Yt(this._n,t),this._n.fixLeftEdge&&this.Mu(),this._n.fixRightEdge&&this.xu(),t.barSpacing!==void 0&&this.Hi.Kn(t.barSpacing),t.rightOffset!==void 0&&this.Hi.Zn(t.rightOffset),t.minBarSpacing!==void 0&&this.Hi.Kn((s=t.barSpacing)!==null&&s!==void 0?s:this.mu),this.gu(),this.bu(),this.cu.m()}vn(t){var e,s;return(s=(e=this.ru[t])===null||e===void 0?void 0:e.time)!==null&&s!==void 0?s:null}$i(t){var e;return(e=this.ru[t])!==null&&e!==void 0?e:null}ya(t,e){if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;const s=Bi(this.ru,this.N_.key(t),(n,r)=>this.N_.key(n.time)<r);return this.N_.key(t)<this.N_.key(this.ru[s].time)?e?s:null:s}Ei(){return this.e_===0||this.ru.length===0||this.eu===null}ka(){return this.ru.length>0}qs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const t=this.qs();if(t===null)return null;const e={from:t.Rs(),to:t.ui()};return this.Cu(e)}Cu(t){const e=Math.round(t.from),s=Math.round(t.to),n=O(this.Tu()),r=O(this.Pu());return{from:O(this.$i(Math.max(n,e))),to:O(this.$i(Math.min(r,s)))}}Ru(t){return{from:O(this.ya(t.from,!0)),to:O(this.ya(t.to,!0))}}ji(){return this.e_}m_(t){if(!isFinite(t)||t<=0||this.e_===t)return;const e=this.ku(),s=this.e_;if(this.e_=t,this.ou=!0,this._n.lockVisibleTimeRangeOnResize&&s!==0){const n=this.mu*t/s;this.mu=n}if(this._n.fixLeftEdge&&e!==null&&e.Rs()<=0){const n=s-t;this.pu-=Math.round(n/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}It(t){if(this.Ei()||!Li(t))return 0;const e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}Zs(t,e){const s=this.Au(),n=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=n;o<r;o++){const l=t[o].ot,h=s+this.pu-l,a=this.e_-(h+.5)*this.mu-1;t[o].nt=a}}Vu(t){return Math.ceil(this.Bu(t))}Zn(t){this.ou=!0,this.pu=t,this.Ou(),this.Hi.Iu(),this.Hi.Nh()}ee(){return this.mu}Kn(t){this.zu(t),this.Ou(),this.Hi.Iu(),this.Hi.Nh()}Lu(){return this.pu}La(){if(this.Ei())return null;if(this.fu!==null)return this.fu;const t=this.mu,e=5*(this.Hi.W().layout.fontSize+4)/8*(this._n.tickMarkMaxCharacterLength||8),s=Math.round(e/t),n=O(this.qs()),r=Math.max(n.Rs(),n.Rs()-s),o=Math.max(n.ui(),n.ui()-s),l=this.hu.G_(t,e),h=this.Tu()+s,a=this.Pu()-s,u=this.Eu(),c=this._n.fixLeftEdge||u,f=this._n.fixRightEdge||u;let m=0;for(const v of l){if(!(r<=v.index&&v.index<=o))continue;let p;m<this.vu.length?(p=this.vu[m],p.coord=this.It(v.index),p.label=this.Nu(v),p.weight=v.weight):(p={needAlignCoordinate:!1,coord:this.It(v.index),label:this.Nu(v),weight:v.weight},this.vu.push(p)),this.mu>e/2&&!u?p.needAlignCoordinate=!1:p.needAlignCoordinate=c&&v.index<=h||f&&v.index>=a,m++}return this.vu.length=m,this.fu=this.vu,this.vu}Fu(){this.ou=!0,this.Kn(this._n.barSpacing),this.Zn(this._n.rightOffset)}Wu(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}ju(t,e){const s=this.Bu(t),n=this.ee(),r=n+e*(n/10);this.Kn(r),this._n.rightBarStaysOnScroll||this.Zn(this.Lu()+(s-this.Bu(t)))}Uo(t){this.fo&&this.Zo(),this.do===null&&this.du===null&&(this.Ei()||(this.do=t,this.Hu()))}qo(t){if(this.du===null)return;const e=An(this.e_-t,0,this.e_),s=An(this.e_-O(this.do),0,this.e_);e!==0&&s!==0&&this.Kn(this.du.ee*e/s)}Yo(){this.do!==null&&(this.do=null,this.$u())}Xo(t){this.fo===null&&this.du===null&&(this.Ei()||(this.fo=t,this.Hu()))}Ko(t){if(this.fo===null)return;const e=(this.fo-t)/this.ee();this.pu=O(this.du).Lu+e,this.ou=!0,this.Ou()}Zo(){this.fo!==null&&(this.fo=null,this.$u())}Uu(){this.qu(this._n.rightOffset)}qu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.pu,n=performance.now();this.Hi.qn({Yu:r=>(r-n)/e>=1,Xu:r=>{const o=(r-n)/e;return o>=1?t:s+(t-s)*o}})}bt(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}Ku(){return this._u}Zu(){return this.uu}Gu(){return this.cu}Au(){return this.eu||0}Ju(t){const e=t.U_();this.zu(this.e_/e),this.pu=t.ui()-this.Au(),this.Ou(),this.ou=!0,this.Hi.Iu(),this.Hi.Nh()}Qu(){const t=this.Tu(),e=this.Pu();t!==null&&e!==null&&this.Ju(new Mi(t,e+this._n.rightOffset))}tc(t){const e=new Mi(t.from,t.to);this.Ju(e)}Ui(t){return this.bo.timeFormatter!==void 0?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}Eu(){const{handleScroll:t,handleScale:e}=this.Hi.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Tu(){return this.ru.length===0?null:0}Pu(){return this.ru.length===0?null:this.ru.length-1}ic(t){return(this.e_-1-t)/this.mu}Bu(t){const e=this.ic(t),s=this.Au()+this.pu-e;return Math.round(1e6*s)/1e6}zu(t){const e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}Su(){if(!this.ou)return;if(this.ou=!1,this.Ei())return void this.sc(si.su());const t=this.Au(),e=this.e_/this.mu,s=this.pu+t,n=new Mi(s-e+1,s);this.sc(new si(n))}Du(){const t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),this.e_!==0){const e=.5*this.e_;this.mu>e&&(this.mu=e,this.ou=!0)}}ec(){return this._n.fixLeftEdge&&this._n.fixRightEdge&&this.ru.length!==0?this.e_/this.ru.length:this._n.minBarSpacing}Ou(){const t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);const e=this.hc();e!==null&&this.pu<e&&(this.pu=e,this.ou=!0)}hc(){const t=this.Tu(),e=this.eu;return t===null||e===null?null:t-e-1+(this._n.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}rc(){return this._n.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}Hu(){this.du={ee:this.ee(),Lu:this.Lu()}}$u(){this.du=null}Nu(t){let e=this.lu.get(t.weight);return e===void 0&&(e=new ld(s=>this.lc(s),this.N_),this.lu.set(t.weight,e)),e.F_(t)}lc(t){return this.N_.formatTickmark(t,this.bo)}sc(t){const e=this.au;this.au=t,$o(e.iu(),this.au.iu())||this._u.m(),$o(e.nu(),this.au.nu())||this.uu.m(),this.nc()}nc(){this.fu=null}gu(){this.nc(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this._n.fixLeftEdge)return;const t=this.Tu();if(t===null)return;const e=this.qs();if(e===null)return;const s=e.Rs()-t;if(s<0){const n=this.pu-s-1;this.Zn(n)}this.Du()}xu(){this.Ou(),this.Du()}}class cd{K(t,e,s){t.useMediaCoordinateSpace(n=>this.Z(n,e,s))}fl(t,e,s){t.useMediaCoordinateSpace(n=>this.ac(n,e,s))}ac(t,e,s){}}class fd extends cd{constructor(t){super(),this.oc=new Map,this.zt=t}Z(t){}ac(t){if(!this.zt.yt)return;const{context:e,mediaSize:s}=t;let n=0;for(const o of this.zt._c){if(o.Zt.length===0)continue;e.font=o.R;const l=this.uc(e,o.Zt);l>s.width?o.ju=s.width/l:o.ju=1,n+=o.cc*o.ju}let r=0;switch(this.zt.dc){case"top":r=0;break;case"center":r=Math.max((s.height-n)/2,0);break;case"bottom":r=Math.max(s.height-n,0)}e.fillStyle=this.zt.O;for(const o of this.zt._c){e.save();let l=0;switch(this.zt.fc){case"left":e.textAlign="left",l=o.cc/2;break;case"center":e.textAlign="center",l=s.width/2;break;case"right":e.textAlign="right",l=s.width-1-o.cc/2}e.translate(l,r),e.textBaseline="top",e.font=o.R,e.scale(o.ju,o.ju),e.fillText(o.Zt,0,o.vc),e.restore(),r+=o.cc*o.ju}}uc(t,e){const s=this.mc(t.font);let n=s.get(e);return n===void 0&&(n=t.measureText(e).width,s.set(e,n)),n}mc(t){let e=this.oc.get(t);return e===void 0&&(e=new Map,this.oc.set(t,e)),e}}class dd{constructor(t){this.ft=!0,this.Ft={yt:!1,O:"",_c:[],dc:"center",fc:"center"},this.Wt=new fd(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.O=t.color,e.fc=t.horzAlign,e.dc=t.vertAlign,e._c=[{Zt:t.text,R:li(t.fontSize,t.fontFamily,t.fontStyle),cc:1.2*t.fontSize,vc:0,ju:0}])}}class pd extends fr{constructor(t,e){super(),this._n=e,this.mn=new dd(this)}Tn(){return[]}Cn(){return[this.mn]}W(){return this._n}Rn(){this.mn.bt()}}var Do,Bo,Fo,Vo,Wo;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(Do||(Do={}));class md{constructor(t,e,s){this.bc=[],this.wc=[],this.e_=0,this.gc=null,this.Mc=new ut,this.xc=new ut,this.Sc=null,this.kc=t,this._n=e,this.N_=s,this.yc=new Kc(this),this.wl=new ud(this,e.timeScale,this._n.localization,s),this.vt=new nf(this,e.crosshair),this.Cc=new Jf(e.crosshair),this.Tc=new pd(this,e.watermark),this.Pc(),this.bc[0].p_(2e3),this.Rc=this.Dc(0),this.Oc=this.Dc(1)}$l(){this.Ac(bt.ns())}Nh(){this.Ac(bt.ts())}sa(){this.Ac(new bt(1))}Ul(t){const e=this.Vc(t);this.Ac(e)}Bc(){return this.gc}Ic(t){const e=this.gc;this.gc=t,e!==null&&this.Ul(e.zc),t!==null&&this.Ul(t.zc)}W(){return this._n}Eh(t){Yt(this._n,t),this.bc.forEach(e=>e.c_(t)),t.timeScale!==void 0&&this.wl.Eh(t.timeScale),t.localization!==void 0&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Mc.m(),this.Rc=this.Dc(0),this.Oc=this.Dc(1),this.$l()}Lc(t,e){if(t==="left")return void this.Eh({leftPriceScale:e});if(t==="right")return void this.Eh({rightPriceScale:e});const s=this.Ec(t);s!==null&&(s.Dt.Eh(e),this.Mc.m())}Ec(t){for(const e of this.bc){const s=e.d_(t);if(s!==null)return{Ht:e,Dt:s}}return null}St(){return this.wl}Nc(){return this.bc}Fc(){return this.Tc}Wc(){return this.vt}jc(){return this.xc}Hc(t,e){t.Oo(e),this.Iu()}m_(t){this.e_=t,this.wl.m_(this.e_),this.bc.forEach(e=>e.m_(t)),this.Iu()}Pc(t){const e=new od(this.wl,this);t!==void 0?this.bc.splice(t,0,e):this.bc.push(e);const s=t===void 0?this.bc.length-1:t,n=bt.ns();return n.Ln(s,{En:0,Nn:!0}),this.Ac(n),e}y_(t,e,s){t.y_(e,s)}C_(t,e,s){t.C_(e,s),this.ql(),this.Ac(this.$c(t,2))}T_(t,e){t.T_(e),this.Ac(this.$c(t,2))}P_(t,e,s){e.yo()||t.P_(e,s)}R_(t,e,s){e.yo()||(t.R_(e,s),this.ql(),this.Ac(this.$c(t,2)))}D_(t,e){e.yo()||(t.D_(e),this.Ac(this.$c(t,2)))}A_(t,e){t.A_(e),this.Ac(this.$c(t,2))}Uc(t){this.wl.Uo(t)}qc(t,e){const s=this.St();if(s.Ei()||e===0)return;const n=s.ji();t=Math.max(1,Math.min(t,n)),s.ju(t,e),this.Iu()}Yc(t){this.Xc(0),this.Kc(t),this.Zc()}Gc(t){this.wl.qo(t),this.Iu()}Jc(){this.wl.Yo(),this.Nh()}Xc(t){this.wl.Xo(t)}Kc(t){this.wl.Ko(t),this.Iu()}Zc(){this.wl.Zo(),this.Nh()}wt(){return this.wc}Qc(t,e,s,n,r){this.vt.bn(t,e);let o=NaN,l=this.wl.Vu(t);const h=this.wl.qs();h!==null&&(l=Math.min(Math.max(h.Rs(),l),h.ui()));const a=n.dn(),u=a.Ct();u!==null&&(o=a.fn(e,u)),o=this.Cc.Ca(o,l,n),this.vt.xn(l,o,n),this.sa(),r||this.xc.m(this.vt.xt(),{x:t,y:e},s)}td(t,e,s){const n=s.dn(),r=n.Ct(),o=n.Rt(t,O(r)),l=this.wl.ya(e,!0),h=this.wl.It(O(l));this.Qc(h,o,null,s,!0)}nd(t){this.Wc().kn(),this.sa(),t||this.xc.m(null,null,null)}ql(){const t=this.vt.Ht();if(t!==null){const e=this.vt.gn(),s=this.vt.Mn();this.Qc(e,s,null,t)}this.vt.Rn()}sd(t,e,s){const n=this.wl.vn(0);e!==void 0&&s!==void 0&&this.wl.bt(e,s);const r=this.wl.vn(0),o=this.wl.Au(),l=this.wl.qs();if(l!==null&&n!==null&&r!==null){const h=l.Yr(o),a=this.N_.key(n)>this.N_.key(r),u=t!==null&&t>o&&!a,c=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=h&&(s!==void 0||c)&&this.wl.W().shiftVisibleRangeOnNewBar;if(u&&!f){const m=t-o;this.wl.Zn(this.wl.Lu()-m)}}this.wl.Wu(t)}Kl(t){t!==null&&t.B_()}_r(t){const e=this.bc.find(s=>s.No().includes(t));return e===void 0?null:e}Iu(){this.Tc.Rn(),this.bc.forEach(t=>t.B_()),this.ql()}S(){this.bc.forEach(t=>t.S()),this.bc.length=0,this._n.localization.priceFormatter=void 0,this._n.localization.percentageFormatter=void 0,this._n.localization.timeFormatter=void 0}ed(){return this.yc}vr(){return this.yc.W()}f_(){return this.Mc}rd(t,e,s){const n=this.bc[0],r=this.hd(e,t,n,s);return this.wc.push(r),this.wc.length===1?this.$l():this.Nh(),r}ld(t){const e=this._r(t),s=this.wc.indexOf(t);Oe(s!==-1,"Series not found"),this.wc.splice(s,1),O(e).jo(t),t.S&&t.S()}Hl(t,e){const s=O(this._r(t));s.jo(t);const n=this.Ec(e);if(n===null){const r=t.Xi();s.Fo(t,e,r)}else{const r=n.Ht===s?t.Xi():void 0;n.Ht.Fo(t,e,r)}}Qu(){const t=bt.ts();t.jn(),this.Ac(t)}ad(t){const e=bt.ts();e.Un(t),this.Ac(e)}Xn(){const t=bt.ts();t.Xn(),this.Ac(t)}Kn(t){const e=bt.ts();e.Kn(t),this.Ac(e)}Zn(t){const e=bt.ts();e.Zn(t),this.Ac(e)}qn(t){const e=bt.ts();e.qn(t),this.Ac(e)}Hn(){const t=bt.ts();t.Hn(),this.Ac(t)}od(){return this._n.rightPriceScale.visible?"right":"left"}_d(){return this.Oc}q(){return this.Rc}Vt(t){const e=this.Oc,s=this.Rc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Sc===null||this.Sc.ys!==s||this.Sc.Cs!==e)this.Sc={ys:s,Cs:e,ud:new Map};else{const r=this.Sc.ud.get(t);if(r!==void 0)return r}const n=function(r,o,l){const[h,a,u,c]=gs(r),[f,m,v,p]=gs(o),w=[Pt(h+l*(f-h)),Pt(a+l*(m-a)),Pt(u+l*(v-u)),gh(c+l*(p-c))];return`rgba(${w[0]}, ${w[1]}, ${w[2]}, ${w[3]})`}(s,e,t/100);return this.Sc.ud.set(t,n),n}$c(t,e){const s=new bt(e);if(t!==null){const n=this.bc.indexOf(t);s.Ln(n,{En:e})}return s}Vc(t,e){return e===void 0&&(e=2),this.$c(this._r(t),e)}Ac(t){this.kc&&this.kc(t),this.bc.forEach(e=>e.z_().Fh().bt())}hd(t,e,s,n){const r=new vr(this,t,e,s,n),o=t.priceScaleId!==void 0?t.priceScaleId:this.od();return s.Fo(r,o),Ps(o)||r.Eh(t),r}Dc(t){const e=this._n.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function $n(i){return!ie(i)&&!Di(i)}function Ph(i){return ie(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(Bo||(Bo={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(Fo||(Fo={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(Vo||(Vo={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(Wo||(Wo={}));const jo=i=>i.getUTCFullYear();function vd(i,t,e){return t.replace(/yyyy/g,(s=>oe(jo(s),4))(i)).replace(/yy/g,(s=>oe(jo(s)%100,2))(i)).replace(/MMMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(i,e)).replace(/MMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(i,e)).replace(/MM/g,(s=>oe((n=>n.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>oe((n=>n.getUTCDate())(s),2))(i))}class Ah{constructor(t="yyyy-MM-dd",e="default"){this.dd=t,this.fd=e}F_(t){return vd(t,this.dd,this.fd)}}class gd{constructor(t){this.vd=t||"%h:%m:%s"}F_(t){return this.vd.replace("%h",oe(t.getUTCHours(),2)).replace("%m",oe(t.getUTCMinutes(),2)).replace("%s",oe(t.getUTCSeconds(),2))}}const bd={pd:"yyyy-MM-dd",md:"%h:%m:%s",bd:" ",wd:"default"};class _d{constructor(t={}){const e=Object.assign(Object.assign({},bd),t);this.gd=new Ah(e.pd,e.wd),this.Md=new gd(e.md),this.xd=e.bd}F_(t){return`${this.gd.F_(t)}${this.xd}${this.Md.F_(t)}`}}function Ji(i){return 60*i*60*1e3}function cn(i){return 60*i*1e3}const ts=[{Sd:(Ho=1,1e3*Ho),kd:10},{Sd:cn(1),kd:20},{Sd:cn(5),kd:21},{Sd:cn(30),kd:22},{Sd:Ji(1),kd:30},{Sd:Ji(3),kd:31},{Sd:Ji(6),kd:32},{Sd:Ji(12),kd:33}];var Ho;function Uo(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=ts.length-1;e>=0;--e)if(Math.floor(t.getTime()/ts[e].Sd)!==Math.floor(i.getTime()/ts[e].Sd))return ts[e].kd;return 0}function fn(i){let t=i;if(Di(i)&&(t=gr(i)),!$n(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{yd:Math.round(e.getTime()/1e3),Cd:t}}function Ko(i){if(!Ph(i))throw new Error("time must be of type isUTCTimestamp");return{yd:i}}function gr(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Zo(i){Di(i.time)&&(i.time=gr(i.time))}class Yo{options(){return this._n}setOptions(t){this._n=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Zo)}(t):Zo(t)}createConverterToInternalObj(t){return O(function(e){return e.length===0?null:$n(e[0].time)||Di(e[0].time)?fn:Ko}(t))}key(t){return typeof t=="object"&&"yd"in t?t.yd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Cd===void 0?new Date(1e3*e.yd).getTime():new Date(Date.UTC(e.Cd.year,e.Cd.month-1,e.Cd.day)).getTime()}convertHorzItemToInternal(t){return Ph(e=t)?Ko(e):$n(e)?fn(e):fn(gr(e));var e}updateFormatter(t){if(!this._n)return;const e=t.dateFormat;this._n.timeScale.timeVisible?this.Td=new _d({pd:e,md:this._n.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",bd:"   ",wd:t.locale}):this.Td=new Ah(e,t.locale)}formatHorzItem(t){const e=t;return this.Td.F_(new Date(1e3*e.yd))}formatTickmark(t,e){const s=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this._n.timeScale.timeVisible,this._n.timeScale.secondsVisible),n=this._n.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(t.originalTime,s,e.locale);if(r!==null)return r}return function(r,o,l){const h={};switch(o){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const a=r.Cd===void 0?new Date(1e3*r.yd):new Date(Date.UTC(r.Cd.year,r.Cd.month-1,r.Cd.day));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()).toLocaleString(l,h)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(ad,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,n=0){if(s.length===0)return;let r=n===0?null:s[n-1].time.yd,o=r!==null?new Date(1e3*r):null,l=0;for(let h=n;h<s.length;++h){const a=s[h],u=new Date(1e3*a.time.yd);o!==null&&(a.timeWeight=Uo(u,o)),l+=a.time.yd-(r||a.time.yd),r=a.time.yd,o=u}if(n===0&&s.length>1){const h=Math.ceil(l/(s.length-1)),a=new Date(1e3*(s[0].time.yd-h));s[0].timeWeight=Uo(new Date(1e3*s[0].time.yd),a)}})(t,e)}static Pd(t){return Yt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const hi=typeof window<"u";function qo(){return!!hi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function dn(){return!!hi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Dn(i){return i+i%2}function pn(i,t){return i.Rd-t.Rd}function mn(i,t,e){const s=(i.Rd-t.Rd)/(i.ot-t.ot);return Math.sign(s)*Math.min(Math.abs(s),e)}class wd{constructor(t,e,s,n){this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=null,this.Id=0,this.zd=0,this.Ld=t,this.Ed=e,this.Nd=s,this.ss=n}Fd(t,e){if(this.Dd!==null){if(this.Dd.ot===e)return void(this.Dd.Rd=t);if(Math.abs(this.Dd.Rd-t)<this.ss)return}this.Vd=this.Ad,this.Ad=this.Od,this.Od=this.Dd,this.Dd={ot:e,Rd:t}}Pr(t,e){if(this.Dd===null||this.Od===null||e-this.Dd.ot>50)return;let s=0;const n=mn(this.Dd,this.Od,this.Ed),r=pn(this.Dd,this.Od),o=[n],l=[r];if(s+=r,this.Ad!==null){const a=mn(this.Od,this.Ad,this.Ed);if(Math.sign(a)===Math.sign(n)){const u=pn(this.Od,this.Ad);if(o.push(a),l.push(u),s+=u,this.Vd!==null){const c=mn(this.Ad,this.Vd,this.Ed);if(Math.sign(c)===Math.sign(n)){const f=pn(this.Ad,this.Vd);o.push(c),l.push(f),s+=f}}}}let h=0;for(let a=0;a<o.length;++a)h+=l[a]/s*o[a];Math.abs(h)<this.Ld||(this.Bd={Rd:t,ot:e},this.zd=h,this.Id=function(a,u){const c=Math.log(u);return Math.log(1*c/-a)/c}(Math.abs(h),this.Nd))}Xu(t){const e=O(this.Bd),s=t-e.ot;return e.Rd+this.zd*(Math.pow(this.Nd,s)-1)/Math.log(this.Nd)}Yu(t){return this.Bd===null||this.Wd(t)===this.Id}Wd(t){const e=t-O(this.Bd).ot;return Math.min(e,this.Id)}}function We(i,t){const e=O(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=kc(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return s.resizeCanvasElement(t),s}function je(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function Bn(i,t,e,s){i.fl&&i.fl(t,e,s)}function as(i,t,e,s){i.K(t,e,s)}function Fn(i,t,e,s){const n=i(e,s);for(const r of n){const o=r.gt();o!==null&&t(o)}}function yd(i){hi&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class br{constructor(t,e,s){this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Xd=null,this.Kd=!1,this.Zd=null,this.Gd=null,this.Jd=!1,this.Qd=!1,this.tf=!1,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=null,this.af=0,this._f=!1,this.uf=!1,this.cf=!1,this.df=0,this.ff=null,this.vf=!dn(),this.pf=n=>{this.mf(n)},this.bf=n=>{if(this.wf(n)){const r=this.gf(n);if(++this.Ud,this.qd&&this.Ud>1){const{Mf:o}=this.xf(Jt(n),this.Yd);o<30&&!this.tf&&this.Sf(r,this.yf.kf),this.Cf()}}else{const r=this.gf(n);if(++this.jd,this.Hd&&this.jd>1){const{Mf:o}=this.xf(Jt(n),this.$d);o<5&&!this.Qd&&this.Tf(r,this.yf.Pf),this.Rf()}}},this.Df=t,this.yf=e,this._n=s,this.Of()}S(){this.if!==null&&(this.if(),this.if=null),this.nf!==null&&(this.nf(),this.nf=null),this.ef!==null&&(this.ef(),this.ef=null),this.rf!==null&&(this.rf(),this.rf=null),this.hf!==null&&(this.hf(),this.hf=null),this.sf!==null&&(this.sf(),this.sf=null),this.Af(),this.Rf()}Vf(t){this.ef&&this.ef();const e=this.Bf.bind(this);if(this.ef=()=>{this.Df.removeEventListener("mousemove",e)},this.Df.addEventListener("mousemove",e),this.wf(t))return;const s=this.gf(t);this.Tf(s,this.yf.If),this.vf=!0}Rf(){this.Hd!==null&&clearTimeout(this.Hd),this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Cf(){this.qd!==null&&clearTimeout(this.qd),this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Bf(t){if(this.cf||this.Gd!==null||this.wf(t))return;const e=this.gf(t);this.Tf(e,this.yf.zf),this.vf=!0}Lf(t){const e=vn(t.changedTouches,O(this.ff));if(e===null||(this.df=es(t),this.lf!==null)||this.uf)return;this._f=!0;const s=this.xf(Jt(e),O(this.Gd)),{Ef:n,Nf:r,Mf:o}=s;if(this.Jd||!(o<5)){if(!this.Jd){const l=.5*n,h=r>=l&&!this._n.Ff(),a=l>r&&!this._n.Wf();h||a||(this.uf=!0),this.Jd=!0,this.tf=!0,this.Af(),this.Cf()}if(!this.uf){const l=this.gf(t,e);this.Sf(l,this.yf.jf),Ye(t)}}}Hf(t){if(t.button!==0)return;const e=this.xf(Jt(t),O(this.Zd)),{Mf:s}=e;if(s>=5&&(this.Qd=!0,this.Rf()),this.Qd){const n=this.gf(t);this.Tf(n,this.yf.$f)}}xf(t,e){const s=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{Ef:s,Nf:n,Mf:s+n}}Uf(t){let e=vn(t.changedTouches,O(this.ff));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.ff=null,this.df=es(t),this.Af(),this.Gd=null,this.hf&&(this.hf(),this.hf=null);const s=this.gf(t,e);if(this.Sf(s,this.yf.qf),++this.Ud,this.qd&&this.Ud>1){const{Mf:n}=this.xf(Jt(e),this.Yd);n<30&&!this.tf&&this.Sf(s,this.yf.kf),this.Cf()}else this.tf||(this.Sf(s,this.yf.Yf),this.yf.Yf&&Ye(t));this.Ud===0&&Ye(t),t.touches.length===0&&this.Kd&&(this.Kd=!1,Ye(t))}mf(t){if(t.button!==0)return;const e=this.gf(t);if(this.Zd=null,this.cf=!1,this.rf&&(this.rf(),this.rf=null),qo()&&this.Df.ownerDocument.documentElement.removeEventListener("mouseleave",this.pf),!this.wf(t))if(this.Tf(e,this.yf.Xf),++this.jd,this.Hd&&this.jd>1){const{Mf:s}=this.xf(Jt(t),this.$d);s<5&&!this.Qd&&this.Tf(e,this.yf.Pf),this.Rf()}else this.Qd||this.Tf(e,this.yf.Kf)}Af(){this.Xd!==null&&(clearTimeout(this.Xd),this.Xd=null)}Zf(t){if(this.ff!==null)return;const e=t.changedTouches[0];this.ff=e.identifier,this.df=es(t);const s=this.Df.ownerDocument.documentElement;this.tf=!1,this.Jd=!1,this.uf=!1,this.Gd=Jt(e),this.hf&&(this.hf(),this.hf=null);{const r=this.Lf.bind(this),o=this.Uf.bind(this);this.hf=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Af(),this.Xd=setTimeout(this.Gf.bind(this,t),240)}const n=this.gf(t,e);this.Sf(n,this.yf.Jf),this.qd||(this.Ud=0,this.qd=setTimeout(this.Cf.bind(this),500),this.Yd=Jt(e))}Qf(t){if(t.button!==0)return;const e=this.Df.ownerDocument.documentElement;qo()&&e.addEventListener("mouseleave",this.pf),this.Qd=!1,this.Zd=Jt(t),this.rf&&(this.rf(),this.rf=null);{const n=this.Hf.bind(this),r=this.mf.bind(this);this.rf=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r)}if(this.cf=!0,this.wf(t))return;const s=this.gf(t);this.Tf(s,this.yf.tv),this.Hd||(this.jd=0,this.Hd=setTimeout(this.Rf.bind(this),500),this.$d=Jt(t))}Of(){this.Df.addEventListener("mouseenter",this.Vf.bind(this)),this.Df.addEventListener("touchcancel",this.Af.bind(this));{const t=this.Df.ownerDocument,e=s=>{this.yf.iv&&(s.composed&&this.Df.contains(s.composedPath()[0])||s.target&&this.Df.contains(s.target)||this.yf.iv())};this.nf=()=>{t.removeEventListener("touchstart",e)},this.if=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}dn()&&(this.sf=()=>{this.Df.removeEventListener("dblclick",this.bf)},this.Df.addEventListener("dblclick",this.bf)),this.Df.addEventListener("mouseleave",this.nv.bind(this)),this.Df.addEventListener("touchstart",this.Zf.bind(this),{passive:!0}),yd(this.Df),this.Df.addEventListener("mousedown",this.Qf.bind(this)),this.sv(),this.Df.addEventListener("touchmove",()=>{},{passive:!1})}sv(){this.yf.ev===void 0&&this.yf.rv===void 0&&this.yf.hv===void 0||(this.Df.addEventListener("touchstart",t=>this.lv(t.touches),{passive:!0}),this.Df.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.lf!==null&&this.yf.rv!==void 0){const e=Qo(t.touches[0],t.touches[1])/this.af;this.yf.rv(this.lf,e),Ye(t)}},{passive:!1}),this.Df.addEventListener("touchend",t=>{this.lv(t.touches)}))}lv(t){t.length===1&&(this._f=!1),t.length!==2||this._f||this.Kd?this.av():this.ov(t)}ov(t){const e=this.Df.getBoundingClientRect()||{left:0,top:0};this.lf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.af=Qo(t[0],t[1]),this.yf.ev!==void 0&&this.yf.ev(),this.Af()}av(){this.lf!==null&&(this.lf=null,this.yf.hv!==void 0&&this.yf.hv())}nv(t){if(this.ef&&this.ef(),this.wf(t)||!this.vf)return;const e=this.gf(t);this.Tf(e,this.yf._v),this.vf=!dn()}Gf(t){const e=vn(t.touches,O(this.ff));if(e===null)return;const s=this.gf(t,e);this.Sf(s,this.yf.uv),this.tf=!0,this.Kd=!0}wf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:es(t)<this.df+500}Sf(t,e){e&&e.call(this.yf,t)}Tf(t,e){e&&e.call(this.yf,t)}gf(t,e){const s=e||t,n=this.Df.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-n.left,localY:s.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,cv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",dv:t.type,fv:s.target,vv:t.view,pv:()=>{t.type!=="touchstart"&&Ye(t)}}}}function Qo(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function Ye(i){i.cancelable&&i.preventDefault()}function Jt(i){return{nt:i.pageX,st:i.pageY}}function es(i){return i.timeStamp||performance.now()}function vn(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}function is(i){return{zc:i.zc,mv:{mr:i.bv.externalId},wv:i.bv.cursorStyle}}function xd(i,t,e){for(const s of i){const n=s.gt();if(n!==null&&n.pr){const r=n.pr(t,e);if(r!==null)return{vv:s,mv:r}}}return null}function gn(i,t){return e=>{var s,n,r,o;return((n=(s=e.Dt())===null||s===void 0?void 0:s.xa())!==null&&n!==void 0?n:"")!==t?[]:(o=(r=e.la)===null||r===void 0?void 0:r.call(e,i))!==null&&o!==void 0?o:[]}}class Xo{constructor(t,e,s,n){this.zi=null,this.gv=null,this.Mv=!1,this.xv=new Ni(200),this.Zr=null,this.Sv=0,this.kv=!1,this.yv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Tv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Qi=t,this._n=e,this.mo=e.layout,this.yc=s,this.Pv=n==="left",this.Rv=gn("normal",n),this.Dv=gn("top",n),this.Ov=gn("bottom",n),this.Av=document.createElement("div"),this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Av.style.width="25px",this.Av.style.left="0",this.Av.style.position="relative",this.Vv=We(this.Av,st({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const r=this.Vv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Bv=We(this.Av,st({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const o=this.Bv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={tv:this.Iv.bind(this),Jf:this.Iv.bind(this),$f:this.zv.bind(this),jf:this.zv.bind(this),iv:this.Lv.bind(this),Xf:this.Ev.bind(this),qf:this.Ev.bind(this),Pf:this.Nv.bind(this),kf:this.Nv.bind(this),If:this.Fv.bind(this),_v:this.Wv.bind(this)};this.jv=new br(this.Bv.canvasElement,l,{Ff:()=>!this._n.handleScroll.vertTouchDrag,Wf:()=>!0})}S(){this.jv.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),je(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),je(this.Vv.canvasElement),this.Vv.dispose(),this.zi!==null&&this.zi.$o().p(this),this.zi=null}Hv(){return this.Av}P(){return this.mo.fontSize}$v(){const t=this.yc.W();return this.Zr!==t.R&&(this.xv.Qe(),this.Zr=t.R),t}Uv(){if(this.zi===null)return 0;let t=0;const e=this.$v(),s=O(this.Vv.canvasElement.getContext("2d"));s.save();const n=this.zi.La();s.font=this.qv(),n.length>0&&(t=Math.max(this.xv.Mi(s,n[0].Za),this.xv.Mi(s,n[n.length-1].Za)));const r=this.Yv();for(let h=r.length;h--;){const a=this.xv.Mi(s,r[h].Zt());a>t&&(t=a)}const o=this.zi.Ct();if(o!==null&&this.gv!==null){const h=this.zi.fn(1,o),a=this.zi.fn(this.gv.height-2,o);t=Math.max(t,this.xv.Mi(s,this.zi.Ni(Math.floor(Math.min(h,a))+.11111111111111,o)),this.xv.Mi(s,this.zi.Ni(Math.ceil(Math.max(h,a))-.11111111111111,o)))}s.restore();const l=t||34;return Dn(Math.ceil(e.C+e.T+e.B+e.I+5+l))}Xv(t){this.gv!==null&&Be(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`)}Kv(){return O(this.gv).width}Zi(t){this.zi!==t&&(this.zi!==null&&this.zi.$o().p(this),this.zi=t,t.$o().l(this.ao.bind(this),this))}Dt(){return this.zi}Qe(){const t=this.Qi.Zv();this.Qi.Cv().$t().A_(t,O(this.Dt()))}Gv(t){if(this.gv===null)return;if(t!==1){this.Jv(),this.Vv.applySuggestedBitmapSize();const s=Fe(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n),this.Ae(n)}),this.Qi.tp(s,this.Ov),this.ip(s),this.Qi.tp(s,this.Rv),this.np(s))}this.Bv.applySuggestedBitmapSize();const e=Fe(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.sp(e),this.Qi.tp(e,this.Dv))}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}bt(){var t;(t=this.zi)===null||t===void 0||t.La()}Iv(t){if(this.zi===null||this.zi.Ei()||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv();this.Mv=!0,e.y_(s,this.zi,t.localY)}zv(t){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv(),n=this.zi;e.C_(s,n,t.localY)}Lv(){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const t=this.Qi.Cv().$t(),e=this.Qi.Zv(),s=this.zi;this.Mv&&(this.Mv=!1,t.T_(e,s))}Ev(t){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv();this.Mv=!1,e.T_(s,this.zi)}Nv(t){this._n.handleScale.axisDoubleClickReset.price&&this.Qe()}Fv(t){this.zi!==null&&(!this.Qi.Cv().$t().W().handleScale.axisPressedMouseMove.price||this.zi.fh()||this.zi.Co()||this.hp(1))}Wv(t){this.hp(0)}Yv(){const t=[],e=this.zi===null?void 0:this.zi;return(s=>{for(let n=0;n<s.length;++n){const r=s[n].Tn(this.Qi.Zv(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.Qi.Zv().No()),t}Qv({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Qi.Zv().$t(),o=r.q(),l=r._d();o===l?Is(t,0,0,s,n,o):bh(t,0,0,s,n,o,l)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.gv===null||this.zi===null||!this.zi.W().borderVisible)return;t.fillStyle=this.zi.W().borderColor;const n=Math.max(1,Math.floor(this.$v().C*s));let r;r=this.Pv?e.width-n:0,t.fillRect(r,0,n,e.height)}ip(t){if(this.gv===null||this.zi===null)return;const e=this.zi.La(),s=this.zi.W(),n=this.$v(),r=this.Pv?this.gv.width-n.T:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:h})=>{o.fillStyle=s.borderColor;const a=Math.max(1,Math.floor(h)),u=Math.floor(.5*h),c=Math.round(n.T*l);o.beginPath();for(const f of e)o.rect(Math.floor(r*l),Math.round(f.Aa*h)-u,c,a);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this.qv(),o.fillStyle=(l=s.textColor)!==null&&l!==void 0?l:this.mo.textColor,o.textAlign=this.Pv?"right":"left",o.textBaseline="middle";const h=this.Pv?Math.round(r-n.B):Math.round(r+n.T+n.B),a=e.map(u=>this.xv.gi(o,u.Za));for(let u=e.length;u--;){const c=e[u];o.fillText(c.Za,h,c.Aa+a[u])}})}Jv(){if(this.gv===null||this.zi===null)return;let t=this.gv.height/2;const e=[],s=this.zi.No().slice(),n=this.Qi.Zv(),r=this.$v();this.zi===n.cr()&&this.Qi.Zv().No().forEach(h=>{n.ur(h)&&s.push(h)});const o=this.zi.Ta()[0],l=this.zi;s.forEach(h=>{const a=h.Tn(n,l);a.forEach(u=>{u.Oi(null),u.Ai()&&e.push(u)}),o===h&&a.length>0&&(t=a[0].Si())}),e.forEach(h=>h.Oi(h.Si())),this.zi.W().alignLabels&&this.lp(e,r,t)}lp(t,e,s){if(this.gv===null)return;const n=t.filter(o=>o.Si()<=s),r=t.filter(o=>o.Si()>s);n.sort((o,l)=>l.Si()-o.Si()),n.length&&r.length&&r.push(n[0]),r.sort((o,l)=>o.Si()-l.Si());for(const o of t){const l=Math.floor(o.Bt(e)/2),h=o.Si();h>-l&&h<l&&o.Oi(l),h>this.gv.height-l&&h<this.gv.height+l&&o.Oi(this.gv.height-l)}for(let o=1;o<n.length;o++){const l=n[o],h=n[o-1],a=h.Bt(e,!1),u=l.Si(),c=h.Di();u>c-a&&l.Oi(c-a)}for(let o=1;o<r.length;o++){const l=r[o],h=r[o-1],a=h.Bt(e,!0),u=l.Si(),c=h.Di();u<c+a&&l.Oi(c+a)}}np(t){if(this.gv===null)return;const e=this.Yv(),s=this.$v(),n=this.Pv?"right":"left";e.forEach(r=>{r.Vi()&&r.gt(O(this.zi)).K(t,s,this.xv,n)})}sp(t){if(this.gv===null||this.zi===null)return;const e=this.Qi.Cv().$t(),s=[],n=this.Qi.Zv(),r=e.Wc().Tn(n,this.zi);r.length&&s.push(r);const o=this.$v(),l=this.Pv?"right":"left";s.forEach(h=>{h.forEach(a=>{a.gt(O(this.zi)).K(t,o,this.xv,l)})})}hp(t){this.Av.style.cursor=t===1?"ns-resize":"default"}ao(){const t=this.Uv();this.Sv<t&&this.Qi.Cv().$t().$l(),this.Sv=t}qv(){return li(this.mo.fontSize,this.mo.fontFamily)}}function Sd(i,t){var e,s;return(s=(e=i.ra)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function ss(i,t){var e,s;return(s=(e=i.Cn)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function Md(i,t){var e,s;return(s=(e=i.Gi)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function Cd(i,t){var e,s;return(s=(e=i.na)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}class _r{constructor(t,e){this.gv=st({width:0,height:0}),this.ap=null,this.op=null,this._p=null,this.up=!1,this.cp=new ut,this.dp=new ut,this.fp=0,this.vp=!1,this.pp=null,this.mp=!1,this.bp=null,this.wp=null,this.kv=!1,this.yv=()=>{this.kv||this.gp===null||this.Hi().Nh()},this.Tv=()=>{this.kv||this.gp===null||this.Hi().Nh()},this.Mp=t,this.gp=e,this.gp.I_().l(this.xp.bind(this),this,!0),this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.Sp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.yp=document.createElement("td"),this.yp.style.padding="0",this.Sp.appendChild(s),this.Vv=We(s,st({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const n=this.Vv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Bv=We(s,st({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const r=this.Bv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Cp=document.createElement("tr"),this.Cp.appendChild(this.kp),this.Cp.appendChild(this.Sp),this.Cp.appendChild(this.yp),this.Tp(),this.jv=new br(this.Bv.canvasElement,this,{Ff:()=>this.pp===null&&!this.Mp.W().handleScroll.vertTouchDrag,Wf:()=>this.pp===null&&!this.Mp.W().handleScroll.horzTouchDrag})}S(){this.ap!==null&&this.ap.S(),this.op!==null&&this.op.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),je(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),je(this.Vv.canvasElement),this.Vv.dispose(),this.gp!==null&&this.gp.I_().p(this),this.jv.S()}Zv(){return O(this.gp)}Pp(t){this.gp!==null&&this.gp.I_().p(this),this.gp=t,this.gp!==null&&this.gp.I_().l(_r.prototype.xp.bind(this),this,!0),this.Tp()}Cv(){return this.Mp}Hv(){return this.Cp}Tp(){if(this.gp!==null&&(this.Rp(),this.Hi().wt().length!==0)){if(this.ap!==null){const t=this.gp.S_();this.ap.Zi(O(t))}if(this.op!==null){const t=this.gp.k_();this.op.Zi(O(t))}}}Dp(){this.ap!==null&&this.ap.bt(),this.op!==null&&this.op.bt()}v_(){return this.gp!==null?this.gp.v_():0}p_(t){this.gp&&this.gp.p_(t)}If(t){if(!this.gp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t)}tv(t){this.Op(),this.Vp(),this.Ap(t.localX,t.localY,t)}zf(t){var e;if(!this.gp)return;this.Op();const s=t.localX,n=t.localY;this.Ap(s,n,t);const r=this.pr(s,n);this.Mp.Bp((e=r==null?void 0:r.wv)!==null&&e!==void 0?e:null),this.Hi().Ic(r&&{zc:r.zc,mv:r.mv})}Kf(t){this.gp!==null&&(this.Op(),this.Ip(t))}Pf(t){this.gp!==null&&this.zp(this.dp,t)}kf(t){this.Pf(t)}$f(t){this.Op(),this.Lp(t),this.Ap(t.localX,t.localY,t)}Xf(t){this.gp!==null&&(this.Op(),this.vp=!1,this.Ep(t))}Yf(t){this.gp!==null&&this.Ip(t)}uv(t){if(this.vp=!0,this.pp===null){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}_v(t){this.gp!==null&&(this.Op(),this.gp.$t().Ic(null),this.Fp())}Wp(){return this.cp}jp(){return this.dp}ev(){this.fp=1,this.Hi().Hn()}rv(t,e){if(!this.Mp.W().handleScale.pinch)return;const s=5*(e-this.fp);this.fp=e,this.Hi().qc(t.nt,s)}Jf(t){this.vp=!1,this.mp=this.pp!==null,this.Vp();const e=this.Hi().Wc();this.pp!==null&&e.yt()&&(this.bp={x:e.Yt(),y:e.Xt()},this.pp={x:t.localX,y:t.localY})}jf(t){if(this.gp===null)return;const e=t.localX,s=t.localY;if(this.pp===null)this.Lp(t);else{this.mp=!1;const n=O(this.bp),r=n.x+(e-this.pp.x),o=n.y+(s-this.pp.y);this.Ap(r,o,t)}}qf(t){this.Cv().W().trackingMode.exitMode===0&&(this.mp=!0),this.Hp(),this.Ep(t)}pr(t,e){const s=this.gp;return s===null?null:function(n,r,o){const l=n.No(),h=function(a,u,c){var f,m;let v,p;for(const y of a){const b=(m=(f=y.oa)===null||f===void 0?void 0:f.call(y,u,c))!==null&&m!==void 0?m:[];for(const S of b)w=S.zOrder,(!(x=v==null?void 0:v.zOrder)||w==="top"&&x!=="top"||w==="normal"&&x==="bottom")&&(v=S,p=y)}var w,x;return v&&p?{bv:v,zc:p}:null}(l,r,o);if((h==null?void 0:h.bv.zOrder)==="top")return is(h);for(const a of l){if(h&&h.zc===a&&h.bv.zOrder!=="bottom"&&!h.bv.isBackground)return is(h);const u=xd(a.Cn(n),r,o);if(u!==null)return{zc:a,vv:u.vv,mv:u.mv};if(h&&h.zc===a&&h.bv.zOrder!=="bottom"&&h.bv.isBackground)return is(h)}return h!=null&&h.bv?is(h):null}(s,t,e)}$p(t,e){O(e==="left"?this.ap:this.op).Xv(st({width:t,height:this.gv.height}))}Up(){return this.gv}Xv(t){Be(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Sp.style.width=t.width+"px",this.Sp.style.height=t.height+"px")}qp(){const t=O(this.gp);t.x_(t.S_()),t.x_(t.k_());for(const e of t.Ta())if(t.ur(e)){const s=e.Dt();s!==null&&t.x_(s),e.Rn()}}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Gv(t){if(t===0||this.gp===null)return;if(t>1&&this.qp(),this.ap!==null&&this.ap.Gv(t),this.op!==null&&this.op.Gv(t),t!==1){this.Vv.applySuggestedBitmapSize();const s=Fe(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n)}),this.gp&&(this.Yp(s,Sd),this.Xp(s),this.Kp(s),this.Yp(s,ss),this.Yp(s,Md)))}this.Bv.applySuggestedBitmapSize();const e=Fe(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.Zp(e),this.Yp(e,Cd))}Gp(){return this.ap}Jp(){return this.op}tp(t,e){this.Yp(t,e)}xp(){this.gp!==null&&this.gp.I_().p(this),this.gp=null}Ip(t){this.zp(this.cp,t)}zp(t,e){const s=e.localX,n=e.localY;t.M()&&t.m(this.Hi().St().Vu(s),{x:s,y:n},e)}Qv({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Hi(),o=r.q(),l=r._d();o===l?Is(t,0,0,s,n,l):bh(t,0,0,s,n,o,l)}Xp(t){const e=O(this.gp).z_().Fh().gt();e!==null&&e.K(t,!1)}Kp(t){const e=this.Hi().Fc();this.Qp(t,ss,Bn,e),this.Qp(t,ss,as,e)}Zp(t){this.Qp(t,ss,as,this.Hi().Wc())}Yp(t,e){const s=O(this.gp).No();for(const n of s)this.Qp(t,e,Bn,n);for(const n of s)this.Qp(t,e,as,n)}Qp(t,e,s,n){const r=O(this.gp),o=r.$t().Bc(),l=o!==null&&o.zc===n,h=o!==null&&l&&o.mv!==void 0?o.mv.br:void 0;Fn(e,a=>s(a,t,l,h),n,r)}Rp(){if(this.gp===null)return;const t=this.Mp,e=this.gp.S_().W().visible,s=this.gp.k_().W().visible;e||this.ap===null||(this.kp.removeChild(this.ap.Hv()),this.ap.S(),this.ap=null),s||this.op===null||(this.yp.removeChild(this.op.Hv()),this.op.S(),this.op=null);const n=t.$t().ed();e&&this.ap===null&&(this.ap=new Xo(this,t.W(),n,"left"),this.kp.appendChild(this.ap.Hv())),s&&this.op===null&&(this.op=new Xo(this,t.W(),n,"right"),this.yp.appendChild(this.op.Hv()))}tm(t){return t.cv&&this.vp||this.pp!==null}im(t){return Math.max(0,Math.min(t,this.gv.width-1))}nm(t){return Math.max(0,Math.min(t,this.gv.height-1))}Ap(t,e,s){this.Hi().Qc(this.im(t),this.nm(e),s,O(this.gp))}Fp(){this.Hi().nd()}Hp(){this.mp&&(this.pp=null,this.Fp())}Np(t,e,s){this.pp=t,this.mp=!1,this.Ap(e.x,e.y,s);const n=this.Hi().Wc();this.bp={x:n.Yt(),y:n.Xt()}}Hi(){return this.Mp.$t()}Ep(t){if(!this.up)return;const e=this.Hi(),s=this.Zv();if(e.D_(s,s.dn()),this._p=null,this.up=!1,e.Zc(),this.wp!==null){const n=performance.now(),r=e.St();this.wp.Pr(r.Lu(),n),this.wp.Yu(n)||e.qn(this.wp)}}Op(){this.pp=null}Vp(){if(this.gp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)O(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.gp.dn().Ei()&&this.Hi().St().Ei()}}Lp(t){if(this.gp===null)return;const e=this.Hi(),s=e.St();if(s.Ei())return;const n=this.Mp.W(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.cv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.cv))return;const l=this.gp.dn(),h=performance.now();if(this._p!==null||this.tm(t)||(this._p={x:t.clientX,y:t.clientY,yd:h,sm:t.localX,rm:t.localY}),this._p!==null&&!this.up&&(this._p.x!==t.clientX||this._p.y!==t.clientY)){if(t.cv&&o.touch||!t.cv&&o.mouse){const a=s.ee();this.wp=new wd(.2/a,7/a,.997,15/a),this.wp.Fd(s.Lu(),this._p.yd)}else this.wp=null;l.Ei()||e.P_(this.gp,l,t.localY),e.Xc(t.localX),this.up=!0}this.up&&(l.Ei()||e.R_(this.gp,l,t.localY),e.Kc(t.localX),this.wp!==null&&this.wp.Fd(s.Lu(),h))}}class Go{constructor(t,e,s,n,r){this.ft=!0,this.gv=st({width:0,height:0}),this.yv=()=>this.Gv(3),this.Pv=t==="left",this.yc=s.ed,this._n=e,this.hm=n,this.lm=r,this.Av=document.createElement("div"),this.Av.style.width="25px",this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Vv=We(this.Av,st({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv)}S(){this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),je(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.Av}Up(){return this.gv}Xv(t){Be(this.gv,t)||(this.gv=t,this.Vv.resizeCanvasElement(t),this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.ft=!0)}Gv(t){if(t<3&&!this.ft||this.gv.width===0||this.gv.height===0)return;this.ft=!1,this.Vv.applySuggestedBitmapSize();const e=Fe(this.Vv);e!==null&&e.useBitmapCoordinateSpace(s=>{this.Qv(s),this.Ae(s)})}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(!this.hm())return;t.fillStyle=this._n.timeScale.borderColor;const r=Math.floor(this.yc.W().C*s),o=Math.floor(this.yc.W().C*n),l=this.Pv?e.width-r:0;t.fillRect(l,0,r,o)}Qv({context:t,bitmapSize:e}){Is(t,0,0,e.width,e.height,this.lm())}}function wr(i){return t=>{var e,s;return(s=(e=t.aa)===null||e===void 0?void 0:e.call(t,i))!==null&&s!==void 0?s:[]}}const Ed=wr("normal"),Od=wr("top"),zd=wr("bottom");class Td{constructor(t,e){this.am=null,this.om=null,this.k=null,this._m=!1,this.gv=st({width:0,height:0}),this.um=new ut,this.xv=new Ni(5),this.kv=!1,this.yv=()=>{this.kv||this.Mp.$t().Nh()},this.Tv=()=>{this.kv||this.Mp.$t().Nh()},this.Mp=t,this.N_=e,this._n=t.W().layout,this.dm=document.createElement("tr"),this.fm=document.createElement("td"),this.fm.style.padding="0",this.vm=document.createElement("td"),this.vm.style.padding="0",this.Av=document.createElement("td"),this.Av.style.height="25px",this.Av.style.padding="0",this.pm=document.createElement("div"),this.pm.style.width="100%",this.pm.style.height="100%",this.pm.style.position="relative",this.pm.style.overflow="hidden",this.Av.appendChild(this.pm),this.Vv=We(this.pm,st({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const s=this.Vv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Bv=We(this.pm,st({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const n=this.Bv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.dm.appendChild(this.fm),this.dm.appendChild(this.Av),this.dm.appendChild(this.vm),this.bm(),this.Mp.$t().f_().l(this.bm.bind(this),this),this.jv=new br(this.Bv.canvasElement,this,{Ff:()=>!0,Wf:()=>!this.Mp.W().handleScroll.horzTouchDrag})}S(){this.jv.S(),this.am!==null&&this.am.S(),this.om!==null&&this.om.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),je(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),je(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.dm}wm(){return this.am}gm(){return this.om}tv(t){if(this._m)return;this._m=!0;const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Uc(t.localX)}Jf(t){this.tv(t)}iv(){const t=this.Mp.$t();!t.St().Ei()&&this._m&&(this._m=!1,this.Mp.W().handleScale.axisPressedMouseMove.time&&t.Jc())}$f(t){const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}jf(t){this.$f(t)}Xf(){this._m=!1;const t=this.Mp.$t();t.St().Ei()&&!this.Mp.W().handleScale.axisPressedMouseMove.time||t.Jc()}qf(){this.Xf()}Pf(){this.Mp.W().handleScale.axisDoubleClickReset.time&&this.Mp.$t().Xn()}kf(){this.Pf()}If(){this.Mp.$t().W().handleScale.axisPressedMouseMove.time&&this.hp(1)}_v(){this.hp(0)}Up(){return this.gv}Mm(){return this.um}xm(t,e,s){Be(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.um.m(t)),this.am!==null&&this.am.Xv(st({width:e,height:t.height})),this.om!==null&&this.om.Xv(st({width:s,height:t.height}))}Sm(){const t=this.km();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.ym)}bt(){this.Mp.$t().St().La()}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Gv(t){if(t===0)return;if(t!==1){this.Vv.applySuggestedBitmapSize();const s=Fe(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n),this.Ae(n),this.Cm(s,zd)}),this.ip(s),this.Cm(s,Ed)),this.am!==null&&this.am.Gv(t),this.om!==null&&this.om.Gv(t)}this.Bv.applySuggestedBitmapSize();const e=Fe(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.Tm([...this.Mp.$t().wt(),this.Mp.$t().Wc()],e),this.Cm(e,Od))}Cm(t,e){const s=this.Mp.$t().wt();for(const n of s)Fn(e,r=>Bn(r,t,!1,void 0),n,void 0);for(const n of s)Fn(e,r=>as(r,t,!1,void 0),n,void 0)}Qv({context:t,bitmapSize:e}){Is(t,0,0,e.width,e.height,this.Mp.$t()._d())}Ae({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Mp.W().timeScale.borderVisible){t.fillStyle=this.Pm();const n=Math.max(1,Math.floor(this.km().C*s));t.fillRect(0,0,e.width,n)}}ip(t){const e=this.Mp.$t().St(),s=e.La();if(!s||s.length===0)return;const n=this.N_.maxTickMarkWeight(s),r=this.km(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:h,verticalPixelRatio:a})=>{l.strokeStyle=this.Pm(),l.fillStyle=this.Pm();const u=Math.max(1,Math.floor(h)),c=Math.floor(.5*h);l.beginPath();const f=Math.round(r.T*a);for(let m=s.length;m--;){const v=Math.round(s[m].coord*h);l.rect(v-c,0,u,f)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const h=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this.qv();for(const a of s)if(a.weight<n){const u=a.needAlignCoordinate?this.Rm(l,a.coord,a.label):a.coord;l.fillText(a.label,u,h)}this.Mp.W().timeScale.allowBoldLabels&&(l.font=this.Dm());for(const a of s)if(a.weight>=n){const u=a.needAlignCoordinate?this.Rm(l,a.coord,a.label):a.coord;l.fillText(a.label,u,h)}})}Rm(t,e,s){const n=this.xv.Mi(t,s),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.gv.width&&(e-=Math.abs(this.gv.width-(o+n))),e}Tm(t,e){const s=this.km();for(const n of t)for(const r of n.Ji())r.gt().K(e,s)}Pm(){return this.Mp.W().timeScale.borderColor}$(){return this._n.textColor}j(){return this._n.fontSize}qv(){return li(this.j(),this._n.fontFamily)}Dm(){return li(this.j(),this._n.fontFamily,"bold")}km(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Wi:NaN,T:5,P:NaN,R:"",Fi:new Ni,ym:0});const t=this.k,e=this.qv();if(t.R!==e){const s=this.j();t.P=s,t.R=e,t.L=3*s/12,t.V=3*s/12,t.Wi=9*s/12,t.N=0,t.ym=4*s/12,t.Fi.Qe()}return this.k}hp(t){this.Av.style.cursor=t===1?"ew-resize":"default"}bm(){const t=this.Mp.$t(),e=t.W();e.leftPriceScale.visible||this.am===null||(this.fm.removeChild(this.am.Hv()),this.am.S(),this.am=null),e.rightPriceScale.visible||this.om===null||(this.vm.removeChild(this.om.Hv()),this.om.S(),this.om=null);const s={ed:this.Mp.$t().ed()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t._d();e.leftPriceScale.visible&&this.am===null&&(this.am=new Go("left",e,s,n,r),this.fm.appendChild(this.am.Hv())),e.rightPriceScale.visible&&this.om===null&&(this.om=new Go("right",e,s,n,r),this.vm.appendChild(this.om.Hv()))}}const Ld=!!hi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!hi&&(!((bn=navigator==null?void 0:navigator.userAgentData)===null||bn===void 0)&&bn.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var bn;class kd{constructor(t,e,s){var n;this.Om=[],this.Am=0,this.Qa=0,this.e_=0,this.Vm=0,this.Bm=0,this.Im=null,this.zm=!1,this.cp=new ut,this.dp=new ut,this.xc=new ut,this.Lm=null,this.Em=null,this.Nm=t,this._n=e,this.N_=s,this.dm=document.createElement("div"),this.dm.classList.add("tv-lightweight-charts"),this.dm.style.overflow="hidden",this.dm.style.direction="ltr",this.dm.style.width="100%",this.dm.style.height="100%",(n=this.dm).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Fm=document.createElement("table"),this.Fm.setAttribute("cellspacing","0"),this.dm.appendChild(this.Fm),this.Wm=this.jm.bind(this),_n(this._n)&&this.Hm(!0),this.Hi=new md(this.kc.bind(this),this._n,s),this.$t().jc().l(this.$m.bind(this),this),this.Um=new Td(this,this.N_),this.Fm.appendChild(this.Um.Hv());const r=e.autoSize&&this.qm();let o=this._n.width,l=this._n.height;if(r||o===0||l===0){const h=t.getBoundingClientRect();o=o||h.width,l=l||h.height}this.Ym(o,l),this.Xm(),t.appendChild(this.dm),this.Km(),this.Hi.St().Gu().l(this.Hi.$l.bind(this.Hi),this),this.Hi.f_().l(this.Hi.$l.bind(this.Hi),this)}$t(){return this.Hi}W(){return this._n}Zm(){return this.Om}Gm(){return this.Um}S(){this.Hm(!1),this.Am!==0&&window.cancelAnimationFrame(this.Am),this.Hi.jc().p(this),this.Hi.St().Gu().p(this),this.Hi.f_().p(this),this.Hi.S();for(const t of this.Om)this.Fm.removeChild(t.Hv()),t.Wp().p(this),t.jp().p(this),t.S();this.Om=[],O(this.Um).S(),this.dm.parentElement!==null&&this.dm.parentElement.removeChild(this.dm),this.xc.S(),this.cp.S(),this.dp.S(),this.Jm()}Ym(t,e,s=!1){if(this.Qa===e&&this.e_===t)return;const n=function(l){const h=Math.floor(l.width),a=Math.floor(l.height);return st({width:h-h%2,height:a-a%2})}(st({width:t,height:e}));this.Qa=n.height,this.e_=n.width;const r=this.Qa+"px",o=this.e_+"px";O(this.dm).style.height=r,O(this.dm).style.width=o,this.Fm.style.height=r,this.Fm.style.width=o,s?this.Qm(bt.ns(),performance.now()):this.Hi.$l()}Gv(t){t===void 0&&(t=bt.ns());for(let e=0;e<this.Om.length;e++)this.Om[e].Gv(t.Wn(e).En);this._n.timeScale.visible&&this.Um.Gv(t.Fn())}Eh(t){const e=_n(this._n);this.Hi.Eh(t);const s=_n(this._n);s!==e&&this.Hm(s),this.Km(),this.tb(t)}Wp(){return this.cp}jp(){return this.dp}jc(){return this.xc}ib(){this.Im!==null&&(this.Qm(this.Im,performance.now()),this.Im=null);const t=this.nb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=O(e.getContext("2d"));return this.nb(s),e}sb(t){return t==="left"&&!this.eb()||t==="right"&&!this.rb()||this.Om.length===0?0:O(t==="left"?this.Om[0].Gp():this.Om[0].Jp()).Kv()}hb(){return this._n.autoSize&&this.Lm!==null}lb(){return this.dm}Bp(t){this.Em=t,this.Em?this.lb().style.setProperty("cursor",t):this.lb().style.removeProperty("cursor")}ab(){return this.Em}ob(){return Tt(this.Om[0]).Up()}tb(t){(t.autoSize!==void 0||!this.Lm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Lm&&this.qm(),t.autoSize===!1&&this.Lm!==null&&this.Jm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Ym(t.width||this.e_,t.height||this.Qa))}nb(t){let e=0,s=0;const n=this.Om[0],r=(l,h)=>{let a=0;for(let u=0;u<this.Om.length;u++){const c=this.Om[u],f=O(l==="left"?c.Gp():c.Jp()),m=f.ep();t!==null&&f.rp(t,h,a),a+=m.height}};this.eb()&&(r("left",0),e+=O(n.Gp()).ep().width);for(let l=0;l<this.Om.length;l++){const h=this.Om[l],a=h.ep();t!==null&&h.rp(t,e,s),s+=a.height}e+=n.ep().width,this.rb()&&(r("right",e),e+=O(n.Jp()).ep().width);const o=(l,h,a)=>{O(l==="left"?this.Um.wm():this.Um.gm()).rp(O(t),h,a)};if(this._n.timeScale.visible){const l=this.Um.ep();if(t!==null){let h=0;this.eb()&&(o("left",h,s),h=O(n.Gp()).ep().width),this.Um.rp(t,h,s),h+=l.width,this.rb()&&o("right",h,s)}s+=l.height}return st({width:e,height:s})}_b(){let t=0,e=0,s=0;for(const v of this.Om)this.eb()&&(e=Math.max(e,O(v.Gp()).Uv(),this._n.leftPriceScale.minimumWidth)),this.rb()&&(s=Math.max(s,O(v.Jp()).Uv(),this._n.rightPriceScale.minimumWidth)),t+=v.v_();e=Dn(e),s=Dn(s);const n=this.e_,r=this.Qa,o=Math.max(n-e-s,0),l=this._n.timeScale.visible;let h=l?Math.max(this.Um.Sm(),this._n.timeScale.minimumHeight):0;var a;h=(a=h)+a%2;const u=0+h,c=r<u?0:r-u,f=c/t;let m=0;for(let v=0;v<this.Om.length;++v){const p=this.Om[v];p.Pp(this.Hi.Nc()[v]);let w=0,x=0;x=v===this.Om.length-1?c-m:Math.round(p.v_()*f),w=Math.max(x,2),m+=w,p.Xv(st({width:o,height:w})),this.eb()&&p.$p(e,"left"),this.rb()&&p.$p(s,"right"),p.Zv()&&this.Hi.Hc(p.Zv(),w)}this.Um.xm(st({width:l?o:0,height:h}),l?e:0,l?s:0),this.Hi.m_(o),this.Vm!==e&&(this.Vm=e),this.Bm!==s&&(this.Bm=s)}Hm(t){t?this.dm.addEventListener("wheel",this.Wm,{passive:!1}):this.dm.removeEventListener("wheel",this.Wm)}ub(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Ld?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this._n.handleScroll.mouseWheel||t.deltaY!==0&&this._n.handleScale.mouseWheel))return;const e=this.ub(t),s=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),n!==0&&this._n.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.dm.getBoundingClientRect().left;this.$t().qc(o,r)}s!==0&&this._n.handleScroll.mouseWheel&&this.$t().Yc(-80*s)}Qm(t,e){var s;const n=t.Fn();n===3&&this.cb(),n!==3&&n!==2||(this.fb(t),this.vb(t,e),this.Um.bt(),this.Om.forEach(r=>{r.Dp()}),((s=this.Im)===null||s===void 0?void 0:s.Fn())===3&&(this.Im.Jn(t),this.cb(),this.fb(this.Im),this.vb(this.Im,e),t=this.Im,this.Im=null)),this.Gv(t)}vb(t,e){for(const s of t.Gn())this.Qn(s,e)}fb(t){const e=this.Hi.Nc();for(let s=0;s<e.length;s++)t.Wn(s).Nn&&e[s].V_()}Qn(t,e){const s=this.Hi.St();switch(t.$n){case 0:s.Qu();break;case 1:s.tc(t.Ot);break;case 2:s.Kn(t.Ot);break;case 3:s.Zn(t.Ot);break;case 4:s.Fu();break;case 5:t.Ot.Yu(e)||s.Zn(t.Ot.Xu(e))}}kc(t){this.Im!==null?this.Im.Jn(t):this.Im=t,this.zm||(this.zm=!0,this.Am=window.requestAnimationFrame(e=>{if(this.zm=!1,this.Am=0,this.Im!==null){const s=this.Im;this.Im=null,this.Qm(s,e);for(const n of s.Gn())if(n.$n===5&&!n.Ot.Yu(e)){this.$t().qn(n.Ot);break}}}))}cb(){this.Xm()}Xm(){const t=this.Hi.Nc(),e=t.length,s=this.Om.length;for(let n=e;n<s;n++){const r=Tt(this.Om.pop());this.Fm.removeChild(r.Hv()),r.Wp().p(this),r.jp().p(this),r.S()}for(let n=s;n<e;n++){const r=new _r(this,t[n]);r.Wp().l(this.pb.bind(this),this),r.jp().l(this.mb.bind(this),this),this.Om.push(r),this.Fm.insertBefore(r.Hv(),this.Um.Hv())}for(let n=0;n<e;n++){const r=t[n],o=this.Om[n];o.Zv()!==r?o.Pp(r):o.Tp()}this.Km(),this._b()}bb(t,e,s){var n;const r=new Map;t!==null&&this.Hi.wt().forEach(u=>{const c=u.Vn().il(t);c!==null&&r.set(u,c)});let o;if(t!==null){const u=(n=this.Hi.St().$i(t))===null||n===void 0?void 0:n.originalTime;u!==void 0&&(o=u)}const l=this.$t().Bc(),h=l!==null&&l.zc instanceof vr?l.zc:void 0,a=l!==null&&l.mv!==void 0?l.mv.mr:void 0;return{wb:o,ie:t??void 0,gb:e??void 0,Mb:h,xb:r,Sb:a,kb:s??void 0}}pb(t,e,s){this.cp.m(()=>this.bb(t,e,s))}mb(t,e,s){this.dp.m(()=>this.bb(t,e,s))}$m(t,e,s){this.xc.m(()=>this.bb(t,e,s))}Km(){const t=this._n.timeScale.visible?"":"none";this.Um.Hv().style.display=t}eb(){return this.Om[0].Zv().S_().W().visible}rb(){return this.Om[0].Zv().k_().W().visible}qm(){return"ResizeObserver"in window&&(this.Lm=new ResizeObserver(t=>{const e=t.find(s=>s.target===this.Nm);e&&this.Ym(e.contentRect.width,e.contentRect.height)}),this.Lm.observe(this.Nm,{box:"border-box"}),!0)}Jm(){this.Lm!==null&&this.Lm.disconnect(),this.Lm=null}}function _n(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function $h(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(s=Object.getOwnPropertySymbols(i);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(i,s[n])&&(e[s[n]]=i[s[n]])}return e}function Jo(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.color!==void 0&&(r.O=e.color),r}function Nd(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.ys=e.topColor),e.bottomColor!==void 0&&(r.Cs=e.bottomColor),r}function Id(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.topLineColor!==void 0&&(r.Ce=e.topLineColor),e.bottomLineColor!==void 0&&(r.Te=e.bottomLineColor),e.topFillColor1!==void 0&&(r.Me=e.topFillColor1),e.topFillColor2!==void 0&&(r.xe=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Se=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.ke=e.bottomFillColor2),r}function Rd(i,t,e,s){const n={ie:t,ot:i,Ot:[e.open,e.high,e.low,e.close],wb:s};return e.color!==void 0&&(n.O=e.color),n}function Pd(i,t,e,s){const n={ie:t,ot:i,Ot:[e.open,e.high,e.low,e.close],wb:s};return e.color!==void 0&&(n.O=e.color),e.borderColor!==void 0&&(n.At=e.borderColor),e.wickColor!==void 0&&(n.Hh=e.wickColor),n}function Ad(i,t,e,s,n){const r=Tt(n)(e),o=Math.max(...r),l=Math.min(...r),h=r[r.length-1],a=[h,o,l,h],u=e,{time:c,color:f}=u;return{ie:t,ot:i,Ot:a,wb:s,We:$h(u,["time","color"]),O:f}}function ns(i){return i.Ot!==void 0}function tl(i,t){return t.customValues!==void 0&&(i.yb=t.customValues),i}function Ne(i){return(t,e,s,n,r,o)=>function(l,h){return h?h(l):(a=l).open===void 0&&a.value===void 0;var a}(s,o)?tl({ot:t,ie:e,wb:n},s):tl(i(t,e,s,n,r),s)}function el(i){return{Candlestick:Ne(Pd),Bar:Ne(Rd),Area:Ne(Nd),Baseline:Ne(Id),Histogram:Ne(Jo),Line:Ne(Jo),Custom:Ne(Ad)}[i]}function il(i){return{ie:0,Cb:new Map,ia:i}}function sl(i,t){if(i!==void 0&&i.length!==0)return{Tb:t.key(i[0].ot),Pb:t.key(i[i.length-1].ot)}}function nl(i){let t;return i.forEach(e=>{t===void 0&&(t=e.wb)}),Tt(t)}class $d{constructor(t){this.Rb=new Map,this.Db=new Map,this.Ob=new Map,this.Ab=[],this.N_=t}S(){this.Rb.clear(),this.Db.clear(),this.Ob.clear(),this.Ab=[]}Vb(t,e){let s=this.Rb.size!==0,n=!1;const r=this.Db.get(t);if(r!==void 0)if(this.Db.size===1)s=!1,n=!0,this.Rb.clear();else for(const h of this.Ab)h.pointData.Cb.delete(t)&&(n=!0);let o=[];if(e.length!==0){const h=e.map(m=>m.time),a=this.N_.createConverterToInternalObj(e),u=el(t.Yh()),c=t.ga(),f=t.Ma();o=e.map((m,v)=>{const p=a(m.time),w=this.N_.key(p);let x=this.Rb.get(w);x===void 0&&(x=il(p),this.Rb.set(w,x),n=!0);const y=u(p,x.ie,m,h[v],c,f);return x.Cb.set(t,y),y})}s&&this.Bb(),this.Ib(t,o);let l=-1;if(n){const h=[];this.Rb.forEach(a=>{h.push({timeWeight:0,time:a.ia,pointData:a,originalTime:nl(a.Cb)})}),h.sort((a,u)=>this.N_.key(a.time)-this.N_.key(u.time)),l=this.zb(h)}return this.Lb(t,l,function(h,a,u){const c=sl(h,u),f=sl(a,u);if(c!==void 0&&f!==void 0)return{Xl:c.Pb>=f.Pb&&c.Tb>=f.Tb}}(this.Db.get(t),r,this.N_))}ld(t){return this.Vb(t,[])}Eb(t,e){const s=e;(function(p){p.wb===void 0&&(p.wb=p.time)})(s),this.N_.preprocessData(e);const n=this.N_.createConverterToInternalObj([e])(e.time),r=this.Ob.get(t);if(r!==void 0&&this.N_.key(n)<this.N_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${n}`);let o=this.Rb.get(this.N_.key(n));const l=o===void 0;o===void 0&&(o=il(n),this.Rb.set(this.N_.key(n),o));const h=el(t.Yh()),a=t.ga(),u=t.Ma(),c=h(n,o.ie,e,s.wb,a,u);o.Cb.set(t,c),this.Nb(t,c);const f={Xl:ns(c)};if(!l)return this.Lb(t,-1,f);const m={timeWeight:0,time:o.ia,pointData:o,originalTime:nl(o.Cb)},v=Bi(this.Ab,this.N_.key(m.time),(p,w)=>this.N_.key(p.time)<w);this.Ab.splice(v,0,m);for(let p=v;p<this.Ab.length;++p)wn(this.Ab[p].pointData,p);return this.N_.fillWeightsForPoints(this.Ab,v),this.Lb(t,v,f)}Nb(t,e){let s=this.Db.get(t);s===void 0&&(s=[],this.Db.set(t,s));const n=s.length!==0?s[s.length-1]:null;n===null||this.N_.key(e.ot)>this.N_.key(n.ot)?ns(e)&&s.push(e):ns(e)?s[s.length-1]=e:s.splice(-1,1),this.Ob.set(t,e.ot)}Ib(t,e){e.length!==0?(this.Db.set(t,e.filter(ns)),this.Ob.set(t,e[e.length-1].ot)):(this.Db.delete(t),this.Ob.delete(t))}Bb(){for(const t of this.Ab)t.pointData.Cb.size===0&&this.Rb.delete(this.N_.key(t.time))}zb(t){let e=-1;for(let s=0;s<this.Ab.length&&s<t.length;++s){const n=this.Ab[s],r=t[s];if(this.N_.key(n.time)!==this.N_.key(r.time)){e=s;break}r.timeWeight=n.timeWeight,wn(r.pointData,s)}if(e===-1&&this.Ab.length!==t.length&&(e=Math.min(this.Ab.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)wn(t[s].pointData,s);return this.N_.fillWeightsForPoints(t,e),this.Ab=t,e}Fb(){if(this.Db.size===0)return null;let t=0;return this.Db.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].ie))}),t}Lb(t,e,s){const n={Wb:new Map,St:{Au:this.Fb()}};if(e!==-1)this.Db.forEach((r,o)=>{n.Wb.set(o,{We:r,jb:o===t?s:void 0})}),this.Db.has(t)||n.Wb.set(t,{We:[],jb:s}),n.St.Hb=this.Ab,n.St.$b=e;else{const r=this.Db.get(t);n.Wb.set(t,{We:r||[],jb:s})}return n}}function wn(i,t){i.ie=t,i.Cb.forEach(e=>{e.ie=t})}function yr(i){const t={value:i.Ot[3],time:i.wb};return i.yb!==void 0&&(t.customValues=i.yb),t}function rl(i){const t=yr(i);return i.O!==void 0&&(t.color=i.O),t}function Dd(i){const t=yr(i);return i.lt!==void 0&&(t.lineColor=i.lt),i.ys!==void 0&&(t.topColor=i.ys),i.Cs!==void 0&&(t.bottomColor=i.Cs),t}function Bd(i){const t=yr(i);return i.Ce!==void 0&&(t.topLineColor=i.Ce),i.Te!==void 0&&(t.bottomLineColor=i.Te),i.Me!==void 0&&(t.topFillColor1=i.Me),i.xe!==void 0&&(t.topFillColor2=i.xe),i.Se!==void 0&&(t.bottomFillColor1=i.Se),i.ke!==void 0&&(t.bottomFillColor2=i.ke),t}function Dh(i){const t={open:i.Ot[0],high:i.Ot[1],low:i.Ot[2],close:i.Ot[3],time:i.wb};return i.yb!==void 0&&(t.customValues=i.yb),t}function Fd(i){const t=Dh(i);return i.O!==void 0&&(t.color=i.O),t}function Vd(i){const t=Dh(i),{O:e,At:s,Hh:n}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),n!==void 0&&(t.wickColor=n),t}function Vn(i){return{Area:Dd,Line:rl,Baseline:Bd,Histogram:rl,Bar:Fd,Candlestick:Vd,Custom:Wd}[i]}function Wd(i){const t=i.wb;return Object.assign(Object.assign({},i.We),{time:t})}const jd={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Hd={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ud={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:ur},yn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Kd={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Zd={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ur,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function ol(){return{width:0,height:0,autoSize:!1,layout:Ud,crosshair:jd,grid:Hd,overlayPriceScales:Object.assign({},yn),leftPriceScale:Object.assign(Object.assign({},yn),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},yn),{visible:!0}),timeScale:Kd,watermark:Zd,localization:{locale:hi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}let Yd=class{constructor(t,e){this.Ub=t,this.qb=e}applyOptions(t){this.Ub.$t().Lc(this.qb,t)}options(){return this.zi().W()}width(){return Ps(this.qb)?this.Ub.sb(this.qb):0}zi(){return O(this.Ub.$t().Ec(this.qb)).Dt}};function ll(i,t,e){const s=$h(i,["time","originalTime"]),n=Object.assign({time:t},s);return e!==void 0&&(n.originalTime=e),n}const qd={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Qd{constructor(t){this.Vh=t}applyOptions(t){this.Vh.Eh(t)}options(){return this.Vh.W()}Yb(){return this.Vh}}class Xd{constructor(t,e,s,n,r){this.Xb=new ut,this.Is=t,this.Kb=e,this.Zb=s,this.N_=r,this.Gb=n}S(){this.Xb.S()}priceFormatter(){return this.Is.ca()}priceToCoordinate(t){const e=this.Is.Ct();return e===null?null:this.Is.Dt().Rt(t,e.Ot)}coordinateToPrice(t){const e=this.Is.Ct();return e===null?null:this.Is.Dt().fn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new si(new Mi(t.from,t.to)).iu(),s=this.Is.Vn();if(s.Ei())return null;const n=s.il(e.Rs(),1),r=s.il(e.ui(),-1),o=O(s.Jh()),l=O(s.An());if(n!==null&&r!==null&&n.ie>r.ie)return{barsBefore:t.from-o,barsAfter:l-t.to};const h={barsBefore:n===null||n.ie===o?t.from-o:n.ie-o,barsAfter:r===null||r.ie===l?l-t.to:l-r.ie};return n!==null&&r!==null&&(h.from=n.wb,h.to=r.wb),h}setData(t){this.N_,this.Is.Yh(),this.Kb.Jb(this.Is,t),this.Qb("full")}update(t){this.Is.Yh(),this.Kb.tw(this.Is,t),this.Qb("update")}dataByIndex(t,e){const s=this.Is.Vn().il(t,e);return s===null?null:Vn(this.seriesType())(s)}data(){const t=Vn(this.seriesType());return this.Is.Vn().Qs().map(e=>t(e))}subscribeDataChanged(t){this.Xb.l(t)}unsubscribeDataChanged(t){this.Xb.v(t)}setMarkers(t){this.N_;const e=t.map(s=>ll(s,this.N_.convertHorzItemToInternal(s.time),s.time));this.Is.Zl(e)}markers(){return this.Is.Gl().map(t=>ll(t,t.originalTime,void 0))}applyOptions(t){this.Is.Eh(t)}options(){return re(this.Is.W())}priceScale(){return this.Zb.priceScale(this.Is.Dt().xa())}createPriceLine(t){const e=Yt(re(qd),t),s=this.Is.Jl(e);return new Qd(s)}removePriceLine(t){this.Is.Ql(t.Yb())}seriesType(){return this.Is.Yh()}attachPrimitive(t){this.Is.ba(t),t.attached&&t.attached({chart:this.Gb,series:this,requestUpdate:()=>this.Is.$t().$l()})}detachPrimitive(t){this.Is.wa(t),t.detached&&t.detached()}Qb(t){this.Xb.M()&&this.Xb.m(t)}}let Gd=class{constructor(t,e,s){this.iw=new ut,this.uu=new ut,this.um=new ut,this.Hi=t,this.wl=t.St(),this.Um=e,this.wl.Ku().l(this.nw.bind(this)),this.wl.Zu().l(this.sw.bind(this)),this.Um.Mm().l(this.ew.bind(this)),this.N_=s}S(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.Um.Mm().p(this),this.iw.S(),this.uu.S(),this.um.S()}scrollPosition(){return this.wl.Lu()}scrollToPosition(t,e){e?this.wl.qu(t,1e3):this.Hi.Zn(t)}scrollToRealTime(){this.wl.Uu()}getVisibleRange(){const t=this.wl.yu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},s=this.wl.Ru(e);this.Hi.ad(s)}getVisibleLogicalRange(){const t=this.wl.ku();return t===null?null:{from:t.Rs(),to:t.ui()}}setVisibleLogicalRange(t){Oe(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.ad(t)}resetTimeScale(){this.Hi.Xn()}fitContent(){this.Hi.Qu()}logicalToCoordinate(t){const e=this.Hi.St();return e.Ei()?null:e.It(t)}coordinateToLogical(t){return this.wl.Ei()?null:this.wl.Vu(t)}timeToCoordinate(t){const e=this.N_.convertHorzItemToInternal(t),s=this.wl.ya(e,!1);return s===null?null:this.wl.It(s)}coordinateToTime(t){const e=this.Hi.St(),s=e.Vu(t),n=e.$i(s);return n===null?null:n.originalTime}width(){return this.Um.Up().width}height(){return this.Um.Up().height}subscribeVisibleTimeRangeChange(t){this.iw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.iw.v(t)}subscribeVisibleLogicalRangeChange(t){this.uu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.uu.v(t)}subscribeSizeChange(t){this.um.l(t)}unsubscribeSizeChange(t){this.um.v(t)}applyOptions(t){this.wl.Eh(t)}options(){return Object.assign(Object.assign({},re(this.wl.W())),{barSpacing:this.wl.ee()})}nw(){this.iw.M()&&this.iw.m(this.getVisibleRange())}sw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}ew(t){this.um.m(t.width,t.height)}};function Jd(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return s;e*=10}return s}(t.minMove))}function hl(i){return function(t){if(qi(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:n}=t.handleScale;qi(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),qi(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;qi(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class tp{constructor(t,e,s){this.rw=new Map,this.hw=new Map,this.lw=new ut,this.aw=new ut,this.ow=new ut,this._w=new $d(e);const n=s===void 0?re(ol()):Yt(re(ol()),hl(s));this.N_=e,this.Ub=new kd(t,n,e),this.Ub.Wp().l(o=>{this.lw.M()&&this.lw.m(this.uw(o()))},this),this.Ub.jp().l(o=>{this.aw.M()&&this.aw.m(this.uw(o()))},this),this.Ub.jc().l(o=>{this.ow.M()&&this.ow.m(this.uw(o()))},this);const r=this.Ub.$t();this.cw=new Gd(r,this.Ub.Gm(),this.N_)}remove(){this.Ub.Wp().p(this),this.Ub.jp().p(this),this.Ub.jc().p(this),this.cw.S(),this.Ub.S(),this.rw.clear(),this.hw.clear(),this.lw.S(),this.aw.S(),this.ow.S(),this._w.S()}resize(t,e,s){this.autoSizeActive()||this.Ub.Ym(t,e,s)}addCustomSeries(t,e){const s=Xe(t),n=Object.assign(Object.assign({},ph),s.defaultOptions());return this.dw("Custom",n,e,s)}addAreaSeries(t){return this.dw("Area",Dc,t)}addBaselineSeries(t){return this.dw("Baseline",Bc,t)}addBarSeries(t){return this.dw("Bar",Ac,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.dw("Candlestick",Pc,t)}addHistogramSeries(t){return this.dw("Histogram",Fc,t)}addLineSeries(t){return this.dw("Line",$c,t)}removeSeries(t){const e=Tt(this.rw.get(t)),s=this._w.ld(e);this.Ub.$t().ld(e),this.fw(s),this.rw.delete(t),this.hw.delete(e)}Jb(t,e){this.fw(this._w.Vb(t,e))}tw(t,e){this.fw(this._w.Eb(t,e))}subscribeClick(t){this.lw.l(t)}unsubscribeClick(t){this.lw.v(t)}subscribeCrosshairMove(t){this.ow.l(t)}unsubscribeCrosshairMove(t){this.ow.v(t)}subscribeDblClick(t){this.aw.l(t)}unsubscribeDblClick(t){this.aw.v(t)}priceScale(t){return new Yd(this.Ub,t)}timeScale(){return this.cw}applyOptions(t){this.Ub.Eh(hl(t))}options(){return this.Ub.W()}takeScreenshot(){return this.Ub.ib()}autoSizeActive(){return this.Ub.hb()}chartElement(){return this.Ub.lb()}paneSize(){const t=this.Ub.ob();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,s){const n=this.rw.get(s);if(n===void 0)return;const r=this.Ub.$t()._r(n);r!==null&&this.Ub.$t().td(t,e,r)}clearCrosshairPosition(){this.Ub.$t().nd(!0)}dw(t,e,s={},n){Jd(s.priceFormat);const r=Yt(re(mh),re(e),s),o=this.Ub.$t().rd(t,r,n),l=new Xd(o,this,this,this,this.N_);return this.rw.set(l,o),this.hw.set(o,l),l}fw(t){const e=this.Ub.$t();e.sd(t.St.Au,t.St.Hb,t.St.$b),t.Wb.forEach((s,n)=>n.J(s.We,s.jb)),e.Iu()}pw(t){return Tt(this.hw.get(t))}uw(t){const e=new Map;t.xb.forEach((n,r)=>{const o=r.Yh(),l=Vn(o)(n);if(o!=="Custom")Oe(function(h){return h.open!==void 0||h.value!==void 0}(l));else{const h=r.Ma();Oe(!h||h(l)===!1)}e.set(this.pw(r),l)});const s=t.Mb===void 0?void 0:this.pw(t.Mb);return{time:t.wb,logical:t.ie,point:t.gb,hoveredSeries:s,hoveredObjectId:t.Sb,seriesData:e,sourceEvent:t.kb}}}function ep(i,t,e){let s;if(Di(i)){const r=document.getElementById(i);Oe(r!==null,`Cannot find element in DOM with id=${i}`),s=r}else s=i;const n=new tp(s,t,e);return t.setOptions(n.options()),n}function ip(i,t){return ep(i,new Yo,Yo.Pd(t))}Object.assign(Object.assign({},mh),ph);const sp=mt({__name:"LWChart",props:{type:{},data:{},autosize:{},chartOptions:{},seriesOptions:{},timeScaleOptions:{},priceScaleOptions:{}},setup(i,{expose:t}){const e=i;function s(c){return`add${c.charAt(0).toUpperCase()+c.slice(1)}Series`}let n,r;const o=Z();t({fitContent:()=>{r&&r.timeScale().fitContent()},getChart:()=>r});const a=()=>{if(!r||!o.value)return;const c=o.value.getBoundingClientRect();r.resize(c.width,c.height)},u=c=>{r==null||r.addCandlestickSeries;const f=s(c.type);r&&(n=r[f](c.seriesOptions),n&&n.setData(c.data))};return Zt(()=>{r=ip(o.value,e.chartOptions),u(e),e.priceScaleOptions&&r.priceScale("").applyOptions(e.priceScaleOptions),e.timeScaleOptions&&r.timeScale().applyOptions(e.timeScaleOptions),r.timeScale().fitContent(),e.autosize&&window.addEventListener("resize",a)}),Ai(()=>{r&&(r.remove(),r=null),n&&(n=null),window.removeEventListener("resize",a)}),wt(()=>e.autosize,c=>{if(!c){window.removeEventListener("resize",a);return}window.addEventListener("resize",a)}),wt(()=>e.type,()=>{n&&r&&r.removeSeries(n),u(e)}),wt(()=>e.data,c=>{n&&n.setData(c)}),wt(()=>e.chartOptions,c=>{!r||!c||r.applyOptions(c)}),wt(()=>e.seriesOptions,c=>{!n||!c||n.applyOptions(c)}),wt(()=>e.priceScaleOptions,c=>{!r||!c||r.priceScale("").applyOptions(c)}),wt(()=>e.timeScaleOptions,c=>{!r||!c||r.timeScale().applyOptions(c)}),(c,f)=>(at(),Et("div",{class:"lw-chart h-full",ref_key:"chartContainer",ref:o},null,512))}}),np={class:"chart-container h-[60vh] min-h-36 p-5"},rp=mt({__name:"RenderChart",props:{serverData:{},chartType:{}},setup(i){const t=i,e=Z(t.serverData),s=Dt("isDarkMode",Z(!1));wt(()=>t.serverData,()=>{e.value=t.serverData});const n=H(()=>s.value?{layout:{background:{color:"#222"},textColor:"#DDD"},grid:{vertLines:{color:"#444"},horzLines:{color:"#444"}}}:{layout:{background:{color:"#FFFFFF"},textColor:"#191919"},grid:{vertLines:{color:"#D6DCDE"},horzLines:{color:"#D6DCDE"}}}),r=Z({color:"#90400e"}),o=Z();return(l,h)=>(at(),Et("div",np,[nt(sp,{type:t.chartType,data:e.value,autosize:!0,"chart-options":n.value,"series-options":r.value,ref_key:"lwChart",ref:o},null,8,["type","data","chart-options","series-options"])]))}}),op=["value"],lp=mt({__name:"InputComp",props:{modelValue:{},class:{}},emits:["update:modelValue"],setup(i){const t=i;return(e,s)=>(at(),Et("input",{value:e.modelValue,onInput:s[0]||(s[0]=n=>{var r;return e.$emit("update:modelValue",(r=n.target)==null?void 0:r.value)}),class:se(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-1",t.class])},null,42,op))}}),hp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='w-6%20h-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='m4.5%2012.75%206%206%209-13.5'%20stroke='%23d97706'%20/%3e%3c/svg%3e";function Bh(i,t,e){let s=Z(e==null?void 0:e.value),n=H(()=>i.value!==void 0);return[H(()=>n.value?i.value:s.value),function(r){return n.value||(s.value=r),t==null?void 0:t(r)}]}let ap=Symbol("headlessui.useid"),up=0;function Fi(){return Dt(ap,()=>`${++up}`)()}function K(i){var t;if(i==null||i.value==null)return null;let e=(t=i.value.$el)!=null?t:i.value;return e instanceof Node?e:null}function Ot(i,t,...e){if(i in t){let n=t[i];return typeof n=="function"?n(...e):n}let s=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Ot),s}var cp=Object.defineProperty,fp=(i,t,e)=>t in i?cp(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,al=(i,t,e)=>(fp(i,typeof t!="symbol"?t+"":t,e),e);let dp=class{constructor(){al(this,"current",this.detect()),al(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},xr=new dp;function Fh(i){if(xr.isServer)return null;if(i instanceof Node)return i.ownerDocument;if(i!=null&&i.hasOwnProperty("value")){let t=K(i);if(t)return t.ownerDocument}return document}let Wn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(i=>`${i}:not([tabindex='-1'])`).join(",");var jt=(i=>(i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll",i))(jt||{}),mi=(i=>(i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i))(mi||{}),pp=(i=>(i[i.Previous=-1]="Previous",i[i.Next=1]="Next",i))(pp||{});function mp(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(Wn)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}var Sr=(i=>(i[i.Strict=0]="Strict",i[i.Loose=1]="Loose",i))(Sr||{});function Vh(i,t=0){var e;return i===((e=Fh(i))==null?void 0:e.body)?!1:Ot(t,{0(){return i.matches(Wn)},1(){let s=i;for(;s!==null;){if(s.matches(Wn))return!0;s=s.parentElement}return!1}})}var vp=(i=>(i[i.Keyboard=0]="Keyboard",i[i.Mouse=1]="Mouse",i))(vp||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",i=>{i.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:i.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let gp=["textarea","input"].join(",");function bp(i){var t,e;return(e=(t=i==null?void 0:i.matches)==null?void 0:t.call(i,gp))!=null?e:!1}function Pe(i,t=e=>e){return i.slice().sort((e,s)=>{let n=t(e),r=t(s);if(n===null||r===null)return 0;let o=n.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qe(i,t,{sorted:e=!0,relativeTo:s=null,skipElements:n=[]}={}){var r;let o=(r=Array.isArray(i)?i.length>0?i[0].ownerDocument:document:i==null?void 0:i.ownerDocument)!=null?r:document,l=Array.isArray(i)?e?Pe(i):i:mp(i);n.length>0&&l.length>1&&(l=l.filter(v=>!n.includes(v))),s=s??o.activeElement;let h=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(s))-1;if(t&4)return Math.max(0,l.indexOf(s))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=l.length,m;do{if(c>=f||c+f<=0)return 0;let v=a+c;if(t&16)v=(v+f)%f;else{if(v<0)return 3;if(v>=f)return 1}m=l[v],m==null||m.focus(u),c+=h}while(m!==o.activeElement);return t&6&&bp(m)&&m.select(),2}function _p(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wp(){return/Android/gi.test(window.navigator.userAgent)}function yp(){return _p()||wp()}function rs(i,t,e){xr.isServer||Pi(s=>{document.addEventListener(i,t,e),s(()=>document.removeEventListener(i,t,e))})}function xp(i,t,e){xr.isServer||Pi(s=>{window.addEventListener(i,t,e),s(()=>window.removeEventListener(i,t,e))})}function Sp(i,t,e=H(()=>!0)){function s(r,o){if(!e.value||r.defaultPrevented)return;let l=o(r);if(l===null||!l.getRootNode().contains(l))return;let h=function a(u){return typeof u=="function"?a(u()):Array.isArray(u)||u instanceof Set?u:[u]}(i);for(let a of h){if(a===null)continue;let u=a instanceof HTMLElement?a:K(a);if(u!=null&&u.contains(l)||r.composed&&r.composedPath().includes(u))return}return!Vh(l,Sr.Loose)&&l.tabIndex!==-1&&r.preventDefault(),t(r,l)}let n=Z(null);rs("pointerdown",r=>{var o,l;e.value&&(n.value=((l=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:l[0])||r.target)},!0),rs("mousedown",r=>{var o,l;e.value&&(n.value=((l=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:l[0])||r.target)},!0),rs("click",r=>{yp()||n.value&&(s(r,()=>n.value),n.value=null)},!0),rs("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),xp("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ul(i,t){if(i)return i;let e=t??"button";if(typeof e=="string"&&e.toLowerCase()==="button")return"button"}function Mr(i,t){let e=Z(ul(i.value.type,i.value.as));return Zt(()=>{e.value=ul(i.value.type,i.value.as)}),Pi(()=>{var s;e.value||K(t)&&K(t)instanceof HTMLButtonElement&&!((s=K(t))!=null&&s.hasAttribute("type"))&&(e.value="button")}),e}function cl(i){return[i.screenX,i.screenY]}function Mp(){let i=Z([-1,-1]);return{wasMoved(t){let e=cl(t);return i.value[0]===e[0]&&i.value[1]===e[1]?!1:(i.value=e,!0)},update(t){i.value=cl(t)}}}var jn=(i=>(i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i))(jn||{}),Cp=(i=>(i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i))(Cp||{});function ce({visible:i=!0,features:t=0,ourProps:e,theirProps:s,...n}){var r;let o=jh(s,e),l=Object.assign(n,{props:o});if(i||t&2&&o.static)return xn(l);if(t&1){let h=(r=o.unmount)==null||r?0:1;return Ot(h,{0(){return null},1(){return xn({...n,props:{...o,hidden:!0,style:{display:"none"}}})}})}return xn(l)}function xn({props:i,attrs:t,slots:e,slot:s,name:n}){var r,o;let{as:l,...h}=Ds(i,["unmount","static"]),a=(r=e.default)==null?void 0:r.call(e,s),u={};if(s){let c=!1,f=[];for(let[m,v]of Object.entries(s))typeof v=="boolean"&&(c=!0),v===!0&&f.push(m);c&&(u["data-headlessui-state"]=f.join(" "))}if(l==="template"){if(a=Wh(a??[]),Object.keys(h).length>0||Object.keys(t).length>0){let[c,...f]=a??[];if(!Ep(c)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(t)).map(p=>p.trim()).filter((p,w,x)=>x.indexOf(p)===w).sort((p,w)=>p.localeCompare(w)).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let m=jh((o=c.props)!=null?o:{},h,u),v=he(c,m,!0);for(let p in m)p.startsWith("on")&&(v.props||(v.props={}),v.props[p]=m[p]);return v}return Array.isArray(a)&&a.length===1?a[0]:a}return ae(l,Object.assign({},h,u),{default:()=>a})}function Wh(i){return i.flatMap(t=>t.type===ct?Wh(t.children):[t])}function jh(...i){if(i.length===0)return{};if(i.length===1)return i[0];let t={},e={};for(let s of i)for(let n in s)n.startsWith("on")&&typeof s[n]=="function"?(e[n]!=null||(e[n]=[]),e[n].push(s[n])):t[n]=s[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(e).map(s=>[s,void 0])));for(let s in e)Object.assign(t,{[s](n,...r){let o=e[s];for(let l of o){if(n instanceof Event&&n.defaultPrevented)return;l(n,...r)}}});return t}function Hh(i){let t=Object.assign({},i);for(let e in t)t[e]===void 0&&delete t[e];return t}function Ds(i,t=[]){let e=Object.assign({},i);for(let s of t)s in e&&delete e[s];return e}function Ep(i){return i==null?!1:typeof i.type=="string"||typeof i.type=="object"||typeof i.type=="function"}var Bs=(i=>(i[i.None=1]="None",i[i.Focusable=2]="Focusable",i[i.Hidden=4]="Hidden",i))(Bs||{});let Cr=mt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(i,{slots:t,attrs:e}){return()=>{var s;let{features:n,...r}=i,o={"aria-hidden":(n&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ce({ourProps:o,theirProps:r,slot:{},attrs:e,slots:t,name:"Hidden"})}}}),Uh=Symbol("Context");var Ri=(i=>(i[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i))(Ri||{});function Op(){return Dt(Uh,null)}function zp(i){oi(Uh,i)}var G=(i=>(i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.Delete="Delete",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab",i))(G||{});function Tp(i){throw new Error("Unexpected object: "+i)}var Mt=(i=>(i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing",i))(Mt||{});function Lp(i,t){let e=t.resolveItems();if(e.length<=0)return null;let s=t.resolveActiveIndex(),n=s??-1;switch(i.focus){case 0:{for(let r=0;r<e.length;++r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 1:{n===-1&&(n=e.length);for(let r=n-1;r>=0;--r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 2:{for(let r=n+1;r<e.length;++r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 3:{for(let r=e.length-1;r>=0;--r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 4:{for(let r=0;r<e.length;++r)if(t.resolveId(e[r],r,e)===i.id)return r;return s}case 5:return null;default:Tp(i)}}function kp(i){typeof queueMicrotask=="function"?queueMicrotask(i):Promise.resolve().then(i).catch(t=>setTimeout(()=>{throw t}))}function Kh(i={},t=null,e=[]){for(let[s,n]of Object.entries(i))Yh(e,Zh(t,s),n);return e}function Zh(i,t){return i?i+"["+t+"]":t}function Yh(i,t,e){if(Array.isArray(e))for(let[s,n]of e.entries())Yh(i,Zh(t,s.toString()),n);else e instanceof Date?i.push([t,e.toISOString()]):typeof e=="boolean"?i.push([t,e?"1":"0"]):typeof e=="string"?i.push([t,e]):typeof e=="number"?i.push([t,`${e}`]):e==null?i.push([t,""]):Kh(e,t,i)}function Np(i){var t,e;let s=(t=i==null?void 0:i.form)!=null?t:i.closest("form");if(s){for(let n of s.elements)if(n!==i&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(e=s.requestSubmit)==null||e.call(s)}}let fl=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function dl(i){var t,e;let s=(t=i.innerText)!=null?t:"",n=i.cloneNode(!0);if(!(n instanceof HTMLElement))return s;let r=!1;for(let l of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),r=!0;let o=r?(e=n.innerText)!=null?e:"":s;return fl.test(o)&&(o=o.replace(fl,"")),o}function Ip(i){let t=i.getAttribute("aria-label");if(typeof t=="string")return t.trim();let e=i.getAttribute("aria-labelledby");if(e){let s=e.split(" ").map(n=>{let r=document.getElementById(n);if(r){let o=r.getAttribute("aria-label");return typeof o=="string"?o.trim():dl(r).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return dl(i).trim()}function Rp(i){let t=Z(""),e=Z("");return()=>{let s=K(i);if(!s)return"";let n=s.innerText;if(t.value===n)return e.value;let r=Ip(s).trim().toLowerCase();return t.value=n,e.value=r,r}}function Pp(i,t){return i===t}var Ap=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(Ap||{}),$p=(i=>(i[i.Single=0]="Single",i[i.Multi=1]="Multi",i))($p||{}),Dp=(i=>(i[i.Pointer=0]="Pointer",i[i.Other=1]="Other",i))(Dp||{});function Bp(i){requestAnimationFrame(()=>requestAnimationFrame(i))}let qh=Symbol("ListboxContext");function Fs(i){let t=Dt(qh,null);if(t===null){let e=new Error(`<${i} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Fs),e}return t}let Fp=mt({name:"Listbox",emits:{"update:modelValue":i=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Pp},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(i,{slots:t,attrs:e,emit:s}){let n=Z(1),r=Z(null),o=Z(null),l=Z(null),h=Z([]),a=Z(""),u=Z(null),c=Z(1);function f(b=S=>S){let S=u.value!==null?h.value[u.value]:null,z=Pe(b(h.value.slice()),D=>K(D.dataRef.domRef)),L=S?z.indexOf(S):null;return L===-1&&(L=null),{options:z,activeOptionIndex:L}}let m=H(()=>i.multiple?1:0),[v,p]=Bh(H(()=>i.modelValue),b=>s("update:modelValue",b),H(()=>i.defaultValue)),w=H(()=>v.value===void 0?Ot(m.value,{1:[],0:void 0}):v.value),x={listboxState:n,value:w,mode:m,compare(b,S){if(typeof i.by=="string"){let z=i.by;return(b==null?void 0:b[z])===(S==null?void 0:S[z])}return i.by(b,S)},orientation:H(()=>i.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:o,optionsRef:l,disabled:H(()=>i.disabled),options:h,searchQuery:a,activeOptionIndex:u,activationTrigger:c,closeListbox(){i.disabled||n.value!==1&&(n.value=1,u.value=null)},openListbox(){i.disabled||n.value!==0&&(n.value=0)},goToOption(b,S,z){if(i.disabled||n.value===1)return;let L=f(),D=Lp(b===Mt.Specific?{focus:Mt.Specific,id:S}:{focus:b},{resolveItems:()=>L.options,resolveActiveIndex:()=>L.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});a.value="",u.value=D,c.value=z??1,h.value=L.options},search(b){if(i.disabled||n.value===1)return;let S=a.value!==""?0:1;a.value+=b.toLowerCase();let z=(u.value!==null?h.value.slice(u.value+S).concat(h.value.slice(0,u.value+S)):h.value).find(D=>D.dataRef.textValue.startsWith(a.value)&&!D.dataRef.disabled),L=z?h.value.indexOf(z):-1;L===-1||L===u.value||(u.value=L,c.value=1)},clearSearch(){i.disabled||n.value!==1&&a.value!==""&&(a.value="")},registerOption(b,S){let z=f(L=>[...L,{id:b,dataRef:S}]);h.value=z.options,u.value=z.activeOptionIndex},unregisterOption(b){let S=f(z=>{let L=z.findIndex(D=>D.id===b);return L!==-1&&z.splice(L,1),z});h.value=S.options,u.value=S.activeOptionIndex,c.value=1},theirOnChange(b){i.disabled||p(b)},select(b){i.disabled||p(Ot(m.value,{0:()=>b,1:()=>{let S=W(x.value.value).slice(),z=W(b),L=S.findIndex(D=>x.compare(z,W(D)));return L===-1?S.push(z):S.splice(L,1),S}}))}};Sp([o,l],(b,S)=>{var z;x.closeListbox(),Vh(S,Sr.Loose)||(b.preventDefault(),(z=K(o))==null||z.focus())},H(()=>n.value===0)),oi(qh,x),zp(H(()=>Ot(n.value,{0:Ri.Open,1:Ri.Closed})));let y=H(()=>{var b;return(b=K(o))==null?void 0:b.closest("form")});return Zt(()=>{wt([y],()=>{if(!y.value||i.defaultValue===void 0)return;function b(){x.theirOnChange(i.defaultValue)}return y.value.addEventListener("reset",b),()=>{var S;(S=y.value)==null||S.removeEventListener("reset",b)}},{immediate:!0})}),()=>{let{name:b,modelValue:S,disabled:z,form:L,...D}=i,R={open:n.value===0,disabled:z,value:w.value};return ae(ct,[...b!=null&&w.value!=null?Kh({[b]:w.value}).map(([Y,q])=>ae(Cr,Hh({features:Bs.Hidden,key:Y,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:L,name:Y,value:q}))):[],ce({ourProps:{},theirProps:{...e,...Ds(D,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:R,slots:t,attrs:e,name:"Listbox"})])}}}),Vp=mt({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(i,{attrs:t,slots:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-listbox-button-${Fi()}`,o=Fs("ListboxButton");s({el:o.buttonRef,$el:o.buttonRef});function l(c){switch(c.key){case G.Space:case G.Enter:case G.ArrowDown:c.preventDefault(),o.openListbox(),Me(()=>{var f;(f=K(o.optionsRef))==null||f.focus({preventScroll:!0}),o.value.value||o.goToOption(Mt.First)});break;case G.ArrowUp:c.preventDefault(),o.openListbox(),Me(()=>{var f;(f=K(o.optionsRef))==null||f.focus({preventScroll:!0}),o.value.value||o.goToOption(Mt.Last)});break}}function h(c){switch(c.key){case G.Space:c.preventDefault();break}}function a(c){o.disabled.value||(o.listboxState.value===0?(o.closeListbox(),Me(()=>{var f;return(f=K(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(c.preventDefault(),o.openListbox(),Bp(()=>{var f;return(f=K(o.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let u=Mr(H(()=>({as:i.as,type:t.type})),o.buttonRef);return()=>{var c,f;let m={open:o.listboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...v}=i,p={ref:o.buttonRef,id:r,type:u.value,"aria-haspopup":"listbox","aria-controls":(c=K(o.optionsRef))==null?void 0:c.id,"aria-expanded":o.listboxState.value===0,"aria-labelledby":o.labelRef.value?[(f=K(o.labelRef))==null?void 0:f.id,r].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:l,onKeyup:h,onClick:a};return ce({ourProps:p,theirProps:v,slot:m,attrs:t,slots:e,name:"ListboxButton"})}}}),Wp=mt({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(i,{attrs:t,slots:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-listbox-options-${Fi()}`,o=Fs("ListboxOptions"),l=Z(null);s({el:o.optionsRef,$el:o.optionsRef});function h(c){switch(l.value&&clearTimeout(l.value),c.key){case G.Space:if(o.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),o.search(c.key);case G.Enter:if(c.preventDefault(),c.stopPropagation(),o.activeOptionIndex.value!==null){let f=o.options.value[o.activeOptionIndex.value];o.select(f.dataRef.value)}o.mode.value===0&&(o.closeListbox(),Me(()=>{var f;return(f=K(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case Ot(o.orientation.value,{vertical:G.ArrowDown,horizontal:G.ArrowRight}):return c.preventDefault(),c.stopPropagation(),o.goToOption(Mt.Next);case Ot(o.orientation.value,{vertical:G.ArrowUp,horizontal:G.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),o.goToOption(Mt.Previous);case G.Home:case G.PageUp:return c.preventDefault(),c.stopPropagation(),o.goToOption(Mt.First);case G.End:case G.PageDown:return c.preventDefault(),c.stopPropagation(),o.goToOption(Mt.Last);case G.Escape:c.preventDefault(),c.stopPropagation(),o.closeListbox(),Me(()=>{var f;return(f=K(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case G.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(o.search(c.key),l.value=setTimeout(()=>o.clearSearch(),350));break}}let a=Op(),u=H(()=>a!==null?(a.value&Ri.Open)===Ri.Open:o.listboxState.value===0);return()=>{var c,f;let m={open:o.listboxState.value===0},{...v}=i,p={"aria-activedescendant":o.activeOptionIndex.value===null||(c=o.options.value[o.activeOptionIndex.value])==null?void 0:c.id,"aria-multiselectable":o.mode.value===1?!0:void 0,"aria-labelledby":(f=K(o.buttonRef))==null?void 0:f.id,"aria-orientation":o.orientation.value,id:r,onKeydown:h,role:"listbox",tabIndex:0,ref:o.optionsRef};return ce({ourProps:p,theirProps:v,slot:m,attrs:t,slots:e,features:jn.RenderStrategy|jn.Static,visible:u.value,name:"ListboxOptions"})}}}),jp=mt({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(i,{slots:t,attrs:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-listbox-option-${Fi()}`,o=Fs("ListboxOption"),l=Z(null);s({el:l,$el:l});let h=H(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===r:!1),a=H(()=>Ot(o.mode.value,{0:()=>o.compare(W(o.value.value),W(i.value)),1:()=>W(o.value.value).some(b=>o.compare(W(b),W(i.value)))})),u=H(()=>Ot(o.mode.value,{1:()=>{var b;let S=W(o.value.value);return((b=o.options.value.find(z=>S.some(L=>o.compare(W(L),W(z.dataRef.value)))))==null?void 0:b.id)===r},0:()=>a.value})),c=Rp(l),f=H(()=>({disabled:i.disabled,value:i.value,get textValue(){return c()},domRef:l}));Zt(()=>o.registerOption(r,f)),Ai(()=>o.unregisterOption(r)),Zt(()=>{wt([o.listboxState,a],()=>{o.listboxState.value===0&&a.value&&Ot(o.mode.value,{1:()=>{u.value&&o.goToOption(Mt.Specific,r)},0:()=>{o.goToOption(Mt.Specific,r)}})},{immediate:!0})}),Pi(()=>{o.listboxState.value===0&&h.value&&o.activationTrigger.value!==0&&Me(()=>{var b,S;return(S=(b=K(l))==null?void 0:b.scrollIntoView)==null?void 0:S.call(b,{block:"nearest"})})});function m(b){if(i.disabled)return b.preventDefault();o.select(i.value),o.mode.value===0&&(o.closeListbox(),Me(()=>{var S;return(S=K(o.buttonRef))==null?void 0:S.focus({preventScroll:!0})}))}function v(){if(i.disabled)return o.goToOption(Mt.Nothing);o.goToOption(Mt.Specific,r)}let p=Mp();function w(b){p.update(b)}function x(b){p.wasMoved(b)&&(i.disabled||h.value||o.goToOption(Mt.Specific,r,0))}function y(b){p.wasMoved(b)&&(i.disabled||h.value&&o.goToOption(Mt.Nothing))}return()=>{let{disabled:b}=i,S={active:h.value,selected:a.value,disabled:b},{value:z,disabled:L,...D}=i,R={id:r,ref:l,role:"option",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,"aria-selected":a.value,disabled:void 0,onClick:m,onFocus:v,onPointerenter:w,onMouseenter:w,onPointermove:x,onMousemove:x,onPointerleave:y,onMouseleave:y};return ce({ourProps:R,theirProps:D,slot:S,attrs:e,slots:t,name:"ListboxOption"})}}}),Hp=Symbol("GroupContext"),Up=mt({name:"Switch",emits:{"update:modelValue":i=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(i,{emit:t,attrs:e,slots:s,expose:n}){var r;let o=(r=i.id)!=null?r:`headlessui-switch-${Fi()}`,l=Dt(Hp,null),[h,a]=Bh(H(()=>i.modelValue),y=>t("update:modelValue",y),H(()=>i.defaultChecked));function u(){a(!h.value)}let c=Z(null),f=l===null?c:l.switchRef,m=Mr(H(()=>({as:i.as,type:e.type})),f);n({el:f,$el:f});function v(y){y.preventDefault(),u()}function p(y){y.key===G.Space?(y.preventDefault(),u()):y.key===G.Enter&&Np(y.currentTarget)}function w(y){y.preventDefault()}let x=H(()=>{var y,b;return(b=(y=K(f))==null?void 0:y.closest)==null?void 0:b.call(y,"form")});return Zt(()=>{wt([x],()=>{if(!x.value||i.defaultChecked===void 0)return;function y(){a(i.defaultChecked)}return x.value.addEventListener("reset",y),()=>{var b;(b=x.value)==null||b.removeEventListener("reset",y)}},{immediate:!0})}),()=>{let{name:y,value:b,form:S,...z}=i,L={checked:h.value},D={id:o,ref:f,role:"switch",type:m.value,tabIndex:0,"aria-checked":h.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:v,onKeyup:p,onKeypress:w};return ae(ct,[y!=null&&h.value!=null?ae(Cr,Hh({features:Bs.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:h.value,form:S,name:y,value:b})):null,ce({ourProps:D,theirProps:{...e,...Ds(z,["modelValue","defaultChecked"])},slot:L,attrs:e,slots:s,name:"Switch"})])}}}),Kp=mt({props:{onFocus:{type:Function,required:!0}},setup(i){let t=Z(!0);return()=>t.value?ae(Cr,{as:"button",type:"button",features:Bs.Focusable,onFocus(e){e.preventDefault();let s,n=50;function r(){var o;if(n--<=0){s&&cancelAnimationFrame(s);return}if((o=i.onFocus)!=null&&o.call(i)){t.value=!1,cancelAnimationFrame(s);return}s=requestAnimationFrame(r)}s=requestAnimationFrame(r)}}):null}});var Zp=(i=>(i[i.Forwards=0]="Forwards",i[i.Backwards=1]="Backwards",i))(Zp||{}),Yp=(i=>(i[i.Less=-1]="Less",i[i.Equal=0]="Equal",i[i.Greater=1]="Greater",i))(Yp||{});let Qh=Symbol("TabsContext");function Er(i){let t=Dt(Qh,null);if(t===null){let e=new Error(`<${i} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Er),e}return t}let Xh=Symbol("TabsSSRContext"),qp=mt({name:"TabGroup",emits:{change:i=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(i,{slots:t,attrs:e,emit:s}){var n;let r=Z((n=i.selectedIndex)!=null?n:i.defaultIndex),o=Z([]),l=Z([]),h=H(()=>i.selectedIndex!==null),a=H(()=>h.value?i.selectedIndex:r.value);function u(p){var w;let x=Pe(c.tabs.value,K),y=Pe(c.panels.value,K),b=x.filter(S=>{var z;return!((z=K(S))!=null&&z.hasAttribute("disabled"))});if(p<0||p>x.length-1){let S=Ot(r.value===null?0:Math.sign(p-r.value),{[-1]:()=>1,0:()=>Ot(Math.sign(p),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),z=Ot(S,{0:()=>x.indexOf(b[0]),1:()=>x.indexOf(b[b.length-1])});z!==-1&&(r.value=z),c.tabs.value=x,c.panels.value=y}else{let S=x.slice(0,p),z=[...x.slice(p),...S].find(D=>b.includes(D));if(!z)return;let L=(w=x.indexOf(z))!=null?w:c.selectedIndex.value;L===-1&&(L=c.selectedIndex.value),r.value=L,c.tabs.value=x,c.panels.value=y}}let c={selectedIndex:H(()=>{var p,w;return(w=(p=r.value)!=null?p:i.defaultIndex)!=null?w:null}),orientation:H(()=>i.vertical?"vertical":"horizontal"),activation:H(()=>i.manual?"manual":"auto"),tabs:o,panels:l,setSelectedIndex(p){a.value!==p&&s("change",p),h.value||u(p)},registerTab(p){var w;if(o.value.includes(p))return;let x=o.value[r.value];o.value.push(p),o.value=Pe(o.value,K);let y=(w=o.value.indexOf(x))!=null?w:r.value;y!==-1&&(r.value=y)},unregisterTab(p){let w=o.value.indexOf(p);w!==-1&&o.value.splice(w,1)},registerPanel(p){l.value.includes(p)||(l.value.push(p),l.value=Pe(l.value,K))},unregisterPanel(p){let w=l.value.indexOf(p);w!==-1&&l.value.splice(w,1)}};oi(Qh,c);let f=Z({tabs:[],panels:[]}),m=Z(!1);Zt(()=>{m.value=!0}),oi(Xh,H(()=>m.value?null:f.value));let v=H(()=>i.selectedIndex);return Zt(()=>{wt([v],()=>{var p;return u((p=i.selectedIndex)!=null?p:i.defaultIndex)},{immediate:!0})}),Pi(()=>{if(!h.value||a.value==null||c.tabs.value.length<=0)return;let p=Pe(c.tabs.value,K);p.some((w,x)=>K(c.tabs.value[x])!==K(w))&&c.setSelectedIndex(p.findIndex(w=>K(w)===K(c.tabs.value[a.value])))}),()=>{let p={selectedIndex:r.value};return ae(ct,[o.value.length<=0&&ae(Kp,{onFocus:()=>{for(let w of o.value){let x=K(w);if((x==null?void 0:x.tabIndex)===0)return x.focus(),!0}return!1}}),ce({theirProps:{...e,...Ds(i,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:p,slots:t,attrs:e,name:"TabGroup"})])}}}),Qp=mt({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(i,{attrs:t,slots:e}){let s=Er("TabList");return()=>{let n={selectedIndex:s.selectedIndex.value},r={role:"tablist","aria-orientation":s.orientation.value};return ce({ourProps:r,theirProps:i,slot:n,attrs:t,slots:e,name:"TabList"})}}}),Xp=mt({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(i,{attrs:t,slots:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-tabs-tab-${Fi()}`,o=Er("Tab"),l=Z(null);s({el:l,$el:l}),Zt(()=>o.registerTab(l)),Ai(()=>o.unregisterTab(l));let h=Dt(Xh),a=H(()=>{if(h.value){let y=h.value.tabs.indexOf(r);return y===-1?h.value.tabs.push(r)-1:y}return-1}),u=H(()=>{let y=o.tabs.value.indexOf(l);return y===-1?a.value:y}),c=H(()=>u.value===o.selectedIndex.value);function f(y){var b;let S=y();if(S===mi.Success&&o.activation.value==="auto"){let z=(b=Fh(l))==null?void 0:b.activeElement,L=o.tabs.value.findIndex(D=>K(D)===z);L!==-1&&o.setSelectedIndex(L)}return S}function m(y){let b=o.tabs.value.map(S=>K(S)).filter(Boolean);if(y.key===G.Space||y.key===G.Enter){y.preventDefault(),y.stopPropagation(),o.setSelectedIndex(u.value);return}switch(y.key){case G.Home:case G.PageUp:return y.preventDefault(),y.stopPropagation(),f(()=>qe(b,jt.First));case G.End:case G.PageDown:return y.preventDefault(),y.stopPropagation(),f(()=>qe(b,jt.Last))}if(f(()=>Ot(o.orientation.value,{vertical(){return y.key===G.ArrowUp?qe(b,jt.Previous|jt.WrapAround):y.key===G.ArrowDown?qe(b,jt.Next|jt.WrapAround):mi.Error},horizontal(){return y.key===G.ArrowLeft?qe(b,jt.Previous|jt.WrapAround):y.key===G.ArrowRight?qe(b,jt.Next|jt.WrapAround):mi.Error}}))===mi.Success)return y.preventDefault()}let v=Z(!1);function p(){var y;v.value||(v.value=!0,!i.disabled&&((y=K(l))==null||y.focus({preventScroll:!0}),o.setSelectedIndex(u.value),kp(()=>{v.value=!1})))}function w(y){y.preventDefault()}let x=Mr(H(()=>({as:i.as,type:t.type})),l);return()=>{var y;let b={selected:c.value},{...S}=i,z={ref:l,onKeydown:m,onMousedown:w,onClick:p,id:r,role:"tab",type:x.value,"aria-controls":(y=K(o.panels.value[u.value]))==null?void 0:y.id,"aria-selected":c.value,tabIndex:c.value?0:-1,disabled:i.disabled?!0:void 0};return ce({ourProps:z,theirProps:S,slot:b,attrs:t,slots:e,name:"Tab"})}}});const Gp=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="w-6 h-6">
    <path fill="var(--foreground)" stroke-linecap="round" stroke-linejoin="round"
        d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" />
</svg>`,Jp={class:"relative mt-1"},tm={key:0,class:"block truncate"},em={key:1,class:"text-gray-500"},im={class:"flex absolute inset-y-0 right-0 items-center pr-2 pointer-events-none"},sm={class:"h-5 w-5 top-5 left-5 self-center"},nm=["innerHTML"],rm={key:0,class:"flex absolute inset-y-0 left-0 items-center pl-3 text-amber-600"},om=J("img",{class:"h-5 w-5",src:hp},null,-1),lm=[om],hm=mt({__name:"SelectComp",props:{modelValue:{},options:{},placeholder:{default:"Select option"}},emits:["update:modelValue"],setup(i,{emit:t}){const e=i,s=t,n=H(()=>e.options.filter(r=>Array.isArray(e.modelValue)?e.modelValue.includes(r.value):e.modelValue===r.value).map(r=>r.label).join(", "));return(r,o)=>(at(),Ee(_t(Fp),{"model-value":e.modelValue,"onUpdate:modelValue":o[0]||(o[0]=l=>s("update:modelValue",l))},{default:Ut(()=>[J("div",Jp,[nt(_t(Vp),{class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed"},{default:Ut(()=>[n.value?(at(),Et("span",tm,Ae(n.value),1)):(at(),Et("span",em,Ae(e.placeholder),1)),J("span",im,[J("div",sm,[J("div",{class:"object-contain h-full w-full",innerHTML:_t(Gp)},null,8,nm)])])]),_:1}),nt(ar,{"leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Ut(()=>[nt(_t(Wp),{class:"overflow-auto absolute z-50 mt-1 w-full max-h-60 text-base bg-popover text-popover-foreground rounded-md ring-1 ring-black ring-opacity-5 shadow-lg focus:outline-none sm:text-sm"},{default:Ut(()=>[(at(!0),Et(ct,null,Xl(e.options,l=>(at(),Ee(_t(jp),{key:l.label,value:l.value,as:"template"},{default:Ut(({active:h,selected:a})=>[J("li",{class:se([h?"bg-amber-200 text-amber-900":"","relative flex w-full cursor-default select-none items-center rounded-sm py-2 pl-10 pr-4 focus:bg-accent focus:text-accent-foreground"])},[J("span",{class:se([a?"font-medium":"font-normal","block truncate"])},Ae(l.label),3),a?(at(),Et("span",rm,lm)):ms("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["model-value"]))}}),am=mt({__name:"ButtonComp",props:{modelValue:{},class:{}},setup(i){const t=i;return(e,s)=>(at(),Et("button",{class:se(["h-full w-full px-4 py-2 bg-primary text-primary-foreground hover:bg-primary/90 inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ",t.class])},[mu(e.$slots,"default")],2))}}),um={class:"w-60 flex-grow"},cm=J("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Symbol: ",-1),fm={class:"min-h-[18px] inline-block text-[0.8rem] font-medium text-destructive"},dm={class:"w-60 flex-grow"},pm=J("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Period: ",-1),mm={class:"min-h-[18px] inline-block text-[0.8rem] font-medium text-destructive"},vm={class:"flex-grow max-w-40 align-middle"},gm={key:0,class:"flex text-[0.8rem] mt-[-18px] font-medium text-destructive justify-center"},bm=mt({__name:"FormView",props:{isLoading:{type:Boolean}},emits:["onChartData","update:isLoading"],setup(i,{emit:t}){const e=i,s=t,n=H({get(){return e.isLoading},set(u){s("update:isLoading",u)}}),r=Ms({symbol:{value:"",errorMsg:""},period:{value:"",errorMsg:""}}),o=()=>{let u=!0;return r.period.value||(r.period.errorMsg="Please select an period",u=!1),r.symbol.value?r.symbol.value.length>5||r.symbol.value.length<2?(r.symbol.errorMsg="symbol lenght must be between 2 & 5.",u=!1):/[^a-zA-Z0-9]/.test(r.symbol.value)&&(r.symbol.errorMsg="symbol should not have special characters.",u=!1):(r.symbol.errorMsg="Required",u=!1),u},l=Z(""),h=async()=>{if(o()){r.period.errorMsg="",r.symbol.errorMsg="",l.value="",n.value=!0;try{const u=await fetch(`https://hosted-function.vercel.app/api/search?symbol=${r.symbol.value}&period=${r.period.value}`),c=await u.json();if(!u.ok)throw new Error(c.message);s("onChartData",c)}catch(u){l.value=(u==null?void 0:u.message)??"Server error"}finally{n.value=!1}}},a=[{value:"daily",label:"Daily"},{value:"hourly",label:"Hourly"}];return(u,c)=>(at(),Et(ct,null,[J("form",{onSubmit:xc(h,["prevent"]),class:"py-2 px-6 flex gap-x-5 max-w-3xl items-center self-center flex-wrap justify-center"},[J("div",um,[cm,nt(lp,{class:"uppercase",placeholder:"Enter symbol",name:"symbol",modelValue:r.symbol.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.symbol.value=f),onInput:c[1]||(c[1]=f=>r.symbol.errorMsg="")},null,8,["modelValue"]),J("span",fm,Ae(r.symbol.errorMsg),1)]),J("div",dm,[pm,nt(hm,{placeholder:"Select period",modelValue:r.period.value,"onUpdate:modelValue":[c[2]||(c[2]=f=>r.period.value=f),c[3]||(c[3]=f=>r.period.errorMsg="")],options:a},null,8,["modelValue"]),J("span",mm,Ae(r.period.errorMsg),1)]),J("div",vm,[nt(am,{type:"submit"},{default:Ut(()=>[uh(" Search ")]),_:1})])],32),l.value?(at(),Et("div",gm,Ae(l.value),1)):ms("",!0)],64))}}),_m=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="bg-secondary rounded-full py-[3px] aspect-auto">
    <path stroke-linecap="round" stroke-linejoin="round"
        d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
        stroke="var(--forground)" />
</svg>`,wm=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="bg-secondary rounded-full py-[3px] aspect-auto">
    <path stroke-linecap="round" stroke-linejoin="round"
        d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
        stroke="var(--forground)" />
</svg>`,ym=`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30">
    <path fill="var(--foreground)"
        d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z">
    </path>
</svg>`,xm={class:"bg-primary-foreground flex w-full shadow align-middle"},Sm={class:"flex justify-between w-full items-center p-3"},Mm=J("div",{class:"text-xl pl-4"},"Stocks visualizer",-1),Cm={class:"flex gap-5"},Em={class:"h-8 top-5 left-5 self-center w-10"},Om=["innerHTML"],zm={class:"self-center leading-none"},Tm=J("span",{class:"sr-only"},"Dark Mode",-1),Lm=["innerHTML"],km=mt({__name:"HeaderView",setup(i){const t=Dt("isDarkMode",Z(!1));return wt(t,e=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("isDarkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.removeItem("isDarkMode"))}),(e,s)=>(at(),Et("div",xm,[J("div",Sm,[Mm,J("div",Cm,[J("div",Em,[J("a",{class:"object-contain h-full w-full cursor-pointer",innerHTML:_t(ym),href:"https://github.com/ketan-10/stock-data-visualization",target:"_blank"},null,8,Om)]),J("div",zm,[nt(_t(Up),{modelValue:_t(t),"onUpdate:modelValue":s[0]||(s[0]=n=>zt(t)?t.value=n:null),class:se([_t(t)?"bg-amber-900":"bg-amber-600","relative inline-flex h-[25px] w-[45px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 dark:focus-visible:ring-black/75"])},{default:Ut(()=>[Tm,J("span",{class:se([_t(t)?"translate-x-5":"translate-x-0 white","flex object-contain p-[1.4px] h-full w-full shadow-lg ring-0 transform transition duration-200 ease-in-out"]),innerHTML:_t(t)?_t(wm):_t(_m)},null,10,Lm)]),_:1},8,["modelValue","class"])])])])]))}}),Nm=mt({__name:"TabComp",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(i){const t=i;return(e,s)=>(at(),Ee(_t(qp),{selectedIndex:t.tabs.findIndex(n=>n==t.modelValue),onChange:s[0]||(s[0]=n=>e.$emit("update:modelValue",t.tabs[n]))},{default:Ut(()=>[nt(_t(Qp),{class:"flex space-x-1 rounded-xl bg-amber-900/20 p-1"},{default:Ut(()=>[(at(!0),Et(ct,null,Xl(t.tabs,n=>(at(),Ee(_t(Xp),{as:"template",key:n},{default:Ut(({selected:r})=>[J("button",{class:se(["w-full rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-amber-400 focus:outline-none focus:ring-2",r?"bg-white text-amber-700 shadow":"text-yellow-600 hover:bg-white/[0.12] hover:text-amber-900"])},Ae(n),3)]),_:2},1024))),128))]),_:1})]),_:1},8,["selectedIndex"]))}}),Im={class:"flex w-full flex-col"},Rm={class:"w-full z-[9999] top-0 left-0 fixed h-14 flex"},Pm={class:"pt-14 w-full min-h-screen flex flex-col"},Am={key:0,id:"spinner"},$m={class:"w-full md:w-80 self-center mb-5 px-5"},Dm=mt({__name:"App",setup(i){const t=Z(!!localStorage.getItem("isDarkMode"));oi("isDarkMode",t);const e=Z(!1),s=["candlestick","line"],n=Z("candlestick"),r=Z([]),o=l=>{r.value=l};return(l,h)=>(at(),Et("div",Im,[J("div",Rm,[nt(km)]),J("div",Pm,[nt(bm,{isLoading:e.value,"onUpdate:isLoading":h[0]||(h[0]=a=>e.value=a),onOnChartData:o},null,8,["isLoading"]),e.value?(at(),Et("div",Am)):(at(),Et(ct,{key:1},[J("div",$m,[r.value.length?(at(),Ee(Nm,{key:0,modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=a=>n.value=a),tabs:s},null,8,["modelValue"])):ms("",!0)]),r.value.length?(at(),Ee(rp,{key:0,serverData:r.value,chartType:n.value},null,8,["serverData","chartType"])):ms("",!0)],64))])]))}});Cc(Dm).mount("#app");
