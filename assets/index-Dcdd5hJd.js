(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hn(i,t){const e=new Set(i.split(","));return t?s=>e.has(s.toLowerCase()):s=>e.has(s)}const ut={},ii=[],jt=()=>{},Xh=()=>!1,ys=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Un=i=>i.startsWith("onUpdate:"),xt=Object.assign,Kn=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},Gh=Object.prototype.hasOwnProperty,et=(i,t)=>Gh.call(i,t),K=Array.isArray,si=i=>xs(i)==="[object Map]",hl=i=>xs(i)==="[object Set]",q=i=>typeof i=="function",gt=i=>typeof i=="string",fi=i=>typeof i=="symbol",ft=i=>i!==null&&typeof i=="object",al=i=>(ft(i)||q(i))&&q(i.then)&&q(i.catch),ul=Object.prototype.toString,xs=i=>ul.call(i),Jh=i=>xs(i).slice(8,-1),cl=i=>xs(i)==="[object Object]",Zn=i=>gt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,_i=Hn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ss=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},ta=/-(\w)/g,li=Ss(i=>i.replace(ta,(t,e)=>e?e.toUpperCase():"")),ea=/\B([A-Z])/g,di=Ss(i=>i.replace(ea,"-$1").toLowerCase()),fl=Ss(i=>i.charAt(0).toUpperCase()+i.slice(1)),Us=Ss(i=>i?`on${fl(i)}`:""),Se=(i,t)=>!Object.is(i,t),Ks=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},fs=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},ia=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let Rr;const dl=()=>Rr||(Rr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qn(i){if(K(i)){const t={};for(let e=0;e<i.length;e++){const s=i[e],n=gt(s)?oa(s):qn(s);if(n)for(const r in n)t[r]=n[r]}return t}else if(gt(i)||ft(i))return i}const sa=/;(?![^(]*\))/g,na=/:([^]+)/,ra=/\/\*[^]*?\*\//g;function oa(i){const t={};return i.replace(ra,"").split(sa).forEach(e=>{if(e){const s=e.split(na);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function oe(i){let t="";if(gt(i))t=i;else if(K(i))for(let e=0;e<i.length;e++){const s=oe(i[e]);s&&(t+=s+" ")}else if(ft(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const la="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ha=Hn(la);function pl(i){return!!i||i===""}const ds=i=>gt(i)?i:i==null?"":K(i)||ft(i)&&(i.toString===ul||!q(i.toString))?JSON.stringify(i,vl,2):String(i),vl=(i,t)=>t&&t.__v_isRef?vl(i,t.value):si(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,n],r)=>(e[Zs(s,r)+" =>"]=n,e),{})}:hl(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Zs(e))}:fi(t)?Zs(t):ft(t)&&!K(t)&&!cl(t)?String(t):t,Zs=(i,t="")=>{var e;return fi(i)?`Symbol(${(e=i.description)!=null?e:t})`:i};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class aa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dt,!t&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=Dt;try{return Dt=this,t()}finally{Dt=e}}}on(){Dt=this}off(){Dt=this.parent}stop(t){if(this._active){let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function ua(i,t=Dt){t&&t.active&&t.effects.push(i)}function ca(){return Dt}function fa(i){Dt&&Dt.cleanups.push(i)}let Le;class Yn{constructor(t,e,s,n){this.fn=t,this.trigger=e,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ua(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,je();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(da(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),He()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ye,e=Le;try{return ye=!0,Le=this,this._runnings++,Pr(this),this.fn()}finally{kr(this),this._runnings--,Le=e,ye=t}}stop(){var t;this.active&&(Pr(this),kr(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function da(i){return i.value}function Pr(i){i._trackId++,i._depsLength=0}function kr(i){if(i.deps.length>i._depsLength){for(let t=i._depsLength;t<i.deps.length;t++)ml(i.deps[t],i);i.deps.length=i._depsLength}}function ml(i,t){const e=i.get(t);e!==void 0&&t._trackId!==e&&(i.delete(t),i.size===0&&i.cleanup())}let ye=!0,Mn=0;const gl=[];function je(){gl.push(ye),ye=!1}function He(){const i=gl.pop();ye=i===void 0?!0:i}function Qn(){Mn++}function Xn(){for(Mn--;!Mn&&Cn.length;)Cn.shift()()}function bl(i,t,e){if(t.get(i)!==i._trackId){t.set(i,i._trackId);const s=i.deps[i._depsLength];s!==t?(s&&ml(s,i),i.deps[i._depsLength++]=t):i._depsLength++}}const Cn=[];function wl(i,t,e){Qn();for(const s of i.keys()){let n;s._dirtyLevel<t&&(n??(n=i.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(n??(n=i.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Cn.push(s.scheduler)))}Xn()}const _l=(i,t)=>{const e=new Map;return e.cleanup=i,e.computed=t,e},En=new WeakMap,Ne=Symbol(""),On=Symbol("");function Nt(i,t,e){if(ye&&Le){let s=En.get(i);s||En.set(i,s=new Map);let n=s.get(e);n||s.set(e,n=_l(()=>s.delete(e))),bl(Le,n)}}function fe(i,t,e,s,n,r){const o=En.get(i);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(e==="length"&&K(i)){const h=Number(s);o.forEach((a,u)=>{(u==="length"||!fi(u)&&u>=h)&&l.push(a)})}else switch(e!==void 0&&l.push(o.get(e)),t){case"add":K(i)?Zn(e)&&l.push(o.get("length")):(l.push(o.get(Ne)),si(i)&&l.push(o.get(On)));break;case"delete":K(i)||(l.push(o.get(Ne)),si(i)&&l.push(o.get(On)));break;case"set":si(i)&&l.push(o.get(Ne));break}Qn();for(const h of l)h&&wl(h,4);Xn()}const pa=Hn("__proto__,__v_isRef,__isVue"),yl=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(fi)),Lr=va();function va(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const s=Q(this);for(let r=0,o=this.length;r<o;r++)Nt(s,"get",r+"");const n=s[t](...e);return n===-1||n===!1?s[t](...e.map(Q)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){je(),Qn();const s=Q(this)[t].apply(this,e);return Xn(),He(),s}}),i}function ma(i){const t=Q(this);return Nt(t,"has",i),t.hasOwnProperty(i)}class xl{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){const n=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!n;if(e==="__v_isReadonly")return n;if(e==="__v_isShallow")return r;if(e==="__v_raw")return s===(n?r?Ta:El:r?Cl:Ml).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=K(t);if(!n){if(o&&et(Lr,e))return Reflect.get(Lr,e,s);if(e==="hasOwnProperty")return ma}const l=Reflect.get(t,e,s);return(fi(e)?yl.has(e):pa(e))||(n||Nt(t,"get",e),r)?l:St(l)?o&&Zn(e)?l:l.value:ft(l)?n?Ol(l):Di(l):l}}class Sl extends xl{constructor(t=!1){super(!1,t)}set(t,e,s,n){let r=t[e];if(!this._isShallow){const h=hi(r);if(!ps(s)&&!hi(s)&&(r=Q(r),s=Q(s)),!K(t)&&St(r)&&!St(s))return h?!1:(r.value=s,!0)}const o=K(t)&&Zn(e)?Number(e)<t.length:et(t,e),l=Reflect.set(t,e,s,n);return t===Q(n)&&(o?Se(s,r)&&fe(t,"set",e,s):fe(t,"add",e,s)),l}deleteProperty(t,e){const s=et(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&fe(t,"delete",e,void 0),n}has(t,e){const s=Reflect.has(t,e);return(!fi(e)||!yl.has(e))&&Nt(t,"has",e),s}ownKeys(t){return Nt(t,"iterate",K(t)?"length":Ne),Reflect.ownKeys(t)}}class ga extends xl{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const ba=new Sl,wa=new ga,_a=new Sl(!0),Gn=i=>i,Ms=i=>Reflect.getPrototypeOf(i);function Hi(i,t,e=!1,s=!1){i=i.__v_raw;const n=Q(i),r=Q(t);e||(Se(t,r)&&Nt(n,"get",t),Nt(n,"get",r));const{has:o}=Ms(n),l=s?Gn:e?er:Ti;if(o.call(n,t))return l(i.get(t));if(o.call(n,r))return l(i.get(r));i!==n&&i.get(t)}function Ui(i,t=!1){const e=this.__v_raw,s=Q(e),n=Q(i);return t||(Se(i,n)&&Nt(s,"has",i),Nt(s,"has",n)),i===n?e.has(i):e.has(i)||e.has(n)}function Ki(i,t=!1){return i=i.__v_raw,!t&&Nt(Q(i),"iterate",Ne),Reflect.get(i,"size",i)}function Nr(i){i=Q(i);const t=Q(this);return Ms(t).has.call(t,i)||(t.add(i),fe(t,"add",i,i)),this}function $r(i,t){t=Q(t);const e=Q(this),{has:s,get:n}=Ms(e);let r=s.call(e,i);r||(i=Q(i),r=s.call(e,i));const o=n.call(e,i);return e.set(i,t),r?Se(t,o)&&fe(e,"set",i,t):fe(e,"add",i,t),this}function Ar(i){const t=Q(this),{has:e,get:s}=Ms(t);let n=e.call(t,i);n||(i=Q(i),n=e.call(t,i)),s&&s.call(t,i);const r=t.delete(i);return n&&fe(t,"delete",i,void 0),r}function Dr(){const i=Q(this),t=i.size!==0,e=i.clear();return t&&fe(i,"clear",void 0,void 0),e}function Zi(i,t){return function(s,n){const r=this,o=r.__v_raw,l=Q(o),h=t?Gn:i?er:Ti;return!i&&Nt(l,"iterate",Ne),o.forEach((a,u)=>s.call(n,h(a),h(u),r))}}function qi(i,t,e){return function(...s){const n=this.__v_raw,r=Q(n),o=si(r),l=i==="entries"||i===Symbol.iterator&&o,h=i==="keys"&&o,a=n[i](...s),u=e?Gn:t?er:Ti;return!t&&Nt(r,"iterate",h?On:Ne),{next(){const{value:c,done:f}=a.next();return f?{value:c,done:f}:{value:l?[u(c[0]),u(c[1])]:u(c),done:f}},[Symbol.iterator](){return this}}}}function pe(i){return function(...t){return i==="delete"?!1:i==="clear"?void 0:this}}function ya(){const i={get(r){return Hi(this,r)},get size(){return Ki(this)},has:Ui,add:Nr,set:$r,delete:Ar,clear:Dr,forEach:Zi(!1,!1)},t={get(r){return Hi(this,r,!1,!0)},get size(){return Ki(this)},has:Ui,add:Nr,set:$r,delete:Ar,clear:Dr,forEach:Zi(!1,!0)},e={get(r){return Hi(this,r,!0)},get size(){return Ki(this,!0)},has(r){return Ui.call(this,r,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Zi(!0,!1)},s={get(r){return Hi(this,r,!0,!0)},get size(){return Ki(this,!0)},has(r){return Ui.call(this,r,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Zi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=qi(r,!1,!1),e[r]=qi(r,!0,!1),t[r]=qi(r,!1,!0),s[r]=qi(r,!0,!0)}),[i,e,t,s]}const[xa,Sa,Ma,Ca]=ya();function Jn(i,t){const e=t?i?Ca:Ma:i?Sa:xa;return(s,n,r)=>n==="__v_isReactive"?!i:n==="__v_isReadonly"?i:n==="__v_raw"?s:Reflect.get(et(e,n)&&n in s?e:s,n,r)}const Ea={get:Jn(!1,!1)},Oa={get:Jn(!1,!0)},za={get:Jn(!0,!1)},Ml=new WeakMap,Cl=new WeakMap,El=new WeakMap,Ta=new WeakMap;function Ia(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ra(i){return i.__v_skip||!Object.isExtensible(i)?0:Ia(Jh(i))}function Di(i){return hi(i)?i:tr(i,!1,ba,Ea,Ml)}function Pa(i){return tr(i,!1,_a,Oa,Cl)}function Ol(i){return tr(i,!0,wa,za,El)}function tr(i,t,e,s,n){if(!ft(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const r=n.get(i);if(r)return r;const o=Ra(i);if(o===0)return i;const l=new Proxy(i,o===2?s:e);return n.set(i,l),l}function ni(i){return hi(i)?ni(i.__v_raw):!!(i&&i.__v_isReactive)}function hi(i){return!!(i&&i.__v_isReadonly)}function ps(i){return!!(i&&i.__v_isShallow)}function zl(i){return ni(i)||hi(i)}function Q(i){const t=i&&i.__v_raw;return t?Q(t):i}function Tl(i){return Object.isExtensible(i)&&fs(i,"__v_skip",!0),i}const Ti=i=>ft(i)?Di(i):i,er=i=>ft(i)?Ol(i):i;class Il{constructor(t,e,s,n){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yn(()=>t(this._value),()=>yi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=Q(this);return(!t._cacheable||t.effect.dirty)&&Se(t._value,t._value=t.effect.run())&&yi(t,4),Rl(t),t.effect._dirtyLevel>=2&&yi(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function ka(i,t,e=!1){let s,n;const r=q(i);return r?(s=i,n=jt):(s=i.get,n=i.set),new Il(s,n,r||!n,e)}function Rl(i){var t;ye&&Le&&(i=Q(i),bl(Le,(t=i.dep)!=null?t:i.dep=_l(()=>i.dep=void 0,i instanceof Il?i:void 0)))}function yi(i,t=4,e){i=Q(i);const s=i.dep;s&&wl(s,t)}function St(i){return!!(i&&i.__v_isRef===!0)}function j(i){return kl(i,!1)}function Pl(i){return kl(i,!0)}function kl(i,t){return St(i)?i:new La(i,t)}class La{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Q(t),this._value=e?t:Ti(t)}get value(){return Rl(this),this._value}set value(t){const e=this.__v_isShallow||ps(t)||hi(t);t=e?t:Q(t),Se(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Ti(t),yi(this,4))}}function Br(i){yi(i,4)}function rt(i){return St(i)?i.value:i}const Na={get:(i,t,e)=>rt(Reflect.get(i,t,e)),set:(i,t,e,s)=>{const n=i[t];return St(n)&&!St(e)?(n.value=e,!0):Reflect.set(i,t,e,s)}};function Ll(i){return ni(i)?i:new Proxy(i,Na)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xe(i,t,e,s){try{return s?i(...s):i()}catch(n){Cs(n,t,e)}}function Yt(i,t,e,s){if(q(i)){const r=xe(i,t,e,s);return r&&al(r)&&r.catch(o=>{Cs(o,t,e)}),r}const n=[];for(let r=0;r<i.length;r++)n.push(Yt(i[r],t,e,s));return n}function Cs(i,t,e,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${e}`;for(;r;){const a=r.ec;if(a){for(let u=0;u<a.length;u++)if(a[u](i,o,l)===!1)return}r=r.parent}const h=t.appContext.config.errorHandler;if(h){xe(h,null,10,[i,o,l]);return}}$a(i,e,n,s)}function $a(i,t,e,s=!0){console.error(i)}let Ii=!1,zn=!1;const Mt=[];let ie=0;const ri=[];let me=null,Ie=0;const Nl=Promise.resolve();let ir=null;function we(i){const t=ir||Nl;return i?t.then(this?i.bind(this):i):t}function Aa(i){let t=ie+1,e=Mt.length;for(;t<e;){const s=t+e>>>1,n=Mt[s],r=Ri(n);r<i||r===i&&n.pre?t=s+1:e=s}return t}function sr(i){(!Mt.length||!Mt.includes(i,Ii&&i.allowRecurse?ie+1:ie))&&(i.id==null?Mt.push(i):Mt.splice(Aa(i.id),0,i),$l())}function $l(){!Ii&&!zn&&(zn=!0,ir=Nl.then(Dl))}function Da(i){const t=Mt.indexOf(i);t>ie&&Mt.splice(t,1)}function Ba(i){K(i)?ri.push(...i):(!me||!me.includes(i,i.allowRecurse?Ie+1:Ie))&&ri.push(i),$l()}function Fr(i,t,e=Ii?ie+1:0){for(;e<Mt.length;e++){const s=Mt[e];if(s&&s.pre){if(i&&s.id!==i.uid)continue;Mt.splice(e,1),e--,s()}}}function Al(i){if(ri.length){const t=[...new Set(ri)].sort((e,s)=>Ri(e)-Ri(s));if(ri.length=0,me){me.push(...t);return}for(me=t,Ie=0;Ie<me.length;Ie++)me[Ie]();me=null,Ie=0}}const Ri=i=>i.id==null?1/0:i.id,Fa=(i,t)=>{const e=Ri(i)-Ri(t);if(e===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return e};function Dl(i){zn=!1,Ii=!0,Mt.sort(Fa);try{for(ie=0;ie<Mt.length;ie++){const t=Mt[ie];t&&t.active!==!1&&xe(t,null,14)}}finally{ie=0,Mt.length=0,Al(),Ii=!1,ir=null,(Mt.length||ri.length)&&Dl()}}function Va(i,t,...e){if(i.isUnmounted)return;const s=i.vnode.props||ut;let n=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:f}=s[u]||ut;f&&(n=e.map(d=>gt(d)?d.trim():d)),c&&(n=e.map(ia))}let l,h=s[l=Us(t)]||s[l=Us(li(t))];!h&&r&&(h=s[l=Us(di(t))]),h&&Yt(h,i,6,n);const a=s[l+"Once"];if(a){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,Yt(a,i,6,n)}}function Bl(i,t,e=!1){const s=t.emitsCache,n=s.get(i);if(n!==void 0)return n;const r=i.emits;let o={},l=!1;if(!q(i)){const h=a=>{const u=Bl(a,t,!0);u&&(l=!0,xt(o,u))};!e&&t.mixins.length&&t.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}return!r&&!l?(ft(i)&&s.set(i,null),null):(K(r)?r.forEach(h=>o[h]=null):xt(o,r),ft(i)&&s.set(i,o),o)}function Es(i,t){return!i||!ys(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(i,t[0].toLowerCase()+t.slice(1))||et(i,di(t))||et(i,t))}let ne=null,Fl=null;function vs(i){const t=ne;return ne=i,Fl=i&&i.type.__scopeId||null,t}function se(i,t=ne,e){if(!t||i._n)return i;const s=(...n)=>{s._d&&Qr(-1);const r=vs(t);let o;try{o=i(...n)}finally{vs(r),s._d&&Qr(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function qs(i){const{type:t,vnode:e,proxy:s,withProxy:n,props:r,propsOptions:[o],slots:l,attrs:h,emit:a,render:u,renderCache:c,data:f,setupState:d,ctx:m,inheritAttrs:v}=i;let _,b;const w=vs(i);try{if(e.shapeFlag&4){const y=n||s,L=y;_=ee(u.call(L,y,c,r,d,f,m)),b=h}else{const y=t;_=ee(y.length>1?y(r,{attrs:h,slots:l,emit:a}):y(r,null)),b=t.props?h:Wa(h)}}catch(y){Mi.length=0,Cs(y,i,1),_=dt(Ae)}let E=_;if(b&&v!==!1){const y=Object.keys(b),{shapeFlag:L}=E;y.length&&L&7&&(o&&y.some(Un)&&(b=ja(b,o)),E=Me(E,b))}return e.dirs&&(E=Me(E),E.dirs=E.dirs?E.dirs.concat(e.dirs):e.dirs),e.transition&&(E.transition=e.transition),_=E,vs(w),_}const Wa=i=>{let t;for(const e in i)(e==="class"||e==="style"||ys(e))&&((t||(t={}))[e]=i[e]);return t},ja=(i,t)=>{const e={};for(const s in i)(!Un(s)||!(s.slice(9)in t))&&(e[s]=i[s]);return e};function Ha(i,t,e){const{props:s,children:n,component:r}=i,{props:o,children:l,patchFlag:h}=t,a=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return s?Vr(s,o,a):!!o;if(h&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const f=u[c];if(o[f]!==s[f]&&!Es(a,f))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Vr(s,o,a):!0:!!o;return!1}function Vr(i,t,e){const s=Object.keys(t);if(s.length!==Object.keys(i).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==i[r]&&!Es(e,r))return!0}return!1}function Ua({vnode:i,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===i&&(s.el=i.el),s===i)(i=t.vnode).el=e,t=t.parent;else break}}const Ka=Symbol.for("v-ndc"),Za=i=>i.__isSuspense;function qa(i,t){t&&t.pendingBranch?K(i)?t.effects.push(...i):t.effects.push(i):Ba(i)}const Ya=Symbol.for("v-scx"),Qa=()=>Et(Ya);function Ft(i,t){return nr(i,null,t)}const Yi={};function ct(i,t,e){return nr(i,t,e)}function nr(i,t,{immediate:e,deep:s,flush:n,once:r,onTrack:o,onTrigger:l}=ut){if(t&&r){const P=t;t=(...F)=>{P(...F),L()}}const h=zt,a=P=>s===!0?P:Je(P,s===!1?1:void 0);let u,c=!1,f=!1;if(St(i)?(u=()=>i.value,c=ps(i)):ni(i)?(u=()=>a(i),c=!0):K(i)?(f=!0,c=i.some(P=>ni(P)||ps(P)),u=()=>i.map(P=>{if(St(P))return P.value;if(ni(P))return a(P);if(q(P))return xe(P,h,2)})):q(i)?t?u=()=>xe(i,h,2):u=()=>(d&&d(),Yt(i,h,3,[m])):u=jt,t&&s){const P=u;u=()=>Je(P())}let d,m=P=>{d=E.onStop=()=>{xe(P,h,4),d=E.onStop=void 0}},v;if(Is)if(m=jt,t?e&&Yt(t,h,3,[u(),f?[]:void 0,m]):u(),n==="sync"){const P=Qa();v=P.__watcherHandles||(P.__watcherHandles=[])}else return jt;let _=f?new Array(i.length).fill(Yi):Yi;const b=()=>{if(!(!E.active||!E.dirty))if(t){const P=E.run();(s||c||(f?P.some((F,C)=>Se(F,_[C])):Se(P,_)))&&(d&&d(),Yt(t,h,3,[P,_===Yi?void 0:f&&_[0]===Yi?[]:_,m]),_=P)}else E.run()};b.allowRecurse=!!t;let w;n==="sync"?w=b:n==="post"?w=()=>Pt(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),w=()=>sr(b));const E=new Yn(u,jt,w),y=ca(),L=()=>{E.stop(),y&&Kn(y.effects,E)};return t?e?b():_=E.run():n==="post"?Pt(E.run.bind(E),h&&h.suspense):E.run(),v&&v.push(L),L}function Xa(i,t,e){const s=this.proxy,n=gt(i)?i.includes(".")?Vl(s,i):()=>s[i]:i.bind(s,s);let r;q(t)?r=t:(r=t.handler,e=t);const o=Bi(this),l=nr(n,r.bind(s),e);return o(),l}function Vl(i,t){const e=t.split(".");return()=>{let s=i;for(let n=0;n<e.length&&s;n++)s=s[e[n]];return s}}function Je(i,t,e=0,s){if(!ft(i)||i.__v_skip)return i;if(t&&t>0){if(e>=t)return i;e++}if(s=s||new Set,s.has(i))return i;if(s.add(i),St(i))Je(i.value,t,e,s);else if(K(i))for(let n=0;n<i.length;n++)Je(i[n],t,e,s);else if(hl(i)||si(i))i.forEach(n=>{Je(n,t,e,s)});else if(cl(i))for(const n in i)Je(i[n],t,e,s);return i}function Ee(i,t,e,s){const n=i.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let h=l.dir[s];h&&(je(),Yt(h,e,8,[i.el,l,i,t]),He())}}/*! #__NO_SIDE_EFFECTS__ */function mt(i,t){return q(i)?xt({name:i.name},t,{setup:i}):i}const hs=i=>!!i.type.__asyncLoader,Wl=i=>i.type.__isKeepAlive;function Ga(i,t){jl(i,"a",t)}function Ja(i,t){jl(i,"da",t)}function jl(i,t,e=zt){const s=i.__wdc||(i.__wdc=()=>{let n=e;for(;n;){if(n.isDeactivated)return;n=n.parent}return i()});if(Os(t,s,e),e){let n=e.parent;for(;n&&n.parent;)Wl(n.parent.vnode)&&tu(s,t,e,n),n=n.parent}}function tu(i,t,e,s){const n=Os(t,i,s,!0);Ue(()=>{Kn(s[t],n)},e)}function Os(i,t,e=zt,s=!1){if(e){const n=e[i]||(e[i]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;je();const l=Bi(e),h=Yt(t,e,i,o);return l(),He(),h});return s?n.unshift(r):n.push(r),r}}const de=i=>(t,e=zt)=>(!Is||i==="sp")&&Os(i,(...s)=>t(...s),e),eu=de("bm"),Tt=de("m"),iu=de("bu"),su=de("u"),nu=de("bum"),Ue=de("um"),ru=de("sp"),ou=de("rtg"),lu=de("rtc");function hu(i,t=zt){Os("ec",i,t)}function Hl(i,t,e,s){let n;const r=e&&e[s];if(K(i)||gt(i)){n=new Array(i.length);for(let o=0,l=i.length;o<l;o++)n[o]=t(i[o],o,void 0,r&&r[o])}else if(typeof i=="number"){n=new Array(i);for(let o=0;o<i;o++)n[o]=t(o+1,o,void 0,r&&r[o])}else if(ft(i))if(i[Symbol.iterator])n=Array.from(i,(o,l)=>t(o,l,void 0,r&&r[l]));else{const o=Object.keys(i);n=new Array(o.length);for(let l=0,h=o.length;l<h;l++){const a=o[l];n[l]=t(i[a],a,l,r&&r[l])}}else n=[];return e&&(e[s]=n),n}const Tn=i=>i?sh(i)?hr(i)||i.proxy:Tn(i.parent):null,xi=xt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Tn(i.parent),$root:i=>Tn(i.root),$emit:i=>i.emit,$options:i=>rr(i),$forceUpdate:i=>i.f||(i.f=()=>{i.effect.dirty=!0,sr(i.update)}),$nextTick:i=>i.n||(i.n=we.bind(i.proxy)),$watch:i=>Xa.bind(i)}),Ys=(i,t)=>i!==ut&&!i.__isScriptSetup&&et(i,t),au={get({_:i},t){const{ctx:e,setupState:s,data:n,props:r,accessCache:o,type:l,appContext:h}=i;let a;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return s[t];case 2:return n[t];case 4:return e[t];case 3:return r[t]}else{if(Ys(s,t))return o[t]=1,s[t];if(n!==ut&&et(n,t))return o[t]=2,n[t];if((a=i.propsOptions[0])&&et(a,t))return o[t]=3,r[t];if(e!==ut&&et(e,t))return o[t]=4,e[t];In&&(o[t]=0)}}const u=xi[t];let c,f;if(u)return t==="$attrs"&&Nt(i,"get",t),u(i);if((c=l.__cssModules)&&(c=c[t]))return c;if(e!==ut&&et(e,t))return o[t]=4,e[t];if(f=h.config.globalProperties,et(f,t))return f[t]},set({_:i},t,e){const{data:s,setupState:n,ctx:r}=i;return Ys(n,t)?(n[t]=e,!0):s!==ut&&et(s,t)?(s[t]=e,!0):et(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(r[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:s,appContext:n,propsOptions:r}},o){let l;return!!e[o]||i!==ut&&et(i,o)||Ys(t,o)||(l=r[0])&&et(l,o)||et(s,o)||et(xi,o)||et(n.config.globalProperties,o)},defineProperty(i,t,e){return e.get!=null?i._.accessCache[t]=0:et(e,"value")&&this.set(i,t,e.value,null),Reflect.defineProperty(i,t,e)}};function Wr(i){return K(i)?i.reduce((t,e)=>(t[e]=null,t),{}):i}let In=!0;function uu(i){const t=rr(i),e=i.proxy,s=i.ctx;In=!1,t.beforeCreate&&jr(t.beforeCreate,i,"bc");const{data:n,computed:r,methods:o,watch:l,provide:h,inject:a,created:u,beforeMount:c,mounted:f,beforeUpdate:d,updated:m,activated:v,deactivated:_,beforeDestroy:b,beforeUnmount:w,destroyed:E,unmounted:y,render:L,renderTracked:P,renderTriggered:F,errorCaptured:C,serverPrefetch:it,expose:I,inheritAttrs:A,components:Z,directives:W,filters:tt}=t;if(a&&cu(a,s,null),o)for(const st in o){const Y=o[st];q(Y)&&(s[st]=Y.bind(e))}if(n){const st=n.call(e,e);ft(st)&&(i.data=Di(st))}if(In=!0,r)for(const st in r){const Y=r[st],Rt=q(Y)?Y.bind(e,e):q(Y.get)?Y.get.bind(e,e):jt,he=!q(Y)&&q(Y.set)?Y.set.bind(e):jt,Vt=D({get:Rt,set:he});Object.defineProperty(s,st,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:$t=>Vt.value=$t})}if(l)for(const st in l)Ul(l[st],s,e,st);if(h){const st=q(h)?h.call(e):h;Reflect.ownKeys(st).forEach(Y=>{le(Y,st[Y])})}u&&jr(u,i,"c");function X(st,Y){K(Y)?Y.forEach(Rt=>st(Rt.bind(e))):Y&&st(Y.bind(e))}if(X(eu,c),X(Tt,f),X(iu,d),X(su,m),X(Ga,v),X(Ja,_),X(hu,C),X(lu,P),X(ou,F),X(nu,w),X(Ue,y),X(ru,it),K(I))if(I.length){const st=i.exposed||(i.exposed={});I.forEach(Y=>{Object.defineProperty(st,Y,{get:()=>e[Y],set:Rt=>e[Y]=Rt})})}else i.exposed||(i.exposed={});L&&i.render===jt&&(i.render=L),A!=null&&(i.inheritAttrs=A),Z&&(i.components=Z),W&&(i.directives=W)}function cu(i,t,e=jt){K(i)&&(i=Rn(i));for(const s in i){const n=i[s];let r;ft(n)?"default"in n?r=Et(n.from||s,n.default,!0):r=Et(n.from||s):r=Et(n),St(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function jr(i,t,e){Yt(K(i)?i.map(s=>s.bind(t.proxy)):i.bind(t.proxy),t,e)}function Ul(i,t,e,s){const n=s.includes(".")?Vl(e,s):()=>e[s];if(gt(i)){const r=t[i];q(r)&&ct(n,r)}else if(q(i))ct(n,i.bind(e));else if(ft(i))if(K(i))i.forEach(r=>Ul(r,t,e,s));else{const r=q(i.handler)?i.handler.bind(e):t[i.handler];q(r)&&ct(n,r,i)}}function rr(i){const t=i.type,{mixins:e,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,l=r.get(t);let h;return l?h=l:!n.length&&!e&&!s?h=t:(h={},n.length&&n.forEach(a=>ms(h,a,o,!0)),ms(h,t,o)),ft(t)&&r.set(t,h),h}function ms(i,t,e,s=!1){const{mixins:n,extends:r}=t;r&&ms(i,r,e,!0),n&&n.forEach(o=>ms(i,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const l=fu[o]||e&&e[o];i[o]=l?l(i[o],t[o]):t[o]}return i}const fu={data:Hr,props:Ur,emits:Ur,methods:bi,computed:bi,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:bi,directives:bi,watch:pu,provide:Hr,inject:du};function Hr(i,t){return t?i?function(){return xt(q(i)?i.call(this,this):i,q(t)?t.call(this,this):t)}:t:i}function du(i,t){return bi(Rn(i),Rn(t))}function Rn(i){if(K(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function Ot(i,t){return i?[...new Set([].concat(i,t))]:t}function bi(i,t){return i?xt(Object.create(null),i,t):t}function Ur(i,t){return i?K(i)&&K(t)?[...new Set([...i,...t])]:xt(Object.create(null),Wr(i),Wr(t??{})):t}function pu(i,t){if(!i)return t;if(!t)return i;const e=xt(Object.create(null),i);for(const s in t)e[s]=Ot(i[s],t[s]);return e}function Kl(){return{app:null,config:{isNativeTag:Xh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vu=0;function mu(i,t){return function(s,n=null){q(s)||(s=xt({},s)),n!=null&&!ft(n)&&(n=null);const r=Kl(),o=new WeakSet;let l=!1;const h=r.app={_uid:vu++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Bu,get config(){return r.config},set config(a){},use(a,...u){return o.has(a)||(a&&q(a.install)?(o.add(a),a.install(h,...u)):q(a)&&(o.add(a),a(h,...u))),h},mixin(a){return r.mixins.includes(a)||r.mixins.push(a),h},component(a,u){return u?(r.components[a]=u,h):r.components[a]},directive(a,u){return u?(r.directives[a]=u,h):r.directives[a]},mount(a,u,c){if(!l){const f=dt(s,n);return f.appContext=r,c===!0?c="svg":c===!1&&(c=void 0),u&&t?t(f,a):i(f,a,c),l=!0,h._container=a,a.__vue_app__=h,hr(f.component)||f.component.proxy}},unmount(){l&&(i(null,h._container),delete h._container.__vue_app__)},provide(a,u){return r.provides[a]=u,h},runWithContext(a){const u=Si;Si=h;try{return a()}finally{Si=u}}};return h}}let Si=null;function le(i,t){if(zt){let e=zt.provides;const s=zt.parent&&zt.parent.provides;s===e&&(e=zt.provides=Object.create(s)),e[i]=t}}function Et(i,t,e=!1){const s=zt||ne;if(s||Si){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Si._context.provides;if(n&&i in n)return n[i];if(arguments.length>1)return e&&q(t)?t.call(s&&s.proxy):t}}function gu(i,t,e,s=!1){const n={},r={};fs(r,Ts,1),i.propsDefaults=Object.create(null),Zl(i,t,n,r);for(const o in i.propsOptions[0])o in n||(n[o]=void 0);e?i.props=s?n:Pa(n):i.type.props?i.props=n:i.props=r,i.attrs=r}function bu(i,t,e,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=i,l=Q(n),[h]=i.propsOptions;let a=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let c=0;c<u.length;c++){let f=u[c];if(Es(i.emitsOptions,f))continue;const d=t[f];if(h)if(et(r,f))d!==r[f]&&(r[f]=d,a=!0);else{const m=li(f);n[m]=Pn(h,l,m,d,i,!1)}else d!==r[f]&&(r[f]=d,a=!0)}}}else{Zl(i,t,n,r)&&(a=!0);let u;for(const c in l)(!t||!et(t,c)&&((u=di(c))===c||!et(t,u)))&&(h?e&&(e[c]!==void 0||e[u]!==void 0)&&(n[c]=Pn(h,l,c,void 0,i,!0)):delete n[c]);if(r!==l)for(const c in r)(!t||!et(t,c))&&(delete r[c],a=!0)}a&&fe(i,"set","$attrs")}function Zl(i,t,e,s){const[n,r]=i.propsOptions;let o=!1,l;if(t)for(let h in t){if(_i(h))continue;const a=t[h];let u;n&&et(n,u=li(h))?!r||!r.includes(u)?e[u]=a:(l||(l={}))[u]=a:Es(i.emitsOptions,h)||(!(h in s)||a!==s[h])&&(s[h]=a,o=!0)}if(r){const h=Q(e),a=l||ut;for(let u=0;u<r.length;u++){const c=r[u];e[c]=Pn(n,h,c,a[c],i,!et(a,c))}}return o}function Pn(i,t,e,s,n,r){const o=i[e];if(o!=null){const l=et(o,"default");if(l&&s===void 0){const h=o.default;if(o.type!==Function&&!o.skipFactory&&q(h)){const{propsDefaults:a}=n;if(e in a)s=a[e];else{const u=Bi(n);s=a[e]=h.call(null,t),u()}}else s=h}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===di(e))&&(s=!0))}return s}function ql(i,t,e=!1){const s=t.propsCache,n=s.get(i);if(n)return n;const r=i.props,o={},l=[];let h=!1;if(!q(i)){const u=c=>{h=!0;const[f,d]=ql(c,t,!0);xt(o,f),d&&l.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!r&&!h)return ft(i)&&s.set(i,ii),ii;if(K(r))for(let u=0;u<r.length;u++){const c=li(r[u]);Kr(c)&&(o[c]=ut)}else if(r)for(const u in r){const c=li(u);if(Kr(c)){const f=r[u],d=o[c]=K(f)||q(f)?{type:f}:xt({},f);if(d){const m=Yr(Boolean,d.type),v=Yr(String,d.type);d[0]=m>-1,d[1]=v<0||m<v,(m>-1||et(d,"default"))&&l.push(c)}}}const a=[o,l];return ft(i)&&s.set(i,a),a}function Kr(i){return i[0]!=="$"&&!_i(i)}function Zr(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function qr(i,t){return Zr(i)===Zr(t)}function Yr(i,t){return K(t)?t.findIndex(e=>qr(e,i)):q(t)&&qr(t,i)?0:-1}const Yl=i=>i[0]==="_"||i==="$stable",or=i=>K(i)?i.map(ee):[ee(i)],wu=(i,t,e)=>{if(t._n)return t;const s=se((...n)=>or(t(...n)),e);return s._c=!1,s},Ql=(i,t,e)=>{const s=i._ctx;for(const n in i){if(Yl(n))continue;const r=i[n];if(q(r))t[n]=wu(n,r,s);else if(r!=null){const o=or(r);t[n]=()=>o}}},Xl=(i,t)=>{const e=or(t);i.slots.default=()=>e},_u=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=Q(t),fs(t,"_",e)):Ql(t,i.slots={})}else i.slots={},t&&Xl(i,t);fs(i.slots,Ts,1)},yu=(i,t,e)=>{const{vnode:s,slots:n}=i;let r=!0,o=ut;if(s.shapeFlag&32){const l=t._;l?e&&l===1?r=!1:(xt(n,t),!e&&l===1&&delete n._):(r=!t.$stable,Ql(t,n)),o=t}else t&&(Xl(i,t),o={default:1});if(r)for(const l in n)!Yl(l)&&o[l]==null&&delete n[l]};function kn(i,t,e,s,n=!1){if(K(i)){i.forEach((f,d)=>kn(f,t&&(K(t)?t[d]:t),e,s,n));return}if(hs(s)&&!n)return;const r=s.shapeFlag&4?hr(s.component)||s.component.proxy:s.el,o=n?null:r,{i:l,r:h}=i,a=t&&t.r,u=l.refs===ut?l.refs={}:l.refs,c=l.setupState;if(a!=null&&a!==h&&(gt(a)?(u[a]=null,et(c,a)&&(c[a]=null)):St(a)&&(a.value=null)),q(h))xe(h,l,12,[o,u]);else{const f=gt(h),d=St(h);if(f||d){const m=()=>{if(i.f){const v=f?et(c,h)?c[h]:u[h]:h.value;n?K(v)&&Kn(v,r):K(v)?v.includes(r)||v.push(r):f?(u[h]=[r],et(c,h)&&(c[h]=u[h])):(h.value=[r],i.k&&(u[i.k]=h.value))}else f?(u[h]=o,et(c,h)&&(c[h]=o)):d&&(h.value=o,i.k&&(u[i.k]=o))};o?(m.id=-1,Pt(m,e)):m()}}}const Pt=qa;function xu(i){return Su(i)}function Su(i,t){const e=dl();e.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:l,createComment:h,setText:a,setElementText:u,parentNode:c,nextSibling:f,setScopeId:d=jt,insertStaticContent:m}=i,v=(p,g,x,S=null,M=null,R=null,N=void 0,T=null,k=!!g.dynamicChildren)=>{if(p===g)return;p&&!mi(p,g)&&(S=ji(p),$t(p,M,R,!0),p=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:O,ref:$,shapeFlag:V}=g;switch(O){case zs:_(p,g,x,S);break;case Ae:b(p,g,x,S);break;case Xs:p==null&&w(g,x,S,N);break;case yt:Z(p,g,x,S,M,R,N,T,k);break;default:V&1?L(p,g,x,S,M,R,N,T,k):V&6?W(p,g,x,S,M,R,N,T,k):(V&64||V&128)&&O.process(p,g,x,S,M,R,N,T,k,qe)}$!=null&&M&&kn($,p&&p.ref,R,g||p,!g)},_=(p,g,x,S)=>{if(p==null)s(g.el=l(g.children),x,S);else{const M=g.el=p.el;g.children!==p.children&&a(M,g.children)}},b=(p,g,x,S)=>{p==null?s(g.el=h(g.children||""),x,S):g.el=p.el},w=(p,g,x,S)=>{[p.el,p.anchor]=m(p.children,g,x,S,p.el,p.anchor)},E=({el:p,anchor:g},x,S)=>{let M;for(;p&&p!==g;)M=f(p),s(p,x,S),p=M;s(g,x,S)},y=({el:p,anchor:g})=>{let x;for(;p&&p!==g;)x=f(p),n(p),p=x;n(g)},L=(p,g,x,S,M,R,N,T,k)=>{g.type==="svg"?N="svg":g.type==="math"&&(N="mathml"),p==null?P(g,x,S,M,R,N,T,k):it(p,g,M,R,N,T,k)},P=(p,g,x,S,M,R,N,T)=>{let k,O;const{props:$,shapeFlag:V,transition:B,dirs:U}=p;if(k=p.el=o(p.type,R,$&&$.is,$),V&8?u(k,p.children):V&16&&C(p.children,k,null,S,M,Qs(p,R),N,T),U&&Ee(p,null,S,"created"),F(k,p,p.scopeId,N,S),$){for(const nt in $)nt!=="value"&&!_i(nt)&&r(k,nt,null,$[nt],R,p.children,S,M,ae);"value"in $&&r(k,"value",null,$.value,R),(O=$.onVnodeBeforeMount)&&Jt(O,S,p)}U&&Ee(p,null,S,"beforeMount");const G=Mu(M,B);G&&B.beforeEnter(k),s(k,g,x),((O=$&&$.onVnodeMounted)||G||U)&&Pt(()=>{O&&Jt(O,S,p),G&&B.enter(k),U&&Ee(p,null,S,"mounted")},M)},F=(p,g,x,S,M)=>{if(x&&d(p,x),S)for(let R=0;R<S.length;R++)d(p,S[R]);if(M){let R=M.subTree;if(g===R){const N=M.vnode;F(p,N,N.scopeId,N.slotScopeIds,M.parent)}}},C=(p,g,x,S,M,R,N,T,k=0)=>{for(let O=k;O<p.length;O++){const $=p[O]=T?ge(p[O]):ee(p[O]);v(null,$,g,x,S,M,R,N,T)}},it=(p,g,x,S,M,R,N)=>{const T=g.el=p.el;let{patchFlag:k,dynamicChildren:O,dirs:$}=g;k|=p.patchFlag&16;const V=p.props||ut,B=g.props||ut;let U;if(x&&Oe(x,!1),(U=B.onVnodeBeforeUpdate)&&Jt(U,x,g,p),$&&Ee(g,p,x,"beforeUpdate"),x&&Oe(x,!0),O?I(p.dynamicChildren,O,T,x,S,Qs(g,M),R):N||Y(p,g,T,null,x,S,Qs(g,M),R,!1),k>0){if(k&16)A(T,g,V,B,x,S,M);else if(k&2&&V.class!==B.class&&r(T,"class",null,B.class,M),k&4&&r(T,"style",V.style,B.style,M),k&8){const G=g.dynamicProps;for(let nt=0;nt<G.length;nt++){const at=G[nt],bt=V[at],Kt=B[at];(Kt!==bt||at==="value")&&r(T,at,bt,Kt,M,p.children,x,S,ae)}}k&1&&p.children!==g.children&&u(T,g.children)}else!N&&O==null&&A(T,g,V,B,x,S,M);((U=B.onVnodeUpdated)||$)&&Pt(()=>{U&&Jt(U,x,g,p),$&&Ee(g,p,x,"updated")},S)},I=(p,g,x,S,M,R,N)=>{for(let T=0;T<g.length;T++){const k=p[T],O=g[T],$=k.el&&(k.type===yt||!mi(k,O)||k.shapeFlag&70)?c(k.el):x;v(k,O,$,null,S,M,R,N,!0)}},A=(p,g,x,S,M,R,N)=>{if(x!==S){if(x!==ut)for(const T in x)!_i(T)&&!(T in S)&&r(p,T,x[T],null,N,g.children,M,R,ae);for(const T in S){if(_i(T))continue;const k=S[T],O=x[T];k!==O&&T!=="value"&&r(p,T,O,k,N,g.children,M,R,ae)}"value"in S&&r(p,"value",x.value,S.value,N)}},Z=(p,g,x,S,M,R,N,T,k)=>{const O=g.el=p?p.el:l(""),$=g.anchor=p?p.anchor:l("");let{patchFlag:V,dynamicChildren:B,slotScopeIds:U}=g;U&&(T=T?T.concat(U):U),p==null?(s(O,x,S),s($,x,S),C(g.children||[],x,$,M,R,N,T,k)):V>0&&V&64&&B&&p.dynamicChildren?(I(p.dynamicChildren,B,x,M,R,N,T),(g.key!=null||M&&g===M.subTree)&&Gl(p,g,!0)):Y(p,g,x,$,M,R,N,T,k)},W=(p,g,x,S,M,R,N,T,k)=>{g.slotScopeIds=T,p==null?g.shapeFlag&512?M.ctx.activate(g,x,S,N,k):tt(g,x,S,M,R,N,k):J(p,g,k)},tt=(p,g,x,S,M,R,N)=>{const T=p.component=ku(p,S,M);if(Wl(p)&&(T.ctx.renderer=qe),Lu(T),T.asyncDep){if(M&&M.registerDep(T,X),!p.el){const k=T.subTree=dt(Ae);b(null,k,g,x)}}else X(T,p,g,x,M,R,N)},J=(p,g,x)=>{const S=g.component=p.component;if(Ha(p,g,x))if(S.asyncDep&&!S.asyncResolved){st(S,g,x);return}else S.next=g,Da(S.update),S.effect.dirty=!0,S.update();else g.el=p.el,S.vnode=g},X=(p,g,x,S,M,R,N)=>{const T=()=>{if(p.isMounted){let{next:$,bu:V,u:B,parent:U,vnode:G}=p;{const Ye=Jl(p);if(Ye){$&&($.el=G.el,st(p,$,N)),Ye.asyncDep.then(()=>{p.isUnmounted||T()});return}}let nt=$,at;Oe(p,!1),$?($.el=G.el,st(p,$,N)):$=G,V&&Ks(V),(at=$.props&&$.props.onVnodeBeforeUpdate)&&Jt(at,U,$,G),Oe(p,!0);const bt=qs(p),Kt=p.subTree;p.subTree=bt,v(Kt,bt,c(Kt.el),ji(Kt),p,M,R),$.el=bt.el,nt===null&&Ua(p,bt.el),B&&Pt(B,M),(at=$.props&&$.props.onVnodeUpdated)&&Pt(()=>Jt(at,U,$,G),M)}else{let $;const{el:V,props:B}=g,{bm:U,m:G,parent:nt}=p,at=hs(g);if(Oe(p,!1),U&&Ks(U),!at&&($=B&&B.onVnodeBeforeMount)&&Jt($,nt,g),Oe(p,!0),V&&Hs){const bt=()=>{p.subTree=qs(p),Hs(V,p.subTree,p,M,null)};at?g.type.__asyncLoader().then(()=>!p.isUnmounted&&bt()):bt()}else{const bt=p.subTree=qs(p);v(null,bt,x,S,p,M,R),g.el=bt.el}if(G&&Pt(G,M),!at&&($=B&&B.onVnodeMounted)){const bt=g;Pt(()=>Jt($,nt,bt),M)}(g.shapeFlag&256||nt&&hs(nt.vnode)&&nt.vnode.shapeFlag&256)&&p.a&&Pt(p.a,M),p.isMounted=!0,g=x=S=null}},k=p.effect=new Yn(T,jt,()=>sr(O),p.scope),O=p.update=()=>{k.dirty&&k.run()};O.id=p.uid,Oe(p,!0),O()},st=(p,g,x)=>{g.component=p;const S=p.vnode.props;p.vnode=g,p.next=null,bu(p,g.props,S,x),yu(p,g.children,x),je(),Fr(p),He()},Y=(p,g,x,S,M,R,N,T,k=!1)=>{const O=p&&p.children,$=p?p.shapeFlag:0,V=g.children,{patchFlag:B,shapeFlag:U}=g;if(B>0){if(B&128){he(O,V,x,S,M,R,N,T,k);return}else if(B&256){Rt(O,V,x,S,M,R,N,T,k);return}}U&8?($&16&&ae(O,M,R),V!==O&&u(x,V)):$&16?U&16?he(O,V,x,S,M,R,N,T,k):ae(O,M,R,!0):($&8&&u(x,""),U&16&&C(V,x,S,M,R,N,T,k))},Rt=(p,g,x,S,M,R,N,T,k)=>{p=p||ii,g=g||ii;const O=p.length,$=g.length,V=Math.min(O,$);let B;for(B=0;B<V;B++){const U=g[B]=k?ge(g[B]):ee(g[B]);v(p[B],U,x,null,M,R,N,T,k)}O>$?ae(p,M,R,!0,!1,V):C(g,x,S,M,R,N,T,k,V)},he=(p,g,x,S,M,R,N,T,k)=>{let O=0;const $=g.length;let V=p.length-1,B=$-1;for(;O<=V&&O<=B;){const U=p[O],G=g[O]=k?ge(g[O]):ee(g[O]);if(mi(U,G))v(U,G,x,null,M,R,N,T,k);else break;O++}for(;O<=V&&O<=B;){const U=p[V],G=g[B]=k?ge(g[B]):ee(g[B]);if(mi(U,G))v(U,G,x,null,M,R,N,T,k);else break;V--,B--}if(O>V){if(O<=B){const U=B+1,G=U<$?g[U].el:S;for(;O<=B;)v(null,g[O]=k?ge(g[O]):ee(g[O]),x,G,M,R,N,T,k),O++}}else if(O>B)for(;O<=V;)$t(p[O],M,R,!0),O++;else{const U=O,G=O,nt=new Map;for(O=G;O<=B;O++){const At=g[O]=k?ge(g[O]):ee(g[O]);At.key!=null&&nt.set(At.key,O)}let at,bt=0;const Kt=B-G+1;let Ye=!1,zr=0;const vi=new Array(Kt);for(O=0;O<Kt;O++)vi[O]=0;for(O=U;O<=V;O++){const At=p[O];if(bt>=Kt){$t(At,M,R,!0);continue}let Gt;if(At.key!=null)Gt=nt.get(At.key);else for(at=G;at<=B;at++)if(vi[at-G]===0&&mi(At,g[at])){Gt=at;break}Gt===void 0?$t(At,M,R,!0):(vi[Gt-G]=O+1,Gt>=zr?zr=Gt:Ye=!0,v(At,g[Gt],x,null,M,R,N,T,k),bt++)}const Tr=Ye?Cu(vi):ii;for(at=Tr.length-1,O=Kt-1;O>=0;O--){const At=G+O,Gt=g[At],Ir=At+1<$?g[At+1].el:S;vi[O]===0?v(null,Gt,x,Ir,M,R,N,T,k):Ye&&(at<0||O!==Tr[at]?Vt(Gt,x,Ir,2):at--)}}},Vt=(p,g,x,S,M=null)=>{const{el:R,type:N,transition:T,children:k,shapeFlag:O}=p;if(O&6){Vt(p.component.subTree,g,x,S);return}if(O&128){p.suspense.move(g,x,S);return}if(O&64){N.move(p,g,x,qe);return}if(N===yt){s(R,g,x);for(let V=0;V<k.length;V++)Vt(k[V],g,x,S);s(p.anchor,g,x);return}if(N===Xs){E(p,g,x);return}if(S!==2&&O&1&&T)if(S===0)T.beforeEnter(R),s(R,g,x),Pt(()=>T.enter(R),M);else{const{leave:V,delayLeave:B,afterLeave:U}=T,G=()=>s(R,g,x),nt=()=>{V(R,()=>{G(),U&&U()})};B?B(R,G,nt):nt()}else s(R,g,x)},$t=(p,g,x,S=!1,M=!1)=>{const{type:R,props:N,ref:T,children:k,dynamicChildren:O,shapeFlag:$,patchFlag:V,dirs:B}=p;if(T!=null&&kn(T,null,x,p,!0),$&256){g.ctx.deactivate(p);return}const U=$&1&&B,G=!hs(p);let nt;if(G&&(nt=N&&N.onVnodeBeforeUnmount)&&Jt(nt,g,p),$&6)Qh(p.component,x,S);else{if($&128){p.suspense.unmount(x,S);return}U&&Ee(p,null,g,"beforeUnmount"),$&64?p.type.remove(p,g,x,M,qe,S):O&&(R!==yt||V>0&&V&64)?ae(O,g,x,!1,!0):(R===yt&&V&384||!M&&$&16)&&ae(k,g,x),S&&Wi(p)}(G&&(nt=N&&N.onVnodeUnmounted)||U)&&Pt(()=>{nt&&Jt(nt,g,p),U&&Ee(p,null,g,"unmounted")},x)},Wi=p=>{const{type:g,el:x,anchor:S,transition:M}=p;if(g===yt){Vs(x,S);return}if(g===Xs){y(p);return}const R=()=>{n(x),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(p.shapeFlag&1&&M&&!M.persisted){const{leave:N,delayLeave:T}=M,k=()=>N(x,R);T?T(p.el,R,k):k()}else R()},Vs=(p,g)=>{let x;for(;p!==g;)x=f(p),n(p),p=x;n(g)},Qh=(p,g,x)=>{const{bum:S,scope:M,update:R,subTree:N,um:T}=p;S&&Ks(S),M.stop(),R&&(R.active=!1,$t(N,p,g,x)),T&&Pt(T,g),Pt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ae=(p,g,x,S=!1,M=!1,R=0)=>{for(let N=R;N<p.length;N++)$t(p[N],g,x,S,M)},ji=p=>p.shapeFlag&6?ji(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let Ws=!1;const Or=(p,g,x)=>{p==null?g._vnode&&$t(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,x),Ws||(Ws=!0,Fr(),Al(),Ws=!1),g._vnode=p},qe={p:v,um:$t,m:Vt,r:Wi,mt:tt,mc:C,pc:Y,pbc:I,n:ji,o:i};let js,Hs;return t&&([js,Hs]=t(qe)),{render:Or,hydrate:js,createApp:mu(Or,js)}}function Qs({type:i,props:t},e){return e==="svg"&&i==="foreignObject"||e==="mathml"&&i==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function Oe({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function Mu(i,t){return(!i||i&&!i.pendingBranch)&&t&&!t.persisted}function Gl(i,t,e=!1){const s=i.children,n=t.children;if(K(s)&&K(n))for(let r=0;r<s.length;r++){const o=s[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=ge(n[r]),l.el=o.el),e||Gl(o,l)),l.type===zs&&(l.el=o.el)}}function Cu(i){const t=i.slice(),e=[0];let s,n,r,o,l;const h=i.length;for(s=0;s<h;s++){const a=i[s];if(a!==0){if(n=e[e.length-1],i[n]<a){t[s]=n,e.push(s);continue}for(r=0,o=e.length-1;r<o;)l=r+o>>1,i[e[l]]<a?r=l+1:o=l;a<i[e[r]]&&(r>0&&(t[s]=e[r-1]),e[r]=s)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function Jl(i){const t=i.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Jl(t)}const Eu=i=>i.__isTeleport,yt=Symbol.for("v-fgt"),zs=Symbol.for("v-txt"),Ae=Symbol.for("v-cmt"),Xs=Symbol.for("v-stc"),Mi=[];let qt=null;function pt(i=!1){Mi.push(qt=i?null:[])}function Ou(){Mi.pop(),qt=Mi[Mi.length-1]||null}let Pi=1;function Qr(i){Pi+=i}function th(i){return i.dynamicChildren=Pi>0?qt||ii:null,Ou(),Pi>0&&qt&&qt.push(i),i}function kt(i,t,e,s,n,r){return th(lt(i,t,e,s,n,r,!0))}function De(i,t,e,s,n){return th(dt(i,t,e,s,n,!0))}function Ln(i){return i?i.__v_isVNode===!0:!1}function mi(i,t){return i.type===t.type&&i.key===t.key}const Ts="__vInternal",eh=({key:i})=>i??null,as=({ref:i,ref_key:t,ref_for:e})=>(typeof i=="number"&&(i=""+i),i!=null?gt(i)||St(i)||q(i)?{i:ne,r:i,k:t,f:!!e}:i:null);function lt(i,t=null,e=null,s=0,n=null,r=i===yt?0:1,o=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&eh(t),ref:t&&as(t),scopeId:Fl,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ne};return l?(lr(h,e),r&128&&i.normalize(h)):e&&(h.shapeFlag|=gt(e)?8:16),Pi>0&&!o&&qt&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&qt.push(h),h}const dt=zu;function zu(i,t=null,e=null,s=0,n=null,r=!1){if((!i||i===Ka)&&(i=Ae),Ln(i)){const l=Me(i,t,!0);return e&&lr(l,e),Pi>0&&!r&&qt&&(l.shapeFlag&6?qt[qt.indexOf(i)]=l:qt.push(l)),l.patchFlag|=-2,l}if(Du(i)&&(i=i.__vccOpts),t){t=Tu(t);let{class:l,style:h}=t;l&&!gt(l)&&(t.class=oe(l)),ft(h)&&(zl(h)&&!K(h)&&(h=xt({},h)),t.style=qn(h))}const o=gt(i)?1:Za(i)?128:Eu(i)?64:ft(i)?4:q(i)?2:0;return lt(i,t,e,s,n,o,r,!0)}function Tu(i){return i?zl(i)||Ts in i?xt({},i):i:null}function Me(i,t,e=!1){const{props:s,ref:n,patchFlag:r,children:o}=i,l=t?ih(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:l,key:l&&eh(l),ref:t&&t.ref?e&&n?K(n)?n.concat(as(t)):[n,as(t)]:as(t):n,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==yt?r===-1?16:r|16:r,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Me(i.ssContent),ssFallback:i.ssFallback&&Me(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function Iu(i=" ",t=0){return dt(zs,null,i,t)}function ke(i="",t=!1){return t?(pt(),De(Ae,null,i)):dt(Ae,null,i)}function ee(i){return i==null||typeof i=="boolean"?dt(Ae):K(i)?dt(yt,null,i.slice()):typeof i=="object"?ge(i):dt(zs,null,String(i))}function ge(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Me(i)}function lr(i,t){let e=0;const{shapeFlag:s}=i;if(t==null)t=null;else if(K(t))e=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),lr(i,n()),n._c&&(n._d=!0));return}else{e=32;const n=t._;!n&&!(Ts in t)?t._ctx=ne:n===3&&ne&&(ne.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:ne},e=32):(t=String(t),s&64?(e=16,t=[Iu(t)]):e=8);i.children=t,i.shapeFlag|=e}function ih(...i){const t={};for(let e=0;e<i.length;e++){const s=i[e];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=oe([t.class,s.class]));else if(n==="style")t.style=qn([t.style,s.style]);else if(ys(n)){const r=t[n],o=s[n];o&&r!==o&&!(K(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=s[n])}return t}function Jt(i,t,e,s=null){Yt(i,t,7,[e,s])}const Ru=Kl();let Pu=0;function ku(i,t,e){const s=i.type,n=(t?t.appContext:i.appContext)||Ru,r={uid:Pu++,vnode:i,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new aa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ql(s,n),emitsOptions:Bl(s,n),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Va.bind(null,r),i.ce&&i.ce(r),r}let zt=null,gs,Nn;{const i=dl(),t=(e,s)=>{let n;return(n=i[e])||(n=i[e]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};gs=t("__VUE_INSTANCE_SETTERS__",e=>zt=e),Nn=t("__VUE_SSR_SETTERS__",e=>Is=e)}const Bi=i=>{const t=zt;return gs(i),i.scope.on(),()=>{i.scope.off(),gs(t)}},Xr=()=>{zt&&zt.scope.off(),gs(null)};function sh(i){return i.vnode.shapeFlag&4}let Is=!1;function Lu(i,t=!1){t&&Nn(t);const{props:e,children:s}=i.vnode,n=sh(i);gu(i,e,n,t),_u(i,s);const r=n?Nu(i,t):void 0;return t&&Nn(!1),r}function Nu(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=Tl(new Proxy(i.ctx,au));const{setup:s}=e;if(s){const n=i.setupContext=s.length>1?Au(i):null,r=Bi(i);je();const o=xe(s,i,0,[i.props,n]);if(He(),r(),al(o)){if(o.then(Xr,Xr),t)return o.then(l=>{Gr(i,l,t)}).catch(l=>{Cs(l,i,0)});i.asyncDep=o}else Gr(i,o,t)}else nh(i,t)}function Gr(i,t,e){q(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:ft(t)&&(i.setupState=Ll(t)),nh(i,e)}let Jr;function nh(i,t,e){const s=i.type;if(!i.render){if(!t&&Jr&&!s.render){const n=s.template||rr(i).template;if(n){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:l,compilerOptions:h}=s,a=xt(xt({isCustomElement:r,delimiters:l},o),h);s.render=Jr(n,a)}}i.render=s.render||jt}{const n=Bi(i);je();try{uu(i)}finally{He(),n()}}}function $u(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(t,e){return Nt(i,"get","$attrs"),t[e]}}))}function Au(i){const t=e=>{i.exposed=e||{}};return{get attrs(){return $u(i)},slots:i.slots,emit:i.emit,expose:t}}function hr(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Ll(Tl(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in xi)return xi[e](i)},has(t,e){return e in t||e in xi}}))}function Du(i){return q(i)&&"__vccOpts"in i}const D=(i,t)=>ka(i,t,Is);function Ht(i,t,e){const s=arguments.length;return s===2?ft(t)&&!K(t)?Ln(t)?dt(i,null,[t]):dt(i,t):dt(i,null,t):(s>3?e=Array.prototype.slice.call(arguments,2):s===3&&Ln(e)&&(e=[e]),dt(i,t,e))}const Bu="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fu="http://www.w3.org/2000/svg",Vu="http://www.w3.org/1998/Math/MathML",be=typeof document<"u"?document:null,to=be&&be.createElement("template"),Wu={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,s)=>{const n=t==="svg"?be.createElementNS(Fu,i):t==="mathml"?be.createElementNS(Vu,i):be.createElement(i,e?{is:e}:void 0);return i==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:i=>be.createTextNode(i),createComment:i=>be.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>be.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,e,s,n,r){const o=e?e.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),e),!(n===r||!(n=n.nextSibling)););else{to.innerHTML=s==="svg"?`<svg>${i}</svg>`:s==="mathml"?`<math>${i}</math>`:i;const l=to.content;if(s==="svg"||s==="mathml"){const h=l.firstChild;for(;h.firstChild;)l.appendChild(h.firstChild);l.removeChild(h)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},ju=Symbol("_vtc");function Hu(i,t,e){const s=i[ju];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}const eo=Symbol("_vod"),Uu=Symbol("_vsh"),Ku=Symbol(""),Zu=/(^|;)\s*display\s*:/;function qu(i,t,e){const s=i.style,n=gt(e);let r=!1;if(e&&!n){if(t)if(gt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();e[l]==null&&us(s,l,"")}else for(const o in t)e[o]==null&&us(s,o,"");for(const o in e)o==="display"&&(r=!0),us(s,o,e[o])}else if(n){if(t!==e){const o=s[Ku];o&&(e+=";"+o),s.cssText=e,r=Zu.test(e)}}else t&&i.removeAttribute("style");eo in i&&(i[eo]=r?s.display:"",i[Uu]&&(s.display="none"))}const io=/\s*!important$/;function us(i,t,e){if(K(e))e.forEach(s=>us(i,t,s));else if(e==null&&(e=""),t.startsWith("--"))i.setProperty(t,e);else{const s=Yu(i,t);io.test(e)?i.setProperty(di(s),e.replace(io,""),"important"):i[s]=e}}const so=["Webkit","Moz","ms"],Gs={};function Yu(i,t){const e=Gs[t];if(e)return e;let s=li(t);if(s!=="filter"&&s in i)return Gs[t]=s;s=fl(s);for(let n=0;n<so.length;n++){const r=so[n]+s;if(r in i)return Gs[t]=r}return t}const no="http://www.w3.org/1999/xlink";function Qu(i,t,e,s,n){if(s&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(no,t.slice(6,t.length)):i.setAttributeNS(no,t,e);else{const r=ha(t);e==null||r&&!pl(e)?i.removeAttribute(t):i.setAttribute(t,r?"":e)}}function Xu(i,t,e,s,n,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,n,r),i[t]=e??"";return}const l=i.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const a=l==="OPTION"?i.getAttribute("value")||"":i.value,u=e??"";(a!==u||!("_value"in i))&&(i.value=u),e==null&&i.removeAttribute(t),i._value=e;return}let h=!1;if(e===""||e==null){const a=typeof i[t];a==="boolean"?e=pl(e):e==null&&a==="string"?(e="",h=!0):a==="number"&&(e=0,h=!0)}try{i[t]=e}catch{}h&&i.removeAttribute(t)}function Gu(i,t,e,s){i.addEventListener(t,e,s)}function Ju(i,t,e,s){i.removeEventListener(t,e,s)}const ro=Symbol("_vei");function tc(i,t,e,s,n=null){const r=i[ro]||(i[ro]={}),o=r[t];if(s&&o)o.value=s;else{const[l,h]=ec(t);if(s){const a=r[t]=nc(s,n);Gu(i,l,a,h)}else o&&(Ju(i,l,o,h),r[t]=void 0)}}const oo=/(?:Once|Passive|Capture)$/;function ec(i){let t;if(oo.test(i)){t={};let s;for(;s=i.match(oo);)i=i.slice(0,i.length-s[0].length),t[s[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):di(i.slice(2)),t]}let Js=0;const ic=Promise.resolve(),sc=()=>Js||(ic.then(()=>Js=0),Js=Date.now());function nc(i,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;Yt(rc(s,e.value),t,5,[s])};return e.value=i,e.attached=sc(),e}function rc(i,t){if(K(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const lo=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,oc=(i,t,e,s,n,r,o,l,h)=>{const a=n==="svg";t==="class"?Hu(i,s,a):t==="style"?qu(i,e,s):ys(t)?Un(t)||tc(i,t,e,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lc(i,t,s,a))?Xu(i,t,s,r,o,l,h):(t==="true-value"?i._trueValue=s:t==="false-value"&&(i._falseValue=s),Qu(i,t,s,a))};function lc(i,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in i&&lo(t)&&q(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=i.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return lo(t)&&gt(e)?!1:t in i}const hc=["ctrl","shift","alt","meta"],ac={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>hc.some(e=>i[`${e}Key`]&&!t.includes(e))},uc=(i,t)=>{const e=i._withMods||(i._withMods={}),s=t.join(".");return e[s]||(e[s]=(n,...r)=>{for(let o=0;o<t.length;o++){const l=ac[t[o]];if(l&&l(n,t))return}return i(n,...r)})},cc=xt({patchProp:oc},Wu);let ho;function fc(){return ho||(ho=xu(cc))}const dc=(...i)=>{const t=fc().createApp(...i),{mount:e}=t;return t.mount=s=>{const n=vc(s);if(!n)return;const r=t._component;!q(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=e(n,!1,pc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function pc(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function vc(i){return gt(i)?document.querySelector(i):i}function ht(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function $e(i,t){return i.width===t.width&&i.height===t.height}var mc=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(n){return n!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function gc(i){return new mc(i)}var bc=function(){function i(t,e,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=ht({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return ht({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=ht(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;$e(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=ht(this._transformBitmapSize(t,this._canvasElementClientSize)),n=$e(this.bitmapSize,s)?null:s;e===null&&n===null||e!==null&&n!==null&&$e(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}_c().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=ao(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=gc(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=ao(this._canvasElement);if(s!==null){var n=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?yc(r[0],n):ht({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],r=ht({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function wc(i,t){if(t.type==="device-pixel-content-box")return new bc(i,t.transform,t.options);throw new Error("Unsupported binding target")}function ao(i){return i.ownerDocument.defaultView}function _c(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function yc(i,t){return ht({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var xc=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function Be(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var n=i.canvasElement.getContext("2d",t);return n===null?null:new xc(n,e,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.1.3
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Sc={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Mc={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Cc={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Ec={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Oc={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},zc={color:"#26a69a",base:0},rh={color:"#2196f3"},oh={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var uo,co;function Fe(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function lh(i,t,e,s){i.beginPath();const n=i.lineWidth%2?.5:0;i.moveTo(e,t+n),i.lineTo(s,t+n),i.stroke()}function Ce(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function It(i){if(i===void 0)throw new Error("Value is undefined");return i}function z(i){if(i===null)throw new Error("Value is null");return i}function ti(i){return z(It(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(uo||(uo={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(co||(co={}));const fo={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Wt(i){return i<0?0:i>255?255:Math.round(i)||0}function hh(i){return i<=0||i>0?i<0?0:i>1?1:Math.round(1e4*i)/1e4:0}const Tc=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Ic=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Rc=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Pc=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function bs(i){(i=i.toLowerCase())in fo&&(i=fo[i]);{const t=Pc.exec(i)||Rc.exec(i);if(t)return[Wt(parseInt(t[1],10)),Wt(parseInt(t[2],10)),Wt(parseInt(t[3],10)),hh(t.length<5?1:parseFloat(t[4]))]}{const t=Ic.exec(i);if(t)return[Wt(parseInt(t[1],16)),Wt(parseInt(t[2],16)),Wt(parseInt(t[3],16)),1]}{const t=Tc.exec(i);if(t)return[Wt(17*parseInt(t[1],16)),Wt(17*parseInt(t[2],16)),Wt(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${i}`)}function Rs(i){const t=bs(i);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}let vt=class{constructor(){this.h=[]}l(t,e,s){const n={o:t,_:e,u:s===!0};this.h.push(n)}v(t){const e=this.h.findIndex(s=>t===s.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,s){const n=[...this.h];this.h=this.h.filter(r=>!r.u),n.forEach(r=>r.o(t,e,s))}M(){return this.h.length>0}S(){this.h=[]}};function Qt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Qt(i[s],e[s]));return i}function re(i){return typeof i=="number"&&isFinite(i)}function ki(i){return typeof i=="number"&&i%1==0}function Fi(i){return typeof i=="string"}function Qi(i){return typeof i=="boolean"}function ue(i){const t=i;if(!t||typeof t!="object")return t;let e,s,n;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(n=t[s],e[s]=n&&typeof n=="object"?ue(n):n);return e}function kc(i){return i!==null}function Li(i){return i===null?void 0:i}const ar="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ai(i,t,e){return t===void 0&&(t=ar),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}let Lc=class{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),s=this.H();return t.P===e&&t.D===s||(t.P=e,t.D=s,t.R=ai(e,s),t.L=2.5/12*e,t.V=t.L,t.B=e/12*t.T,t.I=e/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}},ur=class{constructor(){this.Y=[]}X(t){this.Y=t}K(t,e,s){this.Y.forEach(n=>{n.K(t,e,s)})}},Xt=class{K(t,e,s){t.useBitmapCoordinateSpace(n=>this.Z(n,e,s))}},Nc=class extends Xt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.G===null||this.G.tt===null)return;const n=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,l=h=>{t.beginPath();for(let a=n.to-1;a>=n.from;--a){const u=r.it[a],c=Math.round(u.nt*e)+o,f=u.st*s,d=h*s+o;t.moveTo(c,f),t.arc(c,f,d,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,l(r.ht+r.et)),t.fillStyle=r.lt,l(r.ht)}};function $c(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Ac={from:0,to:1};class Dc{constructor(t,e){this.ut=new ur,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.X(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map($c),this.ct=this.dt.map(s=>{const n=new Nc;return n.J(s),n}),this.ut.X(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),s=this.vt.xt(),n=this.F.St();e.forEach((r,o)=>{var l;const h=this.dt[o],a=r.kt(s);if(t||a===null||!r.yt())return void(h.tt=null);const u=z(r.Ct());h.lt=a.Tt,h.ht=a.ht,h.et=a.Pt,h.it[0]._t=a._t,h.it[0].st=r.Dt().Rt(a._t,u.Ot),h.rt=(l=a.At)!==null&&l!==void 0?l:this.F.Vt(h.it[0].st/r.Dt().Bt()),h.it[0].ot=s,h.it[0].nt=n.It(s),h.tt=Ac})}}class Bc extends Xt{constructor(t){super(),this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*s),h=Math.round(this.zt.st*n);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*s),t.strokeStyle=this.zt.Lt.O,t.fillStyle=this.zt.Lt.O,Fe(t,this.zt.Lt.Nt),function(a,u,c,f){a.beginPath();const d=a.lineWidth%2?.5:0;a.moveTo(u+d,c),a.lineTo(u+d,f),a.stroke()}(t,l,0,e.height)),o&&h>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*n),t.strokeStyle=this.zt.Et.O,t.fillStyle=this.zt.Et.O,Fe(t,this.zt.Et.Nt),lh(t,h,0,e.width))}}class Fc{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,O:"",yt:!1},Et:{et:1,Nt:0,O:"",yt:!1},nt:0,st:0},this.Wt=new Bc(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=z(this.jt.Ht()),s=e.$t().W().crosshair,n=this.Ft;if(s.mode===2)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=s.horzLine.width,n.Et.Nt=s.horzLine.style,n.Et.O=s.horzLine.color,n.Lt.et=s.vertLine.width,n.Lt.Nt=s.vertLine.style,n.Lt.O=s.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Xt()}}function Vc(i,t,e,s,n,r){i.fillRect(t+r,e,s-2*r,r),i.fillRect(t+r,e+n-r,s-2*r,r),i.fillRect(t,e,r,n),i.fillRect(t+s-r,e,r,n)}function Ps(i,t,e,s,n,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,s,n),i.restore()}function po(i,t){return i.map(e=>e===0?e:e+t)}function tn(i,t,e,s,n,r){i.beginPath(),i.lineTo(t+s-r[1],e),r[1]!==0&&i.arcTo(t+s,e,t+s,e+r[1],r[1]),i.lineTo(t+s,e+n-r[2]),r[2]!==0&&i.arcTo(t+s,e+n,t+s-r[2],e+n,r[2]),i.lineTo(t+r[3],e+n),r[3]!==0&&i.arcTo(t,e+n,t,e+n-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0])}function vo(i,t,e,s,n,r,o=0,l=[0,0,0,0],h=""){if(i.save(),!o||!h||h===r)return tn(i,t,e,s,n,l),i.fillStyle=r,i.fill(),void i.restore();const a=o/2;r!=="transparent"&&(tn(i,t+o,e+o,s-2*o,n-2*o,po(l,-o)),i.fillStyle=r,i.fill()),h!=="transparent"&&(tn(i,t+a,e+a,s-o,n-o,po(l,-a)),i.lineWidth=o,i.strokeStyle=h,i.closePath(),i.stroke()),i.restore()}function ah(i,t,e,s,n,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,s,n),i.restore()}class mo{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Kt=e}Bt(t,e){return this.zt.yt?t.P+t.L+t.V:0}K(t,e,s,n){if(!this.zt.yt||this.zt.Zt.length===0)return;const r=this.zt.O,o=this.Kt.t,l=t.useBitmapCoordinateSpace(h=>{const a=h.context;a.font=e.R;const u=this.Gt(h,e,s,n),c=u.Jt,f=(d,m)=>{u.Qt?vo(a,c.ti,c.ii,c.ni,c.si,d,c.ei,[c.ht,0,0,c.ht],m):vo(a,c.ri,c.ii,c.ni,c.si,d,c.ei,[0,c.ht,c.ht,0],m)};return f(o,"transparent"),this.zt.hi&&(a.fillStyle=r,a.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),f("transparent",o),this.zt._i&&(a.fillStyle=e.A,a.fillRect(u.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),u});t.useMediaCoordinateSpace(({context:h})=>{const a=l.di;h.font=e.R,h.textAlign=l.Qt?"right":"left",h.textBaseline="middle",h.fillStyle=r,h.fillText(this.zt.Zt,a.fi,(a.ii+a.ci)/2+a.vi)})}Gt(t,e,s,n){var r;const{context:o,bitmapSize:l,mediaSize:h,horizontalPixelRatio:a,verticalPixelRatio:u}=t,c=this.zt.hi||!this.zt.pi?e.T:0,f=this.zt.mi?e.C:0,d=e.L+this.Kt.bi,m=e.V+this.Kt.wi,v=e.B,_=e.I,b=this.zt.Zt,w=e.P,E=s.gi(o,b),y=Math.ceil(s.Mi(o,b)),L=w+d+m,P=e.C+v+_+y+c,F=Math.max(1,Math.floor(u));let C=Math.round(L*u);C%2!=F%2&&(C+=1);const it=f>0?Math.max(1,Math.floor(f*a)):0,I=Math.round(P*a),A=Math.round(c*a),Z=(r=this.Kt.xi)!==null&&r!==void 0?r:this.Kt.Si,W=Math.round(Z*u)-Math.floor(.5*u),tt=Math.floor(W+F/2-C/2),J=tt+C,X=n==="right",st=X?h.width-f:f,Y=X?l.width-it:it;let Rt,he,Vt;return X?(Rt=Y-I,he=Y-A,Vt=st-c-v-f):(Rt=Y+I,he=Y+A,Vt=st+c+v),{Qt:X,Jt:{ii:tt,li:W,ci:J,ni:I,si:C,ht:2*a,ei:it,ti:Rt,ri:Y,ai:he,oi:F,ui:l.width},di:{ii:tt/u,ci:J/u,fi:Vt,vi:E}}}}class ks{constructor(t){this.ki={Si:0,t:"#000",wi:0,bi:0},this.yi={Zt:"",yt:!1,hi:!0,pi:!1,At:"",O:"#FFF",_i:!1,mi:!1},this.Ci={Zt:"",yt:!1,hi:!1,pi:!0,At:"",O:"#FFF",_i:!0,mi:!0},this.ft=!0,this.Ti=new(t||mo)(this.yi,this.ki),this.Pi=new(t||mo)(this.Ci,this.ki)}Zt(){return this.Ri(),this.yi.Zt}Si(){return this.Ri(),this.ki.Si}bt(){this.ft=!0}Bt(t,e=!1){return Math.max(this.Ti.Bt(t,e),this.Pi.Bt(t,e))}Di(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Ri(),this.yi.yt||this.Ci.yt}Vi(){return this.Ri(),this.yi.yt}gt(t){return this.Ri(),this.yi.hi=this.yi.hi&&t.W().ticksVisible,this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Ti}Bi(){return this.Ri(),this.Ti.J(this.yi,this.ki),this.Pi.J(this.Ci,this.ki),this.Pi}Ri(){this.ft&&(this.yi.hi=!0,this.Ci.hi=!1,this.Ii(this.yi,this.Ci,this.ki))}}class Wc extends ks{constructor(t,e,s){super(),this.jt=t,this.zi=e,this.Li=s}Ii(t,e,s){if(t.yt=!1,this.jt.W().mode===2)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.zi.Ct();if(!this.jt.yt()||this.zi.Ei()||r===null)return;const o=Rs(n.labelBackgroundColor);s.t=o.t,t.O=o.i;const l=2/12*this.zi.P();s.bi=l,s.wi=l;const h=this.Li(this.zi);s.Si=h.Si,t.Zt=this.zi.Ni(h._t,r),t.yt=!0}}const jc=/[1-9]/g;class uh{constructor(){this.zt=null}J(t){this.zt=t}K(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Zt.length===0)return;const s=t.useMediaCoordinateSpace(({context:f})=>(f.font=e.R,Math.round(e.Fi.Mi(f,z(this.zt).Zt,jc))));if(s<=0)return;const n=e.Wi,r=s+2*n,o=r/2,l=this.zt.ji;let h=this.zt.Si,a=Math.floor(h-o)+.5;a<0?(h+=Math.abs(0-a),a=Math.floor(h-o)+.5):a+r>l&&(h-=Math.abs(l-(a+r)),a=Math.floor(h-o)+.5);const u=a+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.V);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:m})=>{const v=z(this.zt);f.fillStyle=v.t;const _=Math.round(a*d),b=Math.round(0*m),w=Math.round(u*d),E=Math.round(c*m),y=Math.round(2*d);if(f.beginPath(),f.moveTo(_,b),f.lineTo(_,E-y),f.arcTo(_,E,_+y,E,y),f.lineTo(w-y,E),f.arcTo(w,E,w,E-y,y),f.lineTo(w,b),f.fill(),v.hi){const L=Math.round(v.Si*d),P=b,F=Math.round((P+e.T)*m);f.fillStyle=v.O;const C=Math.max(1,Math.floor(d)),it=Math.floor(.5*d);f.fillRect(L-it,P,C,F-P)}}),t.useMediaCoordinateSpace(({context:f})=>{const d=z(this.zt),m=0+e.C+e.T+e.L+e.P/2;f.font=e.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=d.O;const v=e.Fi.gi(f,"Apr0");f.translate(a+n,m+v),f.fillText(d.Zt,0,0)})}}class Hc{constructor(t,e,s){this.ft=!0,this.Wt=new uh,this.Ft={yt:!1,t:"#4c525e",O:"white",Zt:"",ji:0,Si:NaN,hi:!0},this.vt=t,this.Hi=e,this.Li=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const s=this.Hi.St();if(s.Ei())return;t.ji=s.ji();const n=this.Li();if(n===null)return;t.Si=n.Si;const r=s.$i(this.vt.xt());t.Zt=s.Ui(z(r)),t.yt=!0;const o=Rs(e.labelBackgroundColor);t.t=o.t,t.O=o.i,t.hi=s.W().ticksVisible}}let cr=class{constructor(){this.qi=null,this.Yi=0}Xi(){return this.Yi}Ki(t){this.Yi=t}Dt(){return this.qi}Zi(t){this.qi=t}Gi(t){return[]}Ji(){return[]}yt(){return!0}};var go;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden"})(go||(go={}));let Uc=class extends cr{constructor(t,e){super(),this.Qi=null,this.tn=NaN,this.nn=0,this.sn=!0,this.en=new Map,this.rn=!1,this.hn=NaN,this.ln=NaN,this.an=NaN,this.on=NaN,this.Hi=t,this._n=e,this.un=new Dc(t,this),this.cn=((n,r)=>o=>{const l=r(),h=n();if(o===z(this.Qi).dn())return{_t:h,Si:l};{const a=z(o.Ct());return{_t:o.fn(l,a),Si:l}}})(()=>this.tn,()=>this.ln);const s=((n,r)=>()=>{const o=this.Hi.St().vn(n()),l=r();return o&&Number.isFinite(l)?{ot:o,Si:l}:null})(()=>this.nn,()=>this.Yt());this.pn=new Hc(this,t,s),this.mn=new Fc(this)}W(){return this._n}bn(t,e){this.an=t,this.on=e}wn(){this.an=NaN,this.on=NaN}gn(){return this.an}Mn(){return this.on}xn(t,e,s){this.rn||(this.rn=!0),this.sn=!0,this.Sn(t,e,s)}xt(){return this.nn}Yt(){return this.hn}Xt(){return this.ln}yt(){return this.sn}kn(){this.sn=!1,this.yn(),this.tn=NaN,this.hn=NaN,this.ln=NaN,this.Qi=null,this.wn()}Cn(t){return this.Qi!==null?[this.mn,this.un]:[]}Ut(t){return t===this.Qi&&this._n.horzLine.visible}qt(){return this._n.vertLine.visible}Tn(t,e){this.sn&&this.Qi===t||this.en.clear();const s=[];return this.Qi===t&&s.push(this.Pn(this.en,e,this.cn)),s}Ji(){return this.sn?[this.pn]:[]}Ht(){return this.Qi}Rn(){this.mn.bt(),this.en.forEach(t=>t.bt()),this.pn.bt(),this.un.bt()}Dn(t){return t&&!t.dn().Ei()?t.dn():null}Sn(t,e,s){this.On(t,e,s)&&this.Rn()}On(t,e,s){const n=this.hn,r=this.ln,o=this.tn,l=this.nn,h=this.Qi,a=this.Dn(s);this.nn=t,this.hn=isNaN(t)?NaN:this.Hi.St().It(t),this.Qi=s;const u=a!==null?a.Ct():null;return a!==null&&u!==null?(this.tn=e,this.ln=a.Rt(e,u)):(this.tn=NaN,this.ln=NaN),n!==this.hn||r!==this.ln||l!==this.nn||o!==this.tn||h!==this.Qi}yn(){const t=this.Hi.wt().map(s=>s.Vn().An()).filter(kc),e=t.length===0?null:Math.max(...t);this.nn=e!==null?e:NaN}Pn(t,e,s){let n=t.get(e);return n===void 0&&(n=new Wc(this,e,s),t.set(e,n)),n}};function Ls(i){return i==="left"||i==="right"}class wt{constructor(t){this.Bn=new Map,this.In=[],this.zn=t}Ln(t,e){const s=function(n,r){return n===void 0?r:{En:Math.max(n.En,r.En),Nn:n.Nn||r.Nn}}(this.Bn.get(t),e);this.Bn.set(t,s)}Fn(){return this.zn}Wn(t){const e=this.Bn.get(t);return e===void 0?{En:this.zn}:{En:Math.max(this.zn,e.En),Nn:e.Nn}}jn(){this.Hn(),this.In=[{$n:0}]}Un(t){this.Hn(),this.In=[{$n:1,Ot:t}]}qn(t){this.Yn(),this.In.push({$n:5,Ot:t})}Hn(){this.Yn(),this.In.push({$n:6})}Xn(){this.Hn(),this.In=[{$n:4}]}Kn(t){this.Hn(),this.In.push({$n:2,Ot:t})}Zn(t){this.Hn(),this.In.push({$n:3,Ot:t})}Gn(){return this.In}Jn(t){for(const e of t.In)this.Qn(e);this.zn=Math.max(this.zn,t.zn),t.Bn.forEach((e,s)=>{this.Ln(s,e)})}static ts(){return new wt(2)}static ns(){return new wt(3)}Qn(t){switch(t.$n){case 0:this.jn();break;case 1:this.Un(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Zn(t.Ot);break;case 4:this.Xn();break;case 5:this.qn(t.Ot);break;case 6:this.Yn()}}Yn(){const t=this.In.findIndex(e=>e.$n===5);t!==-1&&this.In.splice(t,1)}}const bo=".";function ce(i,t){if(!re(i))return"n/a";if(!ki(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class Ns{constructor(t,e){if(e||(e=1),re(t)&&ki(t)||(t=100),t<0)throw new TypeError("invalid base");this.zi=t,this.ss=e,this.es()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.rs(t)}es(){if(this.hs=0,this.zi>0&&this.ss>0){let t=this.zi;for(;t>1;)t/=10,this.hs++}}rs(t){const e=this.zi/this.ss;let s=Math.floor(t),n="";const r=this.hs!==void 0?this.hs:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.hs);o>=e&&(o-=e,s+=1),n=bo+ce(+o.toFixed(this.hs)*this.ss,r)}else s=Math.round(s*e)/e,r>0&&(n=bo+ce(0,r));return s.toFixed(0)+n}}class ch extends Ns{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class Kc{constructor(t){this.ls=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.os(t):t<999995?e+this.os(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.os(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.os(t/1e9)+"B")}os(t){let e;const s=Math.pow(10,this.ls);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.ls).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}function fh(i,t,e,s,n,r,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:l,horizontalPixelRatio:h,verticalPixelRatio:a}=i,u=t[s.from];let c=r(i,u),f=u;if(s.to-s.from<2){const d=n/2;l.beginPath();const m={nt:u.nt-d,st:u.st},v={nt:u.nt+d,st:u.st};l.moveTo(m.nt*h,m.st*a),l.lineTo(v.nt*h,v.st*a),o(i,c,m,v)}else{const d=(v,_)=>{o(i,c,f,_),l.beginPath(),c=v,f=_};let m=f;l.beginPath(),l.moveTo(u.nt*h,u.st*a);for(let v=s.from+1;v<s.to;++v){m=t[v];const _=r(i,m);switch(e){case 0:l.lineTo(m.nt*h,m.st*a);break;case 1:l.lineTo(m.nt*h,t[v-1].st*a),_!==c&&(d(_,m),l.lineTo(m.nt*h,t[v-1].st*a)),l.lineTo(m.nt*h,m.st*a);break;case 2:{const[b,w]=Zc(t,v-1,v);l.bezierCurveTo(b.nt*h,b.st*a,w.nt*h,w.st*a,m.nt*h,m.st*a);break}}e!==1&&_!==c&&(d(_,m),l.moveTo(m.nt*h,m.st*a))}(f!==m||f===m&&e===1)&&o(i,c,f,m)}}const wo=6;function en(i,t){return{nt:i.nt-t.nt,st:i.st-t.st}}function _o(i,t){return{nt:i.nt/t,st:i.st/t}}function Zc(i,t,e){const s=Math.max(0,t-1),n=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=_o(en(i[e],i[s]),wo),{nt:r.nt+o.nt,st:r.st+o.st}),en(i[e],_o(en(i[n],i[t]),wo))]}function qc(i,t,e,s,n){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(n.nt*o,i*l),r.lineTo(s.nt*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class dh extends Xt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){var e;if(this.G===null)return;const{it:s,tt:n,_s:r,et:o,Nt:l,us:h}=this.G,a=(e=this.G.cs)!==null&&e!==void 0?e:this.G.ds?0:t.mediaSize.height;if(n===null)return;const u=t.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,Fe(u,l),u.lineWidth=1,fh(t,s,h,n,r,this.fs.bind(this),qc.bind(null,a))}}function $n(i,t,e){return Math.min(Math.max(i,t),e)}function Xi(i,t,e){return t-i<=e}function ph(i){const t=Math.ceil(i);return t%2==0?t-1:t}class fr{vs(t,e){const s=this.ps,{bs:n,ws:r,gs:o,Ms:l,xs:h,cs:a}=e;if(this.Ss===void 0||s===void 0||s.bs!==n||s.ws!==r||s.gs!==o||s.Ms!==l||s.cs!==a||s.xs!==h){const u=t.context.createLinearGradient(0,0,0,h);if(u.addColorStop(0,n),a!=null){const c=$n(a*t.verticalPixelRatio/h,0,1);u.addColorStop(c,r),u.addColorStop(c,o)}u.addColorStop(1,l),this.Ss=u,this.ps=e}return this.Ss}}class Yc extends dh{constructor(){super(...arguments),this.ks=new fr}fs(t,e){return this.ks.vs(t,{bs:e.ys,ws:"",gs:"",Ms:e.Cs,xs:t.bitmapSize.height})}}function Qc(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class vh extends Xt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}Z(t){if(this.G===null)return;const{it:e,tt:s,_s:n,us:r,et:o,Nt:l,Ts:h}=this.G;if(s===null)return;const a=t.context;a.lineCap="butt",a.lineWidth=o*t.verticalPixelRatio,Fe(a,l),a.lineJoin="round";const u=this.Ps.bind(this);r!==void 0&&fh(t,e,r,s,n,u,Qc),h&&function(c,f,d,m,v){const{horizontalPixelRatio:_,verticalPixelRatio:b,context:w}=c;let E=null;const y=Math.max(1,Math.floor(_))%2/2,L=d*b+y;for(let P=m.to-1;P>=m.from;--P){const F=f[P];if(F){const C=v(c,F);C!==E&&(w.beginPath(),E!==null&&w.fill(),w.fillStyle=C,E=C);const it=Math.round(F.nt*_)+y,I=F.st*b;w.moveTo(it,I),w.arc(it,I,L,0,2*Math.PI)}}w.fill()}(t,e,h,s,u)}}class mh extends vh{Ps(t,e){return e.lt}}function gh(i,t,e,s,n=0,r=t.length){let o=r-n;for(;0<o;){const l=o>>1,h=n+l;s(t[h],e)===i?(n=h+1,o-=l+1):o=l}return n}const Vi=gh.bind(null,!0),bh=gh.bind(null,!1);function Xc(i,t){return i.ot<t}function Gc(i,t){return t<i.ot}function wh(i,t,e){const s=t.Rs(),n=t.ui(),r=Vi(i,s,Xc),o=bh(i,n,Gc);if(!e)return{from:r,to:o};let l=r,h=o;return r>0&&r<i.length&&i[r].ot>=s&&(l=r-1),o>0&&o<i.length&&i[o-1].ot<=n&&(h=o+1),{from:l,to:h}}class dr{constructor(t,e,s){this.Ds=!0,this.Os=!0,this.As=!0,this.Vs=[],this.Bs=null,this.Is=t,this.zs=e,this.Ls=s}bt(t){this.Ds=!0,t==="data"&&(this.Os=!0),t==="options"&&(this.As=!0)}gt(){return this.Is.yt()?(this.Es(),this.Bs===null?null:this.Ns):null}Fs(){this.Vs=this.Vs.map(t=>Object.assign(Object.assign({},t),this.Is.js().Ws(t.ot)))}Hs(){this.Bs=null}Es(){this.Os&&(this.$s(),this.Os=!1),this.As&&(this.Fs(),this.As=!1),this.Ds&&(this.Us(),this.Ds=!1)}Us(){const t=this.Is.Dt(),e=this.zs.St();if(this.Hs(),e.Ei()||t.Ei())return;const s=e.qs();if(s===null||this.Is.Vn().Ys()===0)return;const n=this.Is.Ct();n!==null&&(this.Bs=wh(this.Vs,s,this.Ls),this.Xs(t,e,n.Ot),this.Ks())}}class $s extends dr{constructor(t,e){super(t,e,!0)}Xs(t,e,s){e.Zs(this.Vs,Li(this.Bs)),t.Gs(this.Vs,s,Li(this.Bs))}Js(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>{const s=e.Ot[3];return this.te(e.ie,s,t)})}}class Jc extends $s{constructor(t,e){super(t,e),this.Ns=new ur,this.ne=new Yc,this.se=new mh,this.Ns.X([this.ne,this.se])}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.W();this.ne.J({us:t.lineType,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,cs:null,ds:t.invertFilledArea,tt:this.Bs,_s:this.zs.St().ee()}),this.se.J({us:t.lineVisible?t.lineType:void 0,it:this.Vs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Bs,_s:this.zs.St().ee(),Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class tf extends Xt{constructor(){super(...arguments),this.zt=null,this.re=0,this.he=0}J(t){this.zt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.Vn.length===0||this.zt.tt===null)return;this.re=this.le(e),this.re>=2&&Math.max(1,Math.floor(e))%2!=this.re%2&&this.re--,this.he=this.zt.ae?Math.min(this.re,Math.floor(e)):this.re;let n=null;const r=this.he<=this.re&&this.zt.ee>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.Vn[o];n!==l.oe&&(t.fillStyle=l.oe,n=l.oe);const h=Math.floor(.5*this.he),a=Math.round(l.nt*e),u=a-h,c=this.he,f=u+c-1,d=Math.min(l._e,l.ue),m=Math.max(l._e,l.ue),v=Math.round(d*s)-h,_=Math.round(m*s)+h,b=Math.max(_-v,this.he);t.fillRect(u,v,c,b);const w=Math.ceil(1.5*this.re);if(r){if(this.zt.ce){const P=a-w;let F=Math.max(v,Math.round(l.de*s)-h),C=F+c-1;C>v+b-1&&(C=v+b-1,F=C-c+1),t.fillRect(P,F,u-P,C-F+1)}const E=a+w;let y=Math.max(v,Math.round(l.fe*s)-h),L=y+c-1;L>v+b-1&&(L=v+b-1,y=L-c+1),t.fillRect(f+1,y,E-f,L-y+1)}}}le(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,n){return Math.floor(.3*s*n)}(z(this.zt).ee,t)))}}class _h extends dr{constructor(t,e){super(t,e,!1)}Xs(t,e,s){e.Zs(this.Vs,Li(this.Bs)),t.ve(this.Vs,s,Li(this.Bs))}pe(t,e,s){return{ot:t,me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3],nt:NaN,de:NaN,_e:NaN,ue:NaN,fe:NaN}}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>this.te(e.ie,e,t))}}class ef extends _h{constructor(){super(...arguments),this.Ns=new tf}te(t,e,s){return Object.assign(Object.assign({},this.pe(t,e,s)),s.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),ce:t.openVisible,ae:t.thinBars,tt:this.Bs})}}class sf extends dh{constructor(){super(...arguments),this.ks=new fr}fs(t,e){const s=this.G;return this.ks.vs(t,{bs:e.Me,ws:e.xe,gs:e.Se,Ms:e.ke,xs:t.bitmapSize.height,cs:s.cs})}}class nf extends vh{constructor(){super(...arguments),this.ye=new fr}Ps(t,e){const s=this.G;return this.ye.vs(t,{bs:e.Ce,ws:e.Ce,gs:e.Te,Ms:e.Te,xs:t.bitmapSize.height,cs:s.cs})}}class rf extends $s{constructor(t,e){super(t,e),this.Ns=new ur,this.Pe=new sf,this.Re=new nf,this.Ns.X([this.Pe,this.Re])}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.Ct();if(t===null)return;const e=this.Is.W(),s=this.Is.Dt().Rt(e.baseValue.price,t.Ot),n=this.zs.St().ee();this.Pe.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineType,cs:s,ds:!1,tt:this.Bs,_s:n}),this.Re.J({it:this.Vs,et:e.lineWidth,Nt:e.lineStyle,us:e.lineVisible?e.lineType:void 0,Ts:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,cs:s,tt:this.Bs,_s:n})}}class of extends Xt{constructor(){super(...arguments),this.zt=null,this.re=0}J(t){this.zt=t}Z(t){if(this.zt===null||this.zt.Vn.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.re=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),h=Math.floor(r*l*o),a=Math.floor(r*o),u=Math.min(h,a);return Math.max(Math.floor(o),u)}(this.zt.ee,e),this.re>=2&&Math.floor(e)%2!=this.re%2&&this.re--;const s=this.zt.Vn;this.zt.De&&this.Oe(t,s,this.zt.tt),this.zt._i&&this.Ae(t,s,this.zt.tt);const n=this.Ve(e);(!this.zt._i||this.re>2*n)&&this.Be(t,s,this.zt.tt)}Oe(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",h=Math.min(Math.floor(r),Math.floor(this.zt.ee*r));h=Math.max(Math.floor(r),Math.min(h,this.re));const a=Math.floor(.5*h);let u=null;for(let c=s.from;c<s.to;c++){const f=e[c];f.Ie!==l&&(n.fillStyle=f.Ie,l=f.Ie);const d=Math.round(Math.min(f.de,f.fe)*o),m=Math.round(Math.max(f.de,f.fe)*o),v=Math.round(f._e*o),_=Math.round(f.ue*o);let b=Math.round(r*f.nt)-a;const w=b+h-1;u!==null&&(b=Math.max(u+1,b),b=Math.min(b,w));const E=w-b+1;n.fillRect(b,v,E,d-v),n.fillRect(b,m+1,E,_-m),u=w}}Ve(t){let e=Math.floor(1*t);this.re<=2*e&&(e=Math.floor(.5*(this.re-1)));const s=Math.max(Math.floor(t),e);return this.re<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}Ae(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const h=this.Ve(r);let a=null;for(let u=s.from;u<s.to;u++){const c=e[u];c.ze!==l&&(n.fillStyle=c.ze,l=c.ze);let f=Math.round(c.nt*r)-Math.floor(.5*this.re);const d=f+this.re-1,m=Math.round(Math.min(c.de,c.fe)*o),v=Math.round(Math.max(c.de,c.fe)*o);if(a!==null&&(f=Math.max(a+1,f),f=Math.min(f,d)),this.zt.ee*r>2*h)Vc(n,f,m,d-f+1,v-m+1,h);else{const _=d-f+1;n.fillRect(f,m,_,v-m+1)}a=d}}Be(t,e,s){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const h=this.Ve(r);for(let a=s.from;a<s.to;a++){const u=e[a];let c=Math.round(Math.min(u.de,u.fe)*o),f=Math.round(Math.max(u.de,u.fe)*o),d=Math.round(u.nt*r)-Math.floor(.5*this.re),m=d+this.re-1;if(u.oe!==l){const v=u.oe;n.fillStyle=v,l=v}this.zt._i&&(d+=h,c+=h,m-=h,f-=h),c>f||n.fillRect(d,c,m-d+1,f-c+1)}}}class lf extends _h{constructor(){super(...arguments),this.Ns=new of}te(t,e,s){return Object.assign(Object.assign({},this.pe(t,e,s)),s.Ws(t))}Ks(){const t=this.Is.W();this.Ns.J({Vn:this.Vs,ee:this.zs.St().ee(),De:t.wickVisible,_i:t.borderVisible,tt:this.Bs})}}class hf{constructor(t,e){this.Le=t,this.zi=e}K(t,e,s){this.Le.draw(t,this.zi,e,s)}}class sn extends dr{constructor(t,e,s){super(t,e,!1),this.mn=s,this.Ns=new hf(this.mn.renderer(),n=>{const r=t.Ct();return r===null?null:t.Dt().Rt(n,r.Ot)})}Ee(t){return this.mn.priceValueBuilder(t)}Ne(t){return this.mn.isWhitespace(t)}$s(){const t=this.Is.js();this.Vs=this.Is.Vn().Qs().map(e=>Object.assign(Object.assign({ot:e.ie,nt:NaN},t.Ws(e.ie)),{Fe:e.We}))}Xs(t,e){e.Zs(this.Vs,Li(this.Bs))}Ks(){this.mn.update({bars:this.Vs.map(af),barSpacing:this.zs.St().ee(),visibleRange:this.Bs},this.Is.W())}}function af(i){return{x:i.nt,time:i.ot,originalData:i.Fe,barColor:i.oe}}class uf extends Xt{constructor(){super(...arguments),this.zt=null,this.je=[]}J(t){this.zt=t,this.je=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.je.length||this.He(e);const n=Math.max(1,Math.floor(s)),r=Math.round(this.zt.$e*s)-Math.floor(n/2),o=r+n;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const h=this.zt.it[l],a=this.je[l-this.zt.tt.from],u=Math.round(h.st*s);let c,f;t.fillStyle=h.oe,u<=r?(c=u,f=o):(c=r,f=u-Math.floor(n/2)+n),t.fillRect(a.Rs,c,a.ui-a.Rs+1,f-c)}}He(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.je=[]);const e=Math.ceil(this.zt.ee*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.zt.ee*t)-e;this.je=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*t);let h,a;if(s%2){const u=(s-1)/2;h=l-u,a=l+u}else{const u=s/2;h=l-u,a=l+u-1}this.je[r-this.zt.tt.from]={Rs:h,ui:a,Ue:l,qe:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from],l=this.je[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Rs-l.ui!==e+1&&(l.Ue>l.qe?l.ui=o.Rs-e-1:o.Rs=l.ui+e+1)}let n=Math.ceil(this.zt.ee*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from];o.ui<o.Rs&&(o.ui=o.Rs);const l=o.ui-o.Rs+1;n=Math.min(l,n)}if(e>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.je[r-this.zt.tt.from];o.ui-o.Rs+1>n&&(o.Ue>o.qe?o.ui-=1:o.Rs+=1)}}}class cf extends $s{constructor(){super(...arguments),this.Ns=new uf}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t={it:this.Vs,ee:this.zs.St().ee(),tt:this.Bs,$e:this.Is.Dt().Rt(this.Is.W().base,z(this.Is.Ct()).Ot)};this.Ns.J(t)}}class ff extends $s{constructor(){super(...arguments),this.Ns=new mh}te(t,e,s){return Object.assign(Object.assign({},this.Js(t,e)),s.Ws(t))}Ks(){const t=this.Is.W(),e={it:this.Vs,Nt:t.lineStyle,us:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ts:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Bs,_s:this.zs.St().ee()};this.Ns.J(e)}}const df=/[2-9]/g;class Ni{constructor(t=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ze={},this.Ge=new Map,this.Je=t}Qe(){this.Ye=0,this.Ge.clear(),this.Xe=1,this.Ke=1,this.Ze={}}Mi(t,e,s){return this.tr(t,e,s).width}gi(t,e,s){const n=this.tr(t,e,s);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}tr(t,e,s){const n=s||df,r=String(e).replace(n,"0");if(this.Ge.has(r))return It(this.Ge.get(r)).ir;if(this.Ye===this.Je){const l=this.Ze[this.Ke];delete this.Ze[this.Ke],this.Ge.delete(l),this.Ke++,this.Ye--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Ge.set(r,{ir:o,nr:this.Xe}),this.Ze[this.Xe]=r,this.Ye++,this.Xe++),o}}class pf{constructor(t){this.sr=null,this.k=null,this.er="right",this.rr=t}hr(t,e,s){this.sr=t,this.k=e,this.er=s}K(t){this.k!==null&&this.sr!==null&&this.sr.K(t,this.k,this.rr,this.er)}}class yh{constructor(t,e,s){this.lr=t,this.rr=new Ni(50),this.ar=e,this.F=s,this.j=-1,this.Wt=new pf(this.rr)}gt(){const t=this.F._r(this.ar);if(t===null)return null;const e=t.ur(this.ar)?t.cr():this.ar.Dt();if(e===null)return null;const s=t.dr(e);if(s==="overlay")return null;const n=this.F.vr();return n.P!==this.j&&(this.j=n.P,this.rr.Qe()),this.Wt.hr(this.lr.Bi(),n,s),this.Wt}}class vf extends Xt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}pr(t,e){var s;if(!(!((s=this.zt)===null||s===void 0)&&s.yt))return null;const{st:n,et:r,mr:o}=this.zt;return e>=n-r-7&&e<=n+r+7?{br:this.zt,mr:o}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*n);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.O,t.lineWidth=Math.floor(this.zt.et*s),Fe(t,this.zt.Nt),lh(t,r,0,e.width))}}class pr{constructor(t){this.wr={st:0,O:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.gr=new vf,this.ft=!0,this.Is=t,this.zs=t.$t(),this.gr.J(this.wr)}bt(){this.ft=!0}gt(){return this.Is.yt()?(this.ft&&(this.Mr(),this.ft=!1),this.gr):null}}class mf extends pr{constructor(t){super(t)}Mr(){this.wr.yt=!1;const t=this.Is.Dt(),e=t.Sr().Sr;if(e!==2&&e!==3)return;const s=this.Is.W();if(!s.baseLineVisible||!this.Is.yt())return;const n=this.Is.Ct();n!==null&&(this.wr.yt=!0,this.wr.st=t.Rt(n.Ot,n.Ot),this.wr.O=s.baseLineColor,this.wr.et=s.baseLineWidth,this.wr.Nt=s.baseLineStyle)}}class gf extends Xt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}We(){return this.zt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const n=this.zt;if(n===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(n.qe.x*e)+o,h=n.qe.y*s;t.fillStyle=n.kr,t.beginPath();const a=Math.max(2,1.5*n.yr)*e;t.arc(l,h,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=n.Cr,t.beginPath(),t.arc(l,h,n.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=n.Tr,t.beginPath(),t.arc(l,h,n.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const bf=[{Pr:0,Rr:.25,Dr:4,Or:10,Ar:.25,Vr:0,Br:.4,Ir:.8},{Pr:.25,Rr:.525,Dr:10,Or:14,Ar:0,Vr:0,Br:.8,Ir:0},{Pr:.525,Rr:1,Dr:14,Or:14,Ar:0,Vr:0,Br:0,Ir:0}];function yo(i,t,e,s){return function(n,r){if(n==="transparent")return n;const o=bs(n),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(i,e+(s-e)*t)}function xo(i,t){const e=i%2600/2600;let s;for(const h of bf)if(e>=h.Pr&&e<=h.Rr){s=h;break}Ce(s!==void 0,"Last price animation internal logic error");const n=(e-s.Pr)/(s.Rr-s.Pr);return{Cr:yo(t,n,s.Ar,s.Vr),Tr:yo(t,n,s.Br,s.Ir),ht:(r=n,o=s.Dr,l=s.Or,o+(l-o)*r)};var r,o,l}class wf{constructor(t){this.Wt=new gf,this.ft=!0,this.zr=!0,this.Lr=performance.now(),this.Er=this.Lr-1,this.Nr=t}Fr(){this.Er=this.Lr-1,this.bt()}Wr(){if(this.bt(),this.Nr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Er-t;if(e>0)return void(e<650&&(this.Er+=2600));this.Lr=t,this.Er=t+2600}}bt(){this.ft=!0}jr(){this.zr=!0}yt(){return this.Nr.W().lastPriceAnimation!==0}Hr(){switch(this.Nr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Er}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.zr=!1):this.zr&&(this.$r(),this.zr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Nr.$t().St(),e=t.qs(),s=this.Nr.Ct();if(e===null||s===null)return;const n=this.Nr.Ur(!0);if(n.qr||!e.Yr(n.ie))return;const r={x:t.It(n.ie),y:this.Nr.Dt().Rt(n._t,s.Ot)},o=n.O,l=this.Nr.W().lineWidth,h=xo(this.Xr(),o);this.Wt.J({kr:o,yr:l,Cr:h.Cr,Tr:h.Tr,ht:h.ht,qe:r})}$r(){const t=this.Wt.We();if(t!==null){const e=xo(this.Xr(),t.kr);t.Cr=e.Cr,t.Tr=e.Tr,t.ht=e.ht}}Xr(){return this.Hr()?performance.now()-this.Lr:2599}}function Ci(i,t){return ph(Math.min(Math.max(i,12),30)*t)}function $i(i,t){switch(i){case"arrowDown":case"arrowUp":return Ci(t,1);case"circle":return Ci(t,.8);case"square":return Ci(t,.7)}}function xh(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Ci(i,1))}function So(i){return Math.max(Ci(i,.1),3)}function Sh(i,t,e,s,n){const r=$i("square",e),o=(r-1)/2,l=i-o,h=t-o;return s>=l&&s<=l+r&&n>=h&&n<=h+r}function Mo(i,t,e,s){const n=($i("arrowUp",s)-1)/2*e.Kr,r=(ph(s/2)-1)/2*e.Kr;t.beginPath(),i?(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st-n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+n),t.lineTo(e.nt-r,e.st+n),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-n,e.st),t.lineTo(e.nt,e.st+n),t.lineTo(e.nt+n,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-n),t.lineTo(e.nt-r,e.st-n),t.lineTo(e.nt-r,e.st)),t.fill()}function _f(i,t,e,s,n,r){return Sh(t,e,s,n,r)}class yf extends Xt{constructor(){super(...arguments),this.zt=null,this.rr=new Ni,this.j=-1,this.H="",this.Zr=""}J(t){this.zt=t}hr(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Zr=ai(t,e),this.rr.Qe())}pr(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const n=this.zt.it[s];if(Sf(n,t,e))return{br:n.Gr,mr:n.mr}}return null}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s},n,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Zr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Zt!==void 0&&(l.Zt.ji=this.rr.Mi(t,l.Zt.Jr),l.Zt.Bt=this.j,l.Zt.nt=l.nt-l.Zt.ji/2),xf(l,t,e,s)}}}}function xf(i,t,e,s){t.fillStyle=i.O,i.Zt!==void 0&&function(n,r,o,l,h,a){n.save(),n.scale(h,a),n.fillText(r,o,l),n.restore()}(t,i.Zt.Jr,i.Zt.nt,i.Zt.st,e,s),function(n,r,o){if(n.Ys!==0){switch(n.Qr){case"arrowDown":return void Mo(!1,r,o,n.Ys);case"arrowUp":return void Mo(!0,r,o,n.Ys);case"circle":return void function(l,h,a){const u=($i("circle",a)-1)/2;l.beginPath(),l.arc(h.nt,h.st,u*h.Kr,0,2*Math.PI,!1),l.fill()}(r,o,n.Ys);case"square":return void function(l,h,a){const u=$i("square",a),c=(u-1)*h.Kr/2,f=h.nt-c,d=h.st-c;l.fillRect(f,d,u*h.Kr,u*h.Kr)}(r,o,n.Ys)}n.Qr}}(i,t,function(n,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(n.nt*r)+l,st:n.st*o,Kr:r}}(i,e,s))}function Sf(i,t,e){return!(i.Zt===void 0||!function(s,n,r,o,l,h){const a=o/2;return l>=s&&l<=s+r&&h>=n-a&&h<=n+a}(i.Zt.nt,i.Zt.st,i.Zt.ji,i.Zt.Bt,t,e))||function(s,n,r){if(s.Ys===0)return!1;switch(s.Qr){case"arrowDown":case"arrowUp":return _f(0,s.nt,s.st,s.Ys,n,r);case"circle":return function(o,l,h,a,u){const c=2+$i("circle",h)/2,f=o-a,d=l-u;return Math.sqrt(f*f+d*d)<=c}(s.nt,s.st,s.Ys,n,r);case"square":return Sh(s.nt,s.st,s.Ys,n,r)}}(i,t,e)}function Mf(i,t,e,s,n,r,o,l,h){const a=re(e)?e:e.ge,u=re(e)?e:e.be,c=re(e)?e:e.we,f=re(t.size)?Math.max(t.size,0):1,d=xh(l.ee())*f,m=d/2;switch(i.Ys=d,t.position){case"inBar":return i.st=o.Rt(a,h),void(i.Zt!==void 0&&(i.Zt.st=i.st+m+r+.6*n));case"aboveBar":return i.st=o.Rt(u,h)-m-s.th,i.Zt!==void 0&&(i.Zt.st=i.st-m-.6*n,s.th+=1.2*n),void(s.th+=d+r);case"belowBar":return i.st=o.Rt(c,h)+m+s.ih,i.Zt!==void 0&&(i.Zt.st=i.st+m+r+.6*n,s.ih+=1.2*n),void(s.ih+=d+r)}t.position}class Cf{constructor(t,e){this.ft=!0,this.nh=!0,this.sh=!0,this.eh=null,this.Wt=new yf,this.Nr=t,this.Hi=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.sh=!0,t==="data"&&(this.nh=!0)}gt(t){if(!this.Nr.yt())return null;this.ft&&this.rh();const e=this.Hi.W().layout;return this.Wt.hr(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}hh(){if(this.sh){if(this.Nr.lh().length>0){const t=this.Hi.St().ee(),e=So(t),s=1.5*xh(t)+2*e;this.eh={above:s,below:s}}else this.eh=null;this.sh=!1}return this.eh}rh(){const t=this.Nr.Dt(),e=this.Hi.St(),s=this.Nr.lh();this.nh&&(this.zt.it=s.map(u=>({ot:u.time,nt:0,st:0,Ys:0,Qr:u.shape,O:u.color,Gr:u.Gr,mr:u.id,Zt:void 0})),this.nh=!1);const n=this.Hi.W().layout;this.zt.tt=null;const r=e.qs();if(r===null)return;const o=this.Nr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const h=So(e.ee()),a={th:h,ih:h};this.zt.tt=wh(this.zt.it,r,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const c=s[u];c.time!==l&&(a.th=h,a.ih=h,l=c.time);const f=this.zt.it[u];f.nt=e.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Zt={Jr:c.text,nt:0,st:0,ji:0,Bt:0});const d=this.Nr.ah(c.time);d!==null&&Mf(f,c,d,a,n.fontSize,h,t,e,o.Ot)}this.ft=!1}}class Ef extends pr{constructor(t){super(t)}Mr(){const t=this.wr;t.yt=!1;const e=this.Is.W();if(!e.priceLineVisible||!this.Is.yt())return;const s=this.Is.Ur(e.priceLineSource===0);s.qr||(t.yt=!0,t.st=s.Si,t.O=this.Is.oh(s.O),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Of extends ks{constructor(t){super(),this.jt=t}Ii(t,e,s){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),o=r.lastValueVisible,l=n._h()!=="",h=r.seriesLastValueMode===0,a=n.Ur(!1);if(a.qr)return;o&&(t.Zt=this.uh(a,o,h),t.yt=t.Zt.length!==0),(l||h)&&(e.Zt=this.dh(a,o,l,h),e.yt=e.Zt.length>0);const u=n.oh(a.O),c=Rs(u);s.t=c.t,s.Si=a.Si,e.At=n.$t().Vt(a.Si/n.Dt().Bt()),t.At=u,t.O=c.i,e.O=c.i}dh(t,e,s,n){let r="";const o=this.jt._h();return s&&o.length!==0&&(r+=`${o} `),e&&n&&(r+=this.jt.Dt().fh()?t.ph:t.mh),r.trim()}uh(t,e,s){return e?s?this.jt.Dt().fh()?t.mh:t.ph:t.Zt:""}}function Co(i,t,e,s){const n=Number.isFinite(t),r=Number.isFinite(e);return n&&r?i(t,e):n||r?n?t:e:s}class Lt{constructor(t,e){this.bh=t,this.wh=e}gh(t){return t!==null&&this.bh===t.bh&&this.wh===t.wh}Mh(){return new Lt(this.bh,this.wh)}xh(){return this.bh}Sh(){return this.wh}kh(){return this.wh-this.bh}Ei(){return this.wh===this.bh||Number.isNaN(this.wh)||Number.isNaN(this.bh)}Jn(t){return t===null?this:new Lt(Co(Math.min,this.xh(),t.xh(),-1/0),Co(Math.max,this.Sh(),t.Sh(),1/0))}yh(t){if(!re(t)||this.wh-this.bh===0)return;const e=.5*(this.wh+this.bh);let s=this.wh-e,n=this.bh-e;s*=t,n*=t,this.wh=e+s,this.bh=e+n}Ch(t){re(t)&&(this.wh+=t,this.bh+=t)}Th(){return{minValue:this.bh,maxValue:this.wh}}static Ph(t){return t===null?null:new Lt(t.minValue,t.maxValue)}}class ws{constructor(t,e){this.Rh=t,this.Dh=e||null}Oh(){return this.Rh}Ah(){return this.Dh}Th(){return this.Rh===null?null:{priceRange:this.Rh.Th(),margins:this.Dh||void 0}}static Ph(t){return t===null?null:new ws(Lt.Ph(t.priceRange),t.margins)}}class zf extends pr{constructor(t,e){super(t),this.Vh=e}Mr(){const t=this.wr;t.yt=!1;const e=this.Vh.W();if(!this.Is.yt()||!e.lineVisible)return;const s=this.Vh.Bh();s!==null&&(t.yt=!0,t.st=s,t.O=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.mr=this.Vh.W().id)}}class Tf extends ks{constructor(t,e){super(),this.Nr=t,this.Vh=e}Ii(t,e,s){t.yt=!1,e.yt=!1;const n=this.Vh.W(),r=n.axisLabelVisible,o=n.title!=="",l=this.Nr;if(!r||!l.yt())return;const h=this.Vh.Bh();if(h===null)return;o&&(e.Zt=n.title,e.yt=!0),e.At=l.$t().Vt(h/l.Dt().Bt()),t.Zt=this.Ih(n.price),t.yt=!0;const a=Rs(n.axisLabelColor||n.color);s.t=a.t;const u=n.axisLabelTextColor||a.i;t.O=u,e.O=u,s.Si=h}Ih(t){const e=this.Nr.Ct();return e===null?"":this.Nr.Dt().Ni(t,e.Ot)}}class If{constructor(t,e){this.Nr=t,this._n=e,this.zh=new zf(t,this),this.lr=new Tf(t,this),this.Lh=new yh(this.lr,t,t.$t())}Eh(t){Qt(this._n,t),this.bt(),this.Nr.$t().Nh()}W(){return this._n}Fh(){return this.zh}Wh(){return this.Lh}jh(){return this.lr}bt(){this.zh.bt(),this.lr.bt()}Bh(){const t=this.Nr,e=t.Dt();if(t.$t().St().Ei()||e.Ei())return null;const s=t.Ct();return s===null?null:e.Rt(this._n.price,s.Ot)}}class Rf extends cr{constructor(t){super(),this.Hi=t}$t(){return this.Hi}}const Pf={Bar:(i,t,e,s)=>{var n;const r=t.upColor,o=t.downColor,l=z(i(e,s)),h=ti(l.Ot[0])<=ti(l.Ot[3]);return{oe:(n=l.O)!==null&&n!==void 0?n:h?r:o}},Candlestick:(i,t,e,s)=>{var n,r,o;const l=t.upColor,h=t.downColor,a=t.borderUpColor,u=t.borderDownColor,c=t.wickUpColor,f=t.wickDownColor,d=z(i(e,s)),m=ti(d.Ot[0])<=ti(d.Ot[3]);return{oe:(n=d.O)!==null&&n!==void 0?n:m?l:h,ze:(r=d.At)!==null&&r!==void 0?r:m?a:u,Ie:(o=d.Hh)!==null&&o!==void 0?o:m?c:f}},Custom:(i,t,e,s)=>{var n;return{oe:(n=z(i(e,s)).O)!==null&&n!==void 0?n:t.color}},Area:(i,t,e,s)=>{var n,r,o,l;const h=z(i(e,s));return{oe:(n=h.lt)!==null&&n!==void 0?n:t.lineColor,lt:(r=h.lt)!==null&&r!==void 0?r:t.lineColor,ys:(o=h.ys)!==null&&o!==void 0?o:t.topColor,Cs:(l=h.Cs)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(i,t,e,s)=>{var n,r,o,l,h,a;const u=z(i(e,s));return{oe:u.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Ce:(n=u.Ce)!==null&&n!==void 0?n:t.topLineColor,Te:(r=u.Te)!==null&&r!==void 0?r:t.bottomLineColor,Me:(o=u.Me)!==null&&o!==void 0?o:t.topFillColor1,xe:(l=u.xe)!==null&&l!==void 0?l:t.topFillColor2,Se:(h=u.Se)!==null&&h!==void 0?h:t.bottomFillColor1,ke:(a=u.ke)!==null&&a!==void 0?a:t.bottomFillColor2}},Line:(i,t,e,s)=>{var n,r;const o=z(i(e,s));return{oe:(n=o.O)!==null&&n!==void 0?n:t.color,lt:(r=o.O)!==null&&r!==void 0?r:t.color}},Histogram:(i,t,e,s)=>{var n;return{oe:(n=z(i(e,s)).O)!==null&&n!==void 0?n:t.color}}};class kf{constructor(t){this.$h=(e,s)=>s!==void 0?s.Ot:this.Nr.Vn().Uh(e),this.Nr=t,this.qh=Pf[t.Yh()]}Ws(t,e){return this.qh(this.$h,this.Nr.W(),t,e)}}var Eo;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(Eo||(Eo={}));const ve=30;class Lf{constructor(){this.Xh=[],this.Kh=new Map,this.Zh=new Map}Gh(){return this.Ys()>0?this.Xh[this.Xh.length-1]:null}Jh(){return this.Ys()>0?this.Qh(0):null}An(){return this.Ys()>0?this.Qh(this.Xh.length-1):null}Ys(){return this.Xh.length}Ei(){return this.Ys()===0}Yr(t){return this.tl(t,0)!==null}Uh(t){return this.il(t)}il(t,e=0){const s=this.tl(t,e);return s===null?null:Object.assign(Object.assign({},this.nl(s)),{ie:this.Qh(s)})}Qs(){return this.Xh}sl(t,e,s){if(this.Ei())return null;let n=null;for(const r of s)n=Gi(n,this.el(t,e,r));return n}J(t){this.Zh.clear(),this.Kh.clear(),this.Xh=t}Qh(t){return this.Xh[t].ie}nl(t){return this.Xh[t]}tl(t,e){const s=this.rl(t);if(s===null&&e!==0)switch(e){case-1:return this.hl(t);case 1:return this.ll(t);default:throw new TypeError("Unknown search mode")}return s}hl(t){let e=this.al(t);return e>0&&(e-=1),e!==this.Xh.length&&this.Qh(e)<t?e:null}ll(t){const e=this.ol(t);return e!==this.Xh.length&&t<this.Qh(e)?e:null}rl(t){const e=this.al(t);return e===this.Xh.length||t<this.Xh[e].ie?null:e}al(t){return Vi(this.Xh,t,(e,s)=>e.ie<s)}ol(t){return bh(this.Xh,t,(e,s)=>e.ie>s)}_l(t,e,s){let n=null;for(let r=t;r<e;r++){const o=this.Xh[r].Ot[s];Number.isNaN(o)||(n===null?n={ul:o,cl:o}:(o<n.ul&&(n.ul=o),o>n.cl&&(n.cl=o)))}return n}el(t,e,s){if(this.Ei())return null;let n=null;const r=z(this.Jh()),o=z(this.An()),l=Math.max(t,r),h=Math.min(e,o),a=Math.ceil(l/ve)*ve,u=Math.max(a,Math.floor(h/ve)*ve);{const f=this.al(l),d=this.ol(Math.min(h,a,e));n=Gi(n,this._l(f,d,s))}let c=this.Kh.get(s);c===void 0&&(c=new Map,this.Kh.set(s,c));for(let f=Math.max(a+1,l);f<u;f+=ve){const d=Math.floor(f/ve);let m=c.get(d);if(m===void 0){const v=this.al(d*ve),_=this.ol((d+1)*ve-1);m=this._l(v,_,s),c.set(d,m)}n=Gi(n,m)}{const f=this.al(u),d=this.ol(h);n=Gi(n,this._l(f,d,s))}return n}}function Gi(i,t){return i===null?t:t===null?i:{ul:Math.min(i.ul,t.ul),cl:Math.max(i.cl,t.cl)}}class Nf{constructor(t){this.dl=t}K(t,e,s){this.dl.draw(t)}fl(t,e,s){var n,r;(r=(n=this.dl).drawBackground)===null||r===void 0||r.call(n,t)}}class nn{constructor(t){this.Ge=null,this.mn=t}gt(){var t;const e=this.mn.renderer();if(e===null)return null;if(((t=this.Ge)===null||t===void 0?void 0:t.vl)===e)return this.Ge.pl;const s=new Nf(e);return this.Ge={vl:e,pl:s},s}ml(){var t,e,s;return(s=(e=(t=this.mn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:"normal"}}function Mh(i){var t,e,s,n,r;return{Zt:i.text(),Si:i.coordinate(),xi:(t=i.fixedCoordinate)===null||t===void 0?void 0:t.call(i),O:i.textColor(),t:i.backColor(),yt:(s=(e=i.visible)===null||e===void 0?void 0:e.call(i))===null||s===void 0||s,hi:(r=(n=i.tickVisible)===null||n===void 0?void 0:n.call(i))===null||r===void 0||r}}class $f{constructor(t,e){this.Wt=new uh,this.bl=t,this.wl=e}gt(){return this.Wt.J(Object.assign({ji:this.wl.ji()},Mh(this.bl))),this.Wt}}class Af extends ks{constructor(t,e){super(),this.bl=t,this.zi=e}Ii(t,e,s){const n=Mh(this.bl);s.t=n.t,t.O=n.O;const r=2/12*this.zi.P();s.bi=r,s.wi=r,s.Si=n.Si,s.xi=n.xi,t.Zt=n.Zt,t.yt=n.yt,t.hi=n.hi}}class Df{constructor(t,e){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=t,this.Nr=e}Cl(){return this.yl}Rn(){var t,e;(e=(t=this.yl).updateAllViews)===null||e===void 0||e.call(t)}Cn(){var t,e,s,n;const r=(s=(e=(t=this.yl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.gl)===null||n===void 0?void 0:n.vl)===r)return this.gl.pl;const o=r.map(l=>new nn(l));return this.gl={vl:r,pl:o},o}Ji(){var t,e,s,n;const r=(s=(e=(t=this.yl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Ml)===null||n===void 0?void 0:n.vl)===r)return this.Ml.pl;const o=this.Nr.$t().St(),l=r.map(h=>new $f(h,o));return this.Ml={vl:r,pl:l},l}Tn(){var t,e,s,n;const r=(s=(e=(t=this.yl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.xl)===null||n===void 0?void 0:n.vl)===r)return this.xl.pl;const o=this.Nr.Dt(),l=r.map(h=>new Af(h,o));return this.xl={vl:r,pl:l},l}Tl(){var t,e,s,n;const r=(s=(e=(t=this.yl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.Sl)===null||n===void 0?void 0:n.vl)===r)return this.Sl.pl;const o=r.map(l=>new nn(l));return this.Sl={vl:r,pl:o},o}Pl(){var t,e,s,n;const r=(s=(e=(t=this.yl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&s!==void 0?s:[];if(((n=this.kl)===null||n===void 0?void 0:n.vl)===r)return this.kl.pl;const o=r.map(l=>new nn(l));return this.kl={vl:r,pl:o},o}Rl(t,e){var s,n,r;return(r=(n=(s=this.yl).autoscaleInfo)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}pr(t,e){var s,n,r;return(r=(n=(s=this.yl).hitTest)===null||n===void 0?void 0:n.call(s,t,e))!==null&&r!==void 0?r:null}}function rn(i,t,e,s){i.forEach(n=>{t(n).forEach(r=>{r.ml()===e&&s.push(r)})})}function on(i){return i.Cn()}function Bf(i){return i.Tl()}function Ff(i){return i.Pl()}class vr extends Rf{constructor(t,e,s,n,r){super(t),this.zt=new Lf,this.zh=new Ef(this),this.Dl=[],this.Ol=new mf(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.Ll=[],this._n=e,this.El=s;const o=new Of(this);this.en=[o],this.Lh=new yh(o,this,t),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.Al=new wf(this)),this.Nl(),this.Fl(r)}S(){this.zl!==null&&clearTimeout(this.zl)}oh(t){return this._n.priceLineColor||t}Ur(t){const e={qr:!0},s=this.Dt();if(this.$t().St().Ei()||s.Ei()||this.zt.Ei())return e;const n=this.$t().St().qs(),r=this.Ct();if(n===null||r===null)return e;let o,l;if(t){const c=this.zt.Gh();if(c===null)return e;o=c,l=c.ie}else{const c=this.zt.il(n.ui(),-1);if(c===null||(o=this.zt.Uh(c.ie),o===null))return e;l=c.ie}const h=o.Ot[3],a=this.js().Ws(l,{Ot:o}),u=s.Rt(h,r.Ot);return{qr:!1,_t:h,Zt:s.Ni(h,r.Ot),ph:s.Wl(h),mh:s.jl(h,r.Ot),O:a.oe,Si:u,ie:l}}js(){return this.Vl!==null||(this.Vl=new kf(this)),this.Vl}W(){return this._n}Eh(t){const e=t.priceScaleId;e!==void 0&&e!==this._n.priceScaleId&&this.$t().Hl(this,e),Qt(this._n,t),t.priceFormat!==void 0&&(this.Nl(),this.$t().$l()),this.$t().Ul(this),this.$t().ql(),this.mn.bt("options")}J(t,e){this.zt.J(t),this.Yl(),this.mn.bt("data"),this.un.bt("data"),this.Al!==null&&(e&&e.Xl?this.Al.Wr():t.length===0&&this.Al.Fr());const s=this.$t()._r(this);this.$t().Kl(s),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Zl(t){this.Bl=t,this.Yl();const e=this.$t()._r(this);this.un.bt("data"),this.$t().Kl(e),this.$t().Ul(this),this.$t().ql(),this.$t().Nh()}Gl(){return this.Bl}lh(){return this.Il}Jl(t){const e=new If(this,t);return this.Dl.push(e),this.$t().Ul(this),e}Ql(t){const e=this.Dl.indexOf(t);e!==-1&&this.Dl.splice(e,1),this.$t().Ul(this)}Yh(){return this.El}Ct(){const t=this.ta();return t===null?null:{Ot:t.Ot[3],ia:t.ot}}ta(){const t=this.$t().St().qs();if(t===null)return null;const e=t.Rs();return this.zt.il(e,1)}Vn(){return this.zt}ah(t){const e=this.zt.Uh(t);return e===null?null:this.El==="Bar"||this.El==="Candlestick"||this.El==="Custom"?{me:e.Ot[0],be:e.Ot[1],we:e.Ot[2],ge:e.Ot[3]}:e.Ot[3]}na(t){const e=[];rn(this.Ll,on,"top",e);const s=this.Al;return s!==null&&s.yt()&&(this.zl===null&&s.Hr()&&(this.zl=setTimeout(()=>{this.zl=null,this.$t().sa()},0)),s.jr(),e.push(s)),e}Cn(){const t=[];this.ea()||t.push(this.Ol),t.push(this.mn,this.zh,this.un);const e=this.Dl.map(s=>s.Fh());return t.push(...e),rn(this.Ll,on,"normal",t),t}ra(){return this.ha(on,"bottom")}la(t){return this.ha(Bf,t)}aa(t){return this.ha(Ff,t)}oa(t,e){return this.Ll.map(s=>s.pr(t,e)).filter(s=>s!==null)}Gi(t){return[this.Lh,...this.Dl.map(e=>e.Wh())]}Tn(t,e){if(e!==this.qi&&!this.ea())return[];const s=[...this.en];for(const n of this.Dl)s.push(n.jh());return this.Ll.forEach(n=>{s.push(...n.Tn())}),s}Ji(){const t=[];return this.Ll.forEach(e=>{t.push(...e.Ji())}),t}Rl(t,e){if(this._n.autoscaleInfoProvider!==void 0){const s=this._n.autoscaleInfoProvider(()=>{const n=this._a(t,e);return n===null?null:n.Th()});return ws.Ph(s)}return this._a(t,e)}ua(){return this._n.priceFormat.minMove}ca(){return this.da}Rn(){var t;this.mn.bt(),this.un.bt();for(const e of this.en)e.bt();for(const e of this.Dl)e.bt();this.zh.bt(),this.Ol.bt(),(t=this.Al)===null||t===void 0||t.bt(),this.Ll.forEach(e=>e.Rn())}Dt(){return z(super.Dt())}kt(t){if(!((this.El==="Line"||this.El==="Area"||this.El==="Baseline")&&this._n.crosshairMarkerVisible))return null;const e=this.zt.Uh(t);return e===null?null:{_t:e.Ot[3],ht:this.fa(),At:this.va(),Pt:this.pa(),Tt:this.ma(t)}}_h(){return this._n.title}yt(){return this._n.visible}ba(t){this.Ll.push(new Df(t,this))}wa(t){this.Ll=this.Ll.filter(e=>e.Cl()!==t)}ga(){if(this.mn instanceof sn)return t=>this.mn.Ee(t)}Ma(){if(this.mn instanceof sn)return t=>this.mn.Ne(t)}ea(){return!Ls(this.Dt().xa())}_a(t,e){if(!ki(t)||!ki(e)||this.zt.Ei())return null;const s=this.El==="Line"||this.El==="Area"||this.El==="Baseline"||this.El==="Histogram"?[3]:[2,1],n=this.zt.sl(t,e,s);let r=n!==null?new Lt(n.ul,n.cl):null;if(this.Yh()==="Histogram"){const l=this._n.base,h=new Lt(l,l);r=r!==null?r.Jn(h):h}let o=this.un.hh();return this.Ll.forEach(l=>{const h=l.Rl(t,e);if(h!=null&&h.priceRange){const d=new Lt(h.priceRange.minValue,h.priceRange.maxValue);r=r!==null?r.Jn(d):d}var a,u,c,f;h!=null&&h.margins&&(a=o,u=h.margins,o={above:Math.max((c=a==null?void 0:a.above)!==null&&c!==void 0?c:0,u.above),below:Math.max((f=a==null?void 0:a.below)!==null&&f!==void 0?f:0,u.below)})}),new ws(r,o)}fa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerRadius}return 0}va(){switch(this.El){case"Line":case"Area":case"Baseline":{const t=this._n.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}pa(){switch(this.El){case"Line":case"Area":case"Baseline":return this._n.crosshairMarkerBorderWidth}return 0}ma(t){switch(this.El){case"Line":case"Area":case"Baseline":{const e=this._n.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.js().Ws(t).oe}Nl(){switch(this._n.priceFormat.type){case"custom":this.da={format:this._n.priceFormat.formatter};break;case"volume":this.da=new Kc(this._n.priceFormat.precision);break;case"percent":this.da=new ch(this._n.priceFormat.precision);break;default:{const t=Math.pow(10,this._n.priceFormat.precision);this.da=new Ns(t,this._n.priceFormat.minMove*t)}}this.qi!==null&&this.qi.Sa()}Yl(){const t=this.$t().St();if(!t.ka()||this.zt.Ei())return void(this.Il=[]);const e=z(this.zt.Jh());this.Il=this.Bl.map((s,n)=>{const r=z(t.ya(s.time,!0)),o=r<e?1:-1;return{time:z(this.zt.il(r,o)).ie,position:s.position,shape:s.shape,color:s.color,id:s.id,Gr:n,text:s.text,size:s.size,originalTime:s.originalTime}})}Fl(t){switch(this.un=new Cf(this,this.$t()),this.El){case"Bar":this.mn=new ef(this,this.$t());break;case"Candlestick":this.mn=new lf(this,this.$t());break;case"Line":this.mn=new ff(this,this.$t());break;case"Custom":this.mn=new sn(this,this.$t(),It(t));break;case"Area":this.mn=new Jc(this,this.$t());break;case"Baseline":this.mn=new rf(this,this.$t());break;case"Histogram":this.mn=new cf(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.El)}}ha(t,e){const s=[];return rn(this.Ll,t,e,s),s}}class Vf{constructor(t){this._n=t}Ca(t,e,s){let n=t;if(this._n.mode===0)return n;const r=s.dn(),o=r.Ct();if(o===null)return n;const l=r.Rt(t,o),h=s.Ta().filter(u=>u instanceof vr).reduce((u,c)=>{if(s.ur(c)||!c.yt())return u;const f=c.Dt(),d=c.Vn();if(f.Ei()||!d.Yr(e))return u;const m=d.Uh(e);if(m===null)return u;const v=ti(c.Ct());return u.concat([f.Rt(m.Ot[3],v.Ot)])},[]);if(h.length===0)return n;h.sort((u,c)=>Math.abs(u-l)-Math.abs(c-l));const a=h[0];return n=r.fn(a,o),n}}class Wf extends Xt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null)return;const r=Math.max(1,Math.floor(s));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=z(this.zt);if(o.Pa){t.strokeStyle=o.Ra,Fe(t,o.Da),t.beginPath();for(const l of o.Oa){const h=Math.round(l.Aa*s);t.moveTo(h,-r),t.lineTo(h,e.height+r)}t.stroke()}if(o.Va){t.strokeStyle=o.Ba,Fe(t,o.Ia),t.beginPath();for(const l of o.za){const h=Math.round(l.Aa*n);t.moveTo(-r,h),t.lineTo(e.width+r,h)}t.stroke()}})}}class jf{constructor(t){this.Wt=new Wf,this.ft=!0,this.Qi=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.Qi.$t().W().grid,e={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.Qi.dn().La(),Oa:(this.Qi.$t().St().La()||[]).map(s=>({Aa:s.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class Hf{constructor(t){this.mn=new jf(t)}Fh(){return this.mn}}const ln={Ea:4,Na:1e-4};function ei(i,t){const e=100*(i-t)/t;return t<0?-e:e}function Uf(i,t){const e=ei(i.xh(),t),s=ei(i.Sh(),t);return new Lt(e,s)}function Ei(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function Kf(i,t){const e=Ei(i.xh(),t),s=Ei(i.Sh(),t);return new Lt(e,s)}function _s(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.Na)+t.Ea;return i<0?-s:s}function Oi(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ea)-t.Na;return i<0?-s:s}function gi(i,t){if(i===null)return null;const e=_s(i.xh(),t),s=_s(i.Sh(),t);return new Lt(e,s)}function Ji(i,t){if(i===null)return null;const e=Oi(i.xh(),t),s=Oi(i.Sh(),t);return new Lt(e,s)}function hn(i){if(i===null)return ln;const t=Math.abs(i.Sh()-i.xh());if(t>=1||t<1e-15)return ln;const e=Math.ceil(Math.abs(Math.log10(t))),s=ln.Ea+e;return{Ea:s,Na:1/Math.pow(10,s)}}class an{constructor(t,e){if(this.Fa=t,this.Wa=e,function(s){if(s<0)return!1;for(let n=s;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let s=this.Fa;s!==1;){if(s%2==0)this.ja.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),s/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(t,e,s){const n=this.Fa===0?0:1/this.Fa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Wa[0];for(;;){const c=Xi(r,n,1e-14)&&r>n+1e-14,f=Xi(r,s*l,1e-14),d=Xi(r,1,1e-14);if(!(c&&f&&d))break;r/=l,l=this.Wa[++o%this.Wa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.ja.length>0&&(h=r,a=1,u=1e-14,Math.abs(h-a)<u))for(o=0,l=this.ja[0];Xi(r,s*l,1e-14)&&r>n+1e-14;)r/=l,l=this.ja[++o%this.ja.length];var h,a,u;return r}}class Oo{constructor(t,e,s,n){this.$a=[],this.zi=t,this.Fa=e,this.Ua=s,this.qa=n}Ha(t,e){if(t<e)throw new Error("high < low");const s=this.zi.Bt(),n=(t-e)*this.Ya()/s,r=new an(this.Fa,[2,2.5,2]),o=new an(this.Fa,[2,2,2.5]),l=new an(this.Fa,[2.5,2,2]),h=[];return h.push(r.Ha(t,e,n),o.Ha(t,e,n),l.Ha(t,e,n)),function(a){if(a.length<1)throw Error("array is empty");let u=a[0];for(let c=1;c<a.length;++c)a[c]<u&&(u=a[c]);return u}(h)}Xa(){const t=this.zi,e=t.Ct();if(e===null)return void(this.$a=[]);const s=t.Bt(),n=this.Ua(s-1,e),r=this.Ua(0,e),o=this.zi.W().entireTextOnly?this.Ka()/2:0,l=o,h=s-1-o,a=Math.max(n,r),u=Math.min(n,r);if(a===u)return void(this.$a=[]);let c=this.Ha(a,u),f=a%c;f+=f<0?c:0;const d=a>=u?1:-1;let m=null,v=0;for(let _=a-f;_>u;_-=c){const b=this.qa(_,e,!0);m!==null&&Math.abs(b-m)<this.Ya()||b<l||b>h||(v<this.$a.length?(this.$a[v].Aa=b,this.$a[v].Za=t.Ga(_)):this.$a.push({Aa:b,Za:t.Ga(_)}),v++,m=b,t.Ja()&&(c=this.Ha(_*d,u)))}this.$a.length=v}La(){return this.$a}Ka(){return this.zi.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function Ch(i){return i.slice().sort((t,e)=>z(t.Xi())-z(e.Xi()))}var zo;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(zo||(zo={}));const To=new ch,Io=new Ns(100,1);class Zf{constructor(t,e,s,n){this.Qa=0,this.io=null,this.Rh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new vt,this.oo=new vt,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Io,this.vo=hn(null),this.po=t,this._n=e,this.mo=s,this.bo=n,this.wo=new Oo(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this._n}Eh(t){if(Qt(this._n,t),this.Sa(),t.mode!==void 0&&this.So({Sr:t.mode}),t.scaleMargins!==void 0){const e=It(t.scaleMargins.top),s=It(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.ko(),this.co=null}}yo(){return this._n.autoScale}Ja(){return this._n.mode===1}fh(){return this._n.mode===2}Co(){return this._n.mode===3}Sr(){return{Nn:this._n.autoScale,To:this._n.invertScale,Sr:this._n.mode}}So(t){const e=this.Sr();let s=null;t.Nn!==void 0&&(this._n.autoScale=t.Nn),t.Sr!==void 0&&(this._n.mode=t.Sr,t.Sr!==2&&t.Sr!==3||(this._n.autoScale=!0),this.so.eo=!1),e.Sr===1&&t.Sr!==e.Sr&&(function(r,o){if(r===null)return!1;const l=Oi(r.xh(),o),h=Oi(r.Sh(),o);return isFinite(l)&&isFinite(h)}(this.Rh,this.vo)?(s=Ji(this.Rh,this.vo),s!==null&&this.Po(s)):this._n.autoScale=!0),t.Sr===1&&t.Sr!==e.Sr&&(s=gi(this.Rh,this.vo),s!==null&&this.Po(s));const n=e.Sr!==this._n.mode;n&&(e.Sr===2||this.fh())&&this.Sa(),n&&(e.Sr===3||this.Co())&&this.Sa(),t.To!==void 0&&e.To!==t.To&&(this._n.invertScale=t.To,this.Ro()),this.oo.m(e,this.Sr())}Do(){return this.oo}P(){return this.mo.fontSize}Bt(){return this.Qa}Oo(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const t=this.Bt()-this.Vo()-this.Bo();return this.io=t,t}Oh(){return this.Io(),this.Rh}Po(t,e){const s=this.Rh;(e||s===null&&t!==null||s!==null&&!s.gh(t))&&(this.co=null,this.Rh=t)}Ei(){return this.Io(),this.Qa===0||!this.Rh||this.Rh.Ei()}zo(t){return this.To()?t:this.Bt()-1-t}Rt(t,e){return this.fh()?t=ei(t,e):this.Co()&&(t=Ei(t,e)),this.xo(t,e)}Gs(t,e,s){this.Io();const n=this.Bo(),r=z(this.Oh()),o=r.xh(),l=r.Sh(),h=this.Ao()-1,a=this.To(),u=h/(l-o),c=s===void 0?0:s.from,f=s===void 0?t.length:s.to,d=this.Lo();for(let m=c;m<f;m++){const v=t[m],_=v._t;if(isNaN(_))continue;let b=_;d!==null&&(b=d(v._t,e));const w=n+u*(b-o),E=a?w:this.Qa-1-w;v.st=E}}ve(t,e,s){this.Io();const n=this.Bo(),r=z(this.Oh()),o=r.xh(),l=r.Sh(),h=this.Ao()-1,a=this.To(),u=h/(l-o),c=s===void 0?0:s.from,f=s===void 0?t.length:s.to,d=this.Lo();for(let m=c;m<f;m++){const v=t[m];let _=v.me,b=v.be,w=v.we,E=v.ge;d!==null&&(_=d(v.me,e),b=d(v.be,e),w=d(v.we,e),E=d(v.ge,e));let y=n+u*(_-o),L=a?y:this.Qa-1-y;v.de=L,y=n+u*(b-o),L=a?y:this.Qa-1-y,v._e=L,y=n+u*(w-o),L=a?y:this.Qa-1-y,v.ue=L,y=n+u*(E-o),L=a?y:this.Qa-1-y,v.fe=L}}fn(t,e){const s=this.Mo(t,e);return this.Eo(s,e)}Eo(t,e){let s=t;return this.fh()?s=function(n,r){return r<0&&(n=-n),n/100*r+r}(s,e):this.Co()&&(s=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(s,e)),s}Ta(){return this._o}No(){if(this.uo)return this.uo;let t=[];for(let e=0;e<this._o.length;e++){const s=this._o[e];s.Xi()===null&&s.Ki(e+1),t.push(s)}return t=Ch(t),this.uo=t,this.uo}Fo(t){this._o.indexOf(t)===-1&&(this._o.push(t),this.Sa(),this.Wo())}jo(t){const e=this._o.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this._o.splice(e,1),this._o.length===0&&(this.So({Nn:!0}),this.Po(null)),this.Sa(),this.Wo()}Ct(){let t=null;for(const e of this._o){const s=e.Ct();s!==null&&(t===null||s.ia<t.ia)&&(t=s)}return t===null?null:t.Ot}To(){return this._n.invertScale}La(){const t=this.Ct()===null;if(this.co!==null&&(t||this.co.Ho===t))return this.co.La;this.wo.Xa();const e=this.wo.La();return this.co={La:e,Ho:t},this.ao.m(),e}$o(){return this.ao}Uo(t){this.fh()||this.Co()||this.do===null&&this.no===null&&(this.Ei()||(this.do=this.Qa-t,this.no=z(this.Oh()).Mh()))}qo(t){if(this.fh()||this.Co()||this.do===null)return;this.So({Nn:!1}),(t=this.Qa-t)<0&&(t=0);let e=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1));const s=z(this.no).Mh();e=Math.max(e,.1),s.yh(e),this.Po(s)}Yo(){this.fh()||this.Co()||(this.do=null,this.no=null)}Xo(t){this.yo()||this.fo===null&&this.no===null&&(this.Ei()||(this.fo=t,this.no=z(this.Oh()).Mh()))}Ko(t){if(this.yo()||this.fo===null)return;const e=z(this.Oh()).kh()/(this.Ao()-1);let s=t-this.fo;this.To()&&(s*=-1);const n=s*e,r=z(this.no).Mh();r.Ch(n),this.Po(r,!0),this.co=null}Zo(){this.yo()||this.fo!==null&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Ni(t,e){switch(this._n.mode){case 2:return this.Go(ei(t,e));case 3:return this.ca().format(Ei(t,e));default:return this.Ih(t)}}Ga(t){switch(this._n.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.Ih(t)}}Wl(t){return this.Ih(t,z(this.Jo()).ca())}jl(t,e){return t=ei(t,e),this.Go(t,To)}Qo(){return this._o}t_(t){this.so={ro:t,eo:!1}}Rn(){this._o.forEach(t=>t.Rn())}Sa(){this.co=null;const t=this.Jo();let e=100;t!==null&&(e=Math.round(1/t.ua())),this.da=Io,this.fh()?(this.da=To,e=100):this.Co()?(this.da=new Ns(100,1),e=100):t!==null&&(this.da=t.ca()),this.wo=new Oo(this,e,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this._n.scaleMargins.bottom*this.Bt()+this.lo:this._n.scaleMargins.top*this.Bt()+this.ho}Bo(){return this.To()?this._n.scaleMargins.top*this.Bt()+this.ho:this._n.scaleMargins.bottom*this.Bt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(t,e){if(this.Io(),this.Ei())return 0;t=this.Ja()&&t?_s(t,this.vo):t;const s=z(this.Oh()),n=this.Bo()+(this.Ao()-1)*(t-s.xh())/s.kh();return this.zo(n)}Mo(t,e){if(this.Io(),this.Ei())return 0;const s=this.zo(t),n=z(this.Oh()),r=n.xh()+n.kh()*((s-this.Bo())/(this.Ao()-1));return this.Ja()?Oi(r,this.vo):r}Ro(){this.co=null,this.wo.Xa()}i_(){const t=this.so.ro;if(t===null)return;let e=null;const s=this.Qo();let n=0,r=0;for(const h of s){if(!h.yt())continue;const a=h.Ct();if(a===null)continue;const u=h.Rl(t.Rs(),t.ui());let c=u&&u.Oh();if(c!==null){switch(this._n.mode){case 1:c=gi(c,this.vo);break;case 2:c=Uf(c,a.Ot);break;case 3:c=Kf(c,a.Ot)}if(e=e===null?c:e.Jn(z(c)),u!==null){const f=u.Ah();f!==null&&(n=Math.max(n,f.above),r=Math.max(n,f.below))}}}if(n===this.ho&&r===this.lo||(this.ho=n,this.lo=r,this.co=null,this.ko()),e!==null){if(e.xh()===e.Sh()){const h=this.Jo(),a=5*(h===null||this.fh()||this.Co()?1:h.ua());this.Ja()&&(e=Ji(e,this.vo)),e=new Lt(e.xh()-a,e.Sh()+a),this.Ja()&&(e=gi(e,this.vo))}if(this.Ja()){const h=Ji(e,this.vo),a=hn(h);if(o=a,l=this.vo,o.Ea!==l.Ea||o.Na!==l.Na){const u=this.no!==null?Ji(this.no,this.vo):null;this.vo=a,e=gi(h,a),u!==null&&(this.no=gi(u,a))}}this.Po(e)}else this.Rh===null&&(this.Po(new Lt(-.5,.5)),this.vo=hn(null));var o,l;this.so.eo=!0}Lo(){return this.fh()?ei:this.Co()?Ei:this.Ja()?t=>_s(t,this.vo):null}n_(t,e,s){return e===void 0?(s===void 0&&(s=this.ca()),s.format(t)):e(t)}Ih(t,e){return this.n_(t,this.bo.priceFormatter,e)}Go(t,e){return this.n_(t,this.bo.percentageFormatter,e)}}class qf{constructor(t,e){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new vt,this.wl=t,this.Hi=e,this.l_=new Hf(this);const s=e.W();this.a_=this.o_("left",s.leftPriceScale),this.__=this.o_("right",s.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(s)}c_(t){if(t.leftPriceScale&&this.a_.Eh(t.leftPriceScale),t.rightPriceScale&&this.__.Eh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales){const e=Array.from(this.s_.values());for(const s of e){const n=z(s[0].Dt());n.Eh(t.overlayPriceScales),t.localization&&n.Sa()}}}d_(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?It(this.s_.get(t))[0].Dt():null}S(){this.$t().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach(t=>{t.S&&t.S()}),this.h_.m()}v_(){return this.r_}p_(t){this.r_=t}$t(){return this.Hi}ji(){return this.e_}Bt(){return this.Qa}m_(t){this.e_=t,this.b_()}Oo(t){this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach(e=>{if(this.ur(e)){const s=e.Dt();s!==null&&s.Oo(t)}}),this.b_()}Ta(){return this._o}ur(t){const e=t.Dt();return e===null||this.a_!==e&&this.__!==e}Fo(t,e,s){const n=s!==void 0?s:this.g_().w_+1;this.M_(t,e,n)}jo(t){const e=this._o.indexOf(t);Ce(e!==-1,"removeDataSource: invalid data source"),this._o.splice(e,1);const s=z(t.Dt()).xa();if(this.s_.has(s)){const r=It(this.s_.get(s)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.s_.delete(s))}const n=t.Dt();n&&n.Ta().indexOf(t)>=0&&n.jo(t),n!==null&&(n.Wo(),this.x_(n)),this.uo=null}dr(t){return t===this.a_?"left":t===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(t,e){t.Uo(e)}C_(t,e){t.qo(e),this.b_()}T_(t){t.Yo()}P_(t,e){t.Xo(e)}R_(t,e){t.Ko(e),this.b_()}D_(t){t.Zo()}b_(){this._o.forEach(t=>{t.Rn()})}dn(){let t=null;return this.Hi.W().rightPriceScale.visible&&this.__.Ta().length!==0?t=this.__:this.Hi.W().leftPriceScale.visible&&this.a_.Ta().length!==0?t=this.a_:this._o.length!==0&&(t=this._o[0].Dt()),t===null&&(t=this.__),t}cr(){let t=null;return this.Hi.W().rightPriceScale.visible?t=this.__:this.Hi.W().leftPriceScale.visible&&(t=this.a_),t}x_(t){t!==null&&t.yo()&&this.O_(t)}A_(t){const e=this.wl.qs();t.So({Nn:!0}),e!==null&&t.t_(e),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach(t=>{this.ur(t)&&this.x_(t.Dt())}),this.b_(),this.Hi.Nh()}No(){return this.uo===null&&(this.uo=Ch(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(t){const e=t.Qo();if(e&&e.length>0&&!this.wl.Ei()){const s=this.wl.qs();s!==null&&t.t_(s)}t.Rn()}g_(){const t=this.No();if(t.length===0)return{L_:0,w_:0};let e=0,s=0;for(let n=0;n<t.length;n++){const r=t[n].Xi();r!==null&&(r<e&&(e=r),r>s&&(s=r))}return{L_:e,w_:s}}M_(t,e,s){let n=this.d_(e);if(n===null&&(n=this.o_(e,this.Hi.W().overlayPriceScales)),this._o.push(t),!Ls(e)){const r=this.s_.get(e)||[];r.push(t),this.s_.set(e,r)}n.Fo(t),t.Zi(n),t.Ki(s),this.x_(n),this.uo=null}u_(t,e,s){e.Sr!==s.Sr&&this.O_(t)}o_(t,e){const s=Object.assign({visible:!0,autoScale:!0},ue(e)),n=new Zf(t,s,this.Hi.W().layout,this.Hi.W().localization);return n.Oo(this.Bt()),n}}class Yf{constructor(t,e,s=50){this.Ye=0,this.Xe=1,this.Ke=1,this.Ge=new Map,this.Ze=new Map,this.E_=t,this.N_=e,this.Je=s}F_(t){const e=t.time,s=this.N_.cacheKey(e),n=this.Ge.get(s);if(n!==void 0)return n.W_;if(this.Ye===this.Je){const o=this.Ze.get(this.Ke);this.Ze.delete(this.Ke),this.Ge.delete(It(o)),this.Ke++,this.Ye--}const r=this.E_(t);return this.Ge.set(s,{W_:r,nr:this.Xe}),this.Ze.set(this.Xe,s),this.Ye++,this.Xe++,r}}class zi{constructor(t,e){Ce(t<=e,"right should be >= left"),this.j_=t,this.H_=e}Rs(){return this.j_}ui(){return this.H_}U_(){return this.H_-this.j_+1}Yr(t){return this.j_<=t&&t<=this.H_}gh(t){return this.j_===t.Rs()&&this.H_===t.ui()}}function Ro(i,t){return i===null||t===null?i===t:i.gh(t)}class Qf{constructor(){this.q_=new Map,this.Ge=null,this.Y_=!1}X_(t){this.Y_=t,this.Ge=null}K_(t,e){this.Z_(e),this.Ge=null;for(let s=e;s<t.length;++s){const n=t[s];let r=this.q_.get(n.timeWeight);r===void 0&&(r=[],this.q_.set(n.timeWeight,r)),r.push({index:s,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}G_(t,e){const s=Math.ceil(e/t);return this.Ge!==null&&this.Ge.J_===s||(this.Ge={La:this.Q_(s),J_:s}),this.Ge.La}Z_(t){if(t===0)return void this.q_.clear();const e=[];this.q_.forEach((s,n)=>{t<=s[0].index?e.push(n):s.splice(Vi(s,t,r=>r.index<t),1/0)});for(const s of e)this.q_.delete(s)}Q_(t){let e=[];for(const s of Array.from(this.q_.keys()).sort((n,r)=>r-n)){if(!this.q_.get(s))continue;const n=e;e=[];const r=n.length;let o=0;const l=It(this.q_.get(s)),h=l.length;let a=1/0,u=-1/0;for(let c=0;c<h;c++){const f=l[c],d=f.index;for(;o<r;){const m=n[o],v=m.index;if(!(v<d)){a=v;break}o++,e.push(m),u=v,a=1/0}if(a-d>=t&&d-u>=t)e.push(f),u=d;else if(this.Y_)return n}for(;o<r;o++)e.push(n[o])}return e}}class oi{constructor(t){this.tu=t}iu(){return this.tu===null?null:new zi(Math.floor(this.tu.Rs()),Math.ceil(this.tu.ui()))}nu(){return this.tu}static su(){return new oi(null)}}function Xf(i,t){return i.weight>t.weight?i:t}class Gf{constructor(t,e,s,n){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new Qf,this.lu=new Map,this.au=oi.su(),this.ou=!0,this._u=new vt,this.uu=new vt,this.cu=new vt,this.du=null,this.fu=null,this.vu=[],this._n=e,this.bo=s,this.pu=e.rightOffset,this.mu=e.barSpacing,this.Hi=t,this.N_=n,this.bu(),this.hu.X_(e.uniformDistribution)}W(){return this._n}wu(t){Qt(this.bo,t),this.gu(),this.bu()}Eh(t,e){var s;Qt(this._n,t),this._n.fixLeftEdge&&this.Mu(),this._n.fixRightEdge&&this.xu(),t.barSpacing!==void 0&&this.Hi.Kn(t.barSpacing),t.rightOffset!==void 0&&this.Hi.Zn(t.rightOffset),t.minBarSpacing!==void 0&&this.Hi.Kn((s=t.barSpacing)!==null&&s!==void 0?s:this.mu),this.gu(),this.bu(),this.cu.m()}vn(t){var e,s;return(s=(e=this.ru[t])===null||e===void 0?void 0:e.time)!==null&&s!==void 0?s:null}$i(t){var e;return(e=this.ru[t])!==null&&e!==void 0?e:null}ya(t,e){if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return e?this.ru.length-1:null;const s=Vi(this.ru,this.N_.key(t),(n,r)=>this.N_.key(n.time)<r);return this.N_.key(t)<this.N_.key(this.ru[s].time)?e?s:null:s}Ei(){return this.e_===0||this.ru.length===0||this.eu===null}ka(){return this.ru.length>0}qs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const t=this.qs();if(t===null)return null;const e={from:t.Rs(),to:t.ui()};return this.Cu(e)}Cu(t){const e=Math.round(t.from),s=Math.round(t.to),n=z(this.Tu()),r=z(this.Pu());return{from:z(this.$i(Math.max(n,e))),to:z(this.$i(Math.min(r,s)))}}Ru(t){return{from:z(this.ya(t.from,!0)),to:z(this.ya(t.to,!0))}}ji(){return this.e_}m_(t){if(!isFinite(t)||t<=0||this.e_===t)return;const e=this.ku(),s=this.e_;if(this.e_=t,this.ou=!0,this._n.lockVisibleTimeRangeOnResize&&s!==0){const n=this.mu*t/s;this.mu=n}if(this._n.fixLeftEdge&&e!==null&&e.Rs()<=0){const n=s-t;this.pu-=Math.round(n/this.mu)+1,this.ou=!0}this.Du(),this.Ou()}It(t){if(this.Ei()||!ki(t))return 0;const e=this.Au()+this.pu-t;return this.e_-(e+.5)*this.mu-1}Zs(t,e){const s=this.Au(),n=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=n;o<r;o++){const l=t[o].ot,h=s+this.pu-l,a=this.e_-(h+.5)*this.mu-1;t[o].nt=a}}Vu(t){return Math.ceil(this.Bu(t))}Zn(t){this.ou=!0,this.pu=t,this.Ou(),this.Hi.Iu(),this.Hi.Nh()}ee(){return this.mu}Kn(t){this.zu(t),this.Ou(),this.Hi.Iu(),this.Hi.Nh()}Lu(){return this.pu}La(){if(this.Ei())return null;if(this.fu!==null)return this.fu;const t=this.mu,e=5*(this.Hi.W().layout.fontSize+4)/8*(this._n.tickMarkMaxCharacterLength||8),s=Math.round(e/t),n=z(this.qs()),r=Math.max(n.Rs(),n.Rs()-s),o=Math.max(n.ui(),n.ui()-s),l=this.hu.G_(t,e),h=this.Tu()+s,a=this.Pu()-s,u=this.Eu(),c=this._n.fixLeftEdge||u,f=this._n.fixRightEdge||u;let d=0;for(const m of l){if(!(r<=m.index&&m.index<=o))continue;let v;d<this.vu.length?(v=this.vu[d],v.coord=this.It(m.index),v.label=this.Nu(m),v.weight=m.weight):(v={needAlignCoordinate:!1,coord:this.It(m.index),label:this.Nu(m),weight:m.weight},this.vu.push(v)),this.mu>e/2&&!u?v.needAlignCoordinate=!1:v.needAlignCoordinate=c&&m.index<=h||f&&m.index>=a,d++}return this.vu.length=d,this.fu=this.vu,this.vu}Fu(){this.ou=!0,this.Kn(this._n.barSpacing),this.Zn(this._n.rightOffset)}Wu(t){this.ou=!0,this.eu=t,this.Ou(),this.Mu()}ju(t,e){const s=this.Bu(t),n=this.ee(),r=n+e*(n/10);this.Kn(r),this._n.rightBarStaysOnScroll||this.Zn(this.Lu()+(s-this.Bu(t)))}Uo(t){this.fo&&this.Zo(),this.do===null&&this.du===null&&(this.Ei()||(this.do=t,this.Hu()))}qo(t){if(this.du===null)return;const e=$n(this.e_-t,0,this.e_),s=$n(this.e_-z(this.do),0,this.e_);e!==0&&s!==0&&this.Kn(this.du.ee*e/s)}Yo(){this.do!==null&&(this.do=null,this.$u())}Xo(t){this.fo===null&&this.du===null&&(this.Ei()||(this.fo=t,this.Hu()))}Ko(t){if(this.fo===null)return;const e=(this.fo-t)/this.ee();this.pu=z(this.du).Lu+e,this.ou=!0,this.Ou()}Zo(){this.fo!==null&&(this.fo=null,this.$u())}Uu(){this.qu(this._n.rightOffset)}qu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.pu,n=performance.now();this.Hi.qn({Yu:r=>(r-n)/e>=1,Xu:r=>{const o=(r-n)/e;return o>=1?t:s+(t-s)*o}})}bt(t,e){this.ou=!0,this.ru=t,this.hu.K_(t,e),this.Ou()}Ku(){return this._u}Zu(){return this.uu}Gu(){return this.cu}Au(){return this.eu||0}Ju(t){const e=t.U_();this.zu(this.e_/e),this.pu=t.ui()-this.Au(),this.Ou(),this.ou=!0,this.Hi.Iu(),this.Hi.Nh()}Qu(){const t=this.Tu(),e=this.Pu();t!==null&&e!==null&&this.Ju(new zi(t,e+this._n.rightOffset))}tc(t){const e=new zi(t.from,t.to);this.Ju(e)}Ui(t){return this.bo.timeFormatter!==void 0?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}Eu(){const{handleScroll:t,handleScale:e}=this.Hi.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Tu(){return this.ru.length===0?null:0}Pu(){return this.ru.length===0?null:this.ru.length-1}ic(t){return(this.e_-1-t)/this.mu}Bu(t){const e=this.ic(t),s=this.Au()+this.pu-e;return Math.round(1e6*s)/1e6}zu(t){const e=this.mu;this.mu=t,this.Du(),e!==this.mu&&(this.ou=!0,this.nc())}Su(){if(!this.ou)return;if(this.ou=!1,this.Ei())return void this.sc(oi.su());const t=this.Au(),e=this.e_/this.mu,s=this.pu+t,n=new zi(s-e+1,s);this.sc(new oi(n))}Du(){const t=this.ec();if(this.mu<t&&(this.mu=t,this.ou=!0),this.e_!==0){const e=.5*this.e_;this.mu>e&&(this.mu=e,this.ou=!0)}}ec(){return this._n.fixLeftEdge&&this._n.fixRightEdge&&this.ru.length!==0?this.e_/this.ru.length:this._n.minBarSpacing}Ou(){const t=this.rc();this.pu>t&&(this.pu=t,this.ou=!0);const e=this.hc();e!==null&&this.pu<e&&(this.pu=e,this.ou=!0)}hc(){const t=this.Tu(),e=this.eu;return t===null||e===null?null:t-e-1+(this._n.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}rc(){return this._n.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}Hu(){this.du={ee:this.ee(),Lu:this.Lu()}}$u(){this.du=null}Nu(t){let e=this.lu.get(t.weight);return e===void 0&&(e=new Yf(s=>this.lc(s),this.N_),this.lu.set(t.weight,e)),e.F_(t)}lc(t){return this.N_.formatTickmark(t,this.bo)}sc(t){const e=this.au;this.au=t,Ro(e.iu(),this.au.iu())||this._u.m(),Ro(e.nu(),this.au.nu())||this.uu.m(),this.nc()}nc(){this.fu=null}gu(){this.nc(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this._n.fixLeftEdge)return;const t=this.Tu();if(t===null)return;const e=this.qs();if(e===null)return;const s=e.Rs()-t;if(s<0){const n=this.pu-s-1;this.Zn(n)}this.Du()}xu(){this.Ou(),this.Du()}}class Jf{K(t,e,s){t.useMediaCoordinateSpace(n=>this.Z(n,e,s))}fl(t,e,s){t.useMediaCoordinateSpace(n=>this.ac(n,e,s))}ac(t,e,s){}}class td extends Jf{constructor(t){super(),this.oc=new Map,this.zt=t}Z(t){}ac(t){if(!this.zt.yt)return;const{context:e,mediaSize:s}=t;let n=0;for(const o of this.zt._c){if(o.Zt.length===0)continue;e.font=o.R;const l=this.uc(e,o.Zt);l>s.width?o.ju=s.width/l:o.ju=1,n+=o.cc*o.ju}let r=0;switch(this.zt.dc){case"top":r=0;break;case"center":r=Math.max((s.height-n)/2,0);break;case"bottom":r=Math.max(s.height-n,0)}e.fillStyle=this.zt.O;for(const o of this.zt._c){e.save();let l=0;switch(this.zt.fc){case"left":e.textAlign="left",l=o.cc/2;break;case"center":e.textAlign="center",l=s.width/2;break;case"right":e.textAlign="right",l=s.width-1-o.cc/2}e.translate(l,r),e.textBaseline="top",e.font=o.R,e.scale(o.ju,o.ju),e.fillText(o.Zt,0,o.vc),e.restore(),r+=o.cc*o.ju}}uc(t,e){const s=this.mc(t.font);let n=s.get(e);return n===void 0&&(n=t.measureText(e).width,s.set(e,n)),n}mc(t){let e=this.oc.get(t);return e===void 0&&(e=new Map,this.oc.set(t,e)),e}}class ed{constructor(t){this.ft=!0,this.Ft={yt:!1,O:"",_c:[],dc:"center",fc:"center"},this.Wt=new td(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.O=t.color,e.fc=t.horzAlign,e.dc=t.vertAlign,e._c=[{Zt:t.text,R:ai(t.fontSize,t.fontFamily,t.fontStyle),cc:1.2*t.fontSize,vc:0,ju:0}])}}class id extends cr{constructor(t,e){super(),this._n=e,this.mn=new ed(this)}Tn(){return[]}Cn(){return[this.mn]}W(){return this._n}Rn(){this.mn.bt()}}var Po,ko,Lo,No,$o;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(Po||(Po={}));class sd{constructor(t,e,s){this.bc=[],this.wc=[],this.e_=0,this.gc=null,this.Mc=new vt,this.xc=new vt,this.Sc=null,this.kc=t,this._n=e,this.N_=s,this.yc=new Lc(this),this.wl=new Gf(this,e.timeScale,this._n.localization,s),this.vt=new Uc(this,e.crosshair),this.Cc=new Vf(e.crosshair),this.Tc=new id(this,e.watermark),this.Pc(),this.bc[0].p_(2e3),this.Rc=this.Dc(0),this.Oc=this.Dc(1)}$l(){this.Ac(wt.ns())}Nh(){this.Ac(wt.ts())}sa(){this.Ac(new wt(1))}Ul(t){const e=this.Vc(t);this.Ac(e)}Bc(){return this.gc}Ic(t){const e=this.gc;this.gc=t,e!==null&&this.Ul(e.zc),t!==null&&this.Ul(t.zc)}W(){return this._n}Eh(t){Qt(this._n,t),this.bc.forEach(e=>e.c_(t)),t.timeScale!==void 0&&this.wl.Eh(t.timeScale),t.localization!==void 0&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Mc.m(),this.Rc=this.Dc(0),this.Oc=this.Dc(1),this.$l()}Lc(t,e){if(t==="left")return void this.Eh({leftPriceScale:e});if(t==="right")return void this.Eh({rightPriceScale:e});const s=this.Ec(t);s!==null&&(s.Dt.Eh(e),this.Mc.m())}Ec(t){for(const e of this.bc){const s=e.d_(t);if(s!==null)return{Ht:e,Dt:s}}return null}St(){return this.wl}Nc(){return this.bc}Fc(){return this.Tc}Wc(){return this.vt}jc(){return this.xc}Hc(t,e){t.Oo(e),this.Iu()}m_(t){this.e_=t,this.wl.m_(this.e_),this.bc.forEach(e=>e.m_(t)),this.Iu()}Pc(t){const e=new qf(this.wl,this);t!==void 0?this.bc.splice(t,0,e):this.bc.push(e);const s=t===void 0?this.bc.length-1:t,n=wt.ns();return n.Ln(s,{En:0,Nn:!0}),this.Ac(n),e}y_(t,e,s){t.y_(e,s)}C_(t,e,s){t.C_(e,s),this.ql(),this.Ac(this.$c(t,2))}T_(t,e){t.T_(e),this.Ac(this.$c(t,2))}P_(t,e,s){e.yo()||t.P_(e,s)}R_(t,e,s){e.yo()||(t.R_(e,s),this.ql(),this.Ac(this.$c(t,2)))}D_(t,e){e.yo()||(t.D_(e),this.Ac(this.$c(t,2)))}A_(t,e){t.A_(e),this.Ac(this.$c(t,2))}Uc(t){this.wl.Uo(t)}qc(t,e){const s=this.St();if(s.Ei()||e===0)return;const n=s.ji();t=Math.max(1,Math.min(t,n)),s.ju(t,e),this.Iu()}Yc(t){this.Xc(0),this.Kc(t),this.Zc()}Gc(t){this.wl.qo(t),this.Iu()}Jc(){this.wl.Yo(),this.Nh()}Xc(t){this.wl.Xo(t)}Kc(t){this.wl.Ko(t),this.Iu()}Zc(){this.wl.Zo(),this.Nh()}wt(){return this.wc}Qc(t,e,s,n,r){this.vt.bn(t,e);let o=NaN,l=this.wl.Vu(t);const h=this.wl.qs();h!==null&&(l=Math.min(Math.max(h.Rs(),l),h.ui()));const a=n.dn(),u=a.Ct();u!==null&&(o=a.fn(e,u)),o=this.Cc.Ca(o,l,n),this.vt.xn(l,o,n),this.sa(),r||this.xc.m(this.vt.xt(),{x:t,y:e},s)}td(t,e,s){const n=s.dn(),r=n.Ct(),o=n.Rt(t,z(r)),l=this.wl.ya(e,!0),h=this.wl.It(z(l));this.Qc(h,o,null,s,!0)}nd(t){this.Wc().kn(),this.sa(),t||this.xc.m(null,null,null)}ql(){const t=this.vt.Ht();if(t!==null){const e=this.vt.gn(),s=this.vt.Mn();this.Qc(e,s,null,t)}this.vt.Rn()}sd(t,e,s){const n=this.wl.vn(0);e!==void 0&&s!==void 0&&this.wl.bt(e,s);const r=this.wl.vn(0),o=this.wl.Au(),l=this.wl.qs();if(l!==null&&n!==null&&r!==null){const h=l.Yr(o),a=this.N_.key(n)>this.N_.key(r),u=t!==null&&t>o&&!a,c=this.wl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=h&&(s!==void 0||c)&&this.wl.W().shiftVisibleRangeOnNewBar;if(u&&!f){const d=t-o;this.wl.Zn(this.wl.Lu()-d)}}this.wl.Wu(t)}Kl(t){t!==null&&t.B_()}_r(t){const e=this.bc.find(s=>s.No().includes(t));return e===void 0?null:e}Iu(){this.Tc.Rn(),this.bc.forEach(t=>t.B_()),this.ql()}S(){this.bc.forEach(t=>t.S()),this.bc.length=0,this._n.localization.priceFormatter=void 0,this._n.localization.percentageFormatter=void 0,this._n.localization.timeFormatter=void 0}ed(){return this.yc}vr(){return this.yc.W()}f_(){return this.Mc}rd(t,e,s){const n=this.bc[0],r=this.hd(e,t,n,s);return this.wc.push(r),this.wc.length===1?this.$l():this.Nh(),r}ld(t){const e=this._r(t),s=this.wc.indexOf(t);Ce(s!==-1,"Series not found"),this.wc.splice(s,1),z(e).jo(t),t.S&&t.S()}Hl(t,e){const s=z(this._r(t));s.jo(t);const n=this.Ec(e);if(n===null){const r=t.Xi();s.Fo(t,e,r)}else{const r=n.Ht===s?t.Xi():void 0;n.Ht.Fo(t,e,r)}}Qu(){const t=wt.ts();t.jn(),this.Ac(t)}ad(t){const e=wt.ts();e.Un(t),this.Ac(e)}Xn(){const t=wt.ts();t.Xn(),this.Ac(t)}Kn(t){const e=wt.ts();e.Kn(t),this.Ac(e)}Zn(t){const e=wt.ts();e.Zn(t),this.Ac(e)}qn(t){const e=wt.ts();e.qn(t),this.Ac(e)}Hn(){const t=wt.ts();t.Hn(),this.Ac(t)}od(){return this._n.rightPriceScale.visible?"right":"left"}_d(){return this.Oc}q(){return this.Rc}Vt(t){const e=this.Oc,s=this.Rc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Sc===null||this.Sc.ys!==s||this.Sc.Cs!==e)this.Sc={ys:s,Cs:e,ud:new Map};else{const r=this.Sc.ud.get(t);if(r!==void 0)return r}const n=function(r,o,l){const[h,a,u,c]=bs(r),[f,d,m,v]=bs(o),_=[Wt(h+l*(f-h)),Wt(a+l*(d-a)),Wt(u+l*(m-u)),hh(c+l*(v-c))];return`rgba(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]})`}(s,e,t/100);return this.Sc.ud.set(t,n),n}$c(t,e){const s=new wt(e);if(t!==null){const n=this.bc.indexOf(t);s.Ln(n,{En:e})}return s}Vc(t,e){return e===void 0&&(e=2),this.$c(this._r(t),e)}Ac(t){this.kc&&this.kc(t),this.bc.forEach(e=>e.z_().Fh().bt())}hd(t,e,s,n){const r=new vr(this,t,e,s,n),o=t.priceScaleId!==void 0?t.priceScaleId:this.od();return s.Fo(r,o),Ls(o)||r.Eh(t),r}Dc(t){const e=this._n.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function An(i){return!re(i)&&!Fi(i)}function Eh(i){return re(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(ko||(ko={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(Lo||(Lo={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(No||(No={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}($o||($o={}));const Ao=i=>i.getUTCFullYear();function nd(i,t,e){return t.replace(/yyyy/g,(s=>ce(Ao(s),4))(i)).replace(/yy/g,(s=>ce(Ao(s)%100,2))(i)).replace(/MMMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(i,e)).replace(/MMM/g,((s,n)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(i,e)).replace(/MM/g,(s=>ce((n=>n.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>ce((n=>n.getUTCDate())(s),2))(i))}class Oh{constructor(t="yyyy-MM-dd",e="default"){this.dd=t,this.fd=e}F_(t){return nd(t,this.dd,this.fd)}}class rd{constructor(t){this.vd=t||"%h:%m:%s"}F_(t){return this.vd.replace("%h",ce(t.getUTCHours(),2)).replace("%m",ce(t.getUTCMinutes(),2)).replace("%s",ce(t.getUTCSeconds(),2))}}const od={pd:"yyyy-MM-dd",md:"%h:%m:%s",bd:" ",wd:"default"};class ld{constructor(t={}){const e=Object.assign(Object.assign({},od),t);this.gd=new Oh(e.pd,e.wd),this.Md=new rd(e.md),this.xd=e.bd}F_(t){return`${this.gd.F_(t)}${this.xd}${this.Md.F_(t)}`}}function ts(i){return 60*i*60*1e3}function un(i){return 60*i*1e3}const es=[{Sd:(Do=1,1e3*Do),kd:10},{Sd:un(1),kd:20},{Sd:un(5),kd:21},{Sd:un(30),kd:22},{Sd:ts(1),kd:30},{Sd:ts(3),kd:31},{Sd:ts(6),kd:32},{Sd:ts(12),kd:33}];var Do;function Bo(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=es.length-1;e>=0;--e)if(Math.floor(t.getTime()/es[e].Sd)!==Math.floor(i.getTime()/es[e].Sd))return es[e].kd;return 0}function cn(i){let t=i;if(Fi(i)&&(t=mr(i)),!An(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{yd:Math.round(e.getTime()/1e3),Cd:t}}function Fo(i){if(!Eh(i))throw new Error("time must be of type isUTCTimestamp");return{yd:i}}function mr(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Vo(i){Fi(i.time)&&(i.time=mr(i.time))}class Wo{options(){return this._n}setOptions(t){this._n=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Vo)}(t):Vo(t)}createConverterToInternalObj(t){return z(function(e){return e.length===0?null:An(e[0].time)||Fi(e[0].time)?cn:Fo}(t))}key(t){return typeof t=="object"&&"yd"in t?t.yd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Cd===void 0?new Date(1e3*e.yd).getTime():new Date(Date.UTC(e.Cd.year,e.Cd.month-1,e.Cd.day)).getTime()}convertHorzItemToInternal(t){return Eh(e=t)?Fo(e):An(e)?cn(e):cn(mr(e));var e}updateFormatter(t){if(!this._n)return;const e=t.dateFormat;this._n.timeScale.timeVisible?this.Td=new ld({pd:e,md:this._n.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",bd:"   ",wd:t.locale}):this.Td=new Oh(e,t.locale)}formatHorzItem(t){const e=t;return this.Td.F_(new Date(1e3*e.yd))}formatTickmark(t,e){const s=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this._n.timeScale.timeVisible,this._n.timeScale.secondsVisible),n=this._n.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(t.originalTime,s,e.locale);if(r!==null)return r}return function(r,o,l){const h={};switch(o){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const a=r.Cd===void 0?new Date(1e3*r.yd):new Date(Date.UTC(r.Cd.year,r.Cd.month-1,r.Cd.day));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()).toLocaleString(l,h)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Xf,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,n=0){if(s.length===0)return;let r=n===0?null:s[n-1].time.yd,o=r!==null?new Date(1e3*r):null,l=0;for(let h=n;h<s.length;++h){const a=s[h],u=new Date(1e3*a.time.yd);o!==null&&(a.timeWeight=Bo(u,o)),l+=a.time.yd-(r||a.time.yd),r=a.time.yd,o=u}if(n===0&&s.length>1){const h=Math.ceil(l/(s.length-1)),a=new Date(1e3*(s[0].time.yd-h));s[0].timeWeight=Bo(new Date(1e3*s[0].time.yd),a)}})(t,e)}static Pd(t){return Qt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ui=typeof window<"u";function jo(){return!!ui&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function fn(){return!!ui&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Dn(i){return i+i%2}function dn(i,t){return i.Rd-t.Rd}function pn(i,t,e){const s=(i.Rd-t.Rd)/(i.ot-t.ot);return Math.sign(s)*Math.min(Math.abs(s),e)}class hd{constructor(t,e,s,n){this.Dd=null,this.Od=null,this.Ad=null,this.Vd=null,this.Bd=null,this.Id=0,this.zd=0,this.Ld=t,this.Ed=e,this.Nd=s,this.ss=n}Fd(t,e){if(this.Dd!==null){if(this.Dd.ot===e)return void(this.Dd.Rd=t);if(Math.abs(this.Dd.Rd-t)<this.ss)return}this.Vd=this.Ad,this.Ad=this.Od,this.Od=this.Dd,this.Dd={ot:e,Rd:t}}Pr(t,e){if(this.Dd===null||this.Od===null||e-this.Dd.ot>50)return;let s=0;const n=pn(this.Dd,this.Od,this.Ed),r=dn(this.Dd,this.Od),o=[n],l=[r];if(s+=r,this.Ad!==null){const a=pn(this.Od,this.Ad,this.Ed);if(Math.sign(a)===Math.sign(n)){const u=dn(this.Od,this.Ad);if(o.push(a),l.push(u),s+=u,this.Vd!==null){const c=pn(this.Ad,this.Vd,this.Ed);if(Math.sign(c)===Math.sign(n)){const f=dn(this.Ad,this.Vd);o.push(c),l.push(f),s+=f}}}}let h=0;for(let a=0;a<o.length;++a)h+=l[a]/s*o[a];Math.abs(h)<this.Ld||(this.Bd={Rd:t,ot:e},this.zd=h,this.Id=function(a,u){const c=Math.log(u);return Math.log(1*c/-a)/c}(Math.abs(h),this.Nd))}Xu(t){const e=z(this.Bd),s=t-e.ot;return e.Rd+this.zd*(Math.pow(this.Nd,s)-1)/Math.log(this.Nd)}Yu(t){return this.Bd===null||this.Wd(t)===this.Id}Wd(t){const e=t-z(this.Bd).ot;return Math.min(e,this.Id)}}function Ve(i,t){const e=z(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=wc(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return s.resizeCanvasElement(t),s}function We(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function Bn(i,t,e,s){i.fl&&i.fl(t,e,s)}function cs(i,t,e,s){i.K(t,e,s)}function Fn(i,t,e,s){const n=i(e,s);for(const r of n){const o=r.gt();o!==null&&t(o)}}function ad(i){ui&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class gr{constructor(t,e,s){this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.Xd=null,this.Kd=!1,this.Zd=null,this.Gd=null,this.Jd=!1,this.Qd=!1,this.tf=!1,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=null,this.lf=null,this.af=0,this._f=!1,this.uf=!1,this.cf=!1,this.df=0,this.ff=null,this.vf=!fn(),this.pf=n=>{this.mf(n)},this.bf=n=>{if(this.wf(n)){const r=this.gf(n);if(++this.Ud,this.qd&&this.Ud>1){const{Mf:o}=this.xf(te(n),this.Yd);o<30&&!this.tf&&this.Sf(r,this.yf.kf),this.Cf()}}else{const r=this.gf(n);if(++this.jd,this.Hd&&this.jd>1){const{Mf:o}=this.xf(te(n),this.$d);o<5&&!this.Qd&&this.Tf(r,this.yf.Pf),this.Rf()}}},this.Df=t,this.yf=e,this._n=s,this.Of()}S(){this.if!==null&&(this.if(),this.if=null),this.nf!==null&&(this.nf(),this.nf=null),this.ef!==null&&(this.ef(),this.ef=null),this.rf!==null&&(this.rf(),this.rf=null),this.hf!==null&&(this.hf(),this.hf=null),this.sf!==null&&(this.sf(),this.sf=null),this.Af(),this.Rf()}Vf(t){this.ef&&this.ef();const e=this.Bf.bind(this);if(this.ef=()=>{this.Df.removeEventListener("mousemove",e)},this.Df.addEventListener("mousemove",e),this.wf(t))return;const s=this.gf(t);this.Tf(s,this.yf.If),this.vf=!0}Rf(){this.Hd!==null&&clearTimeout(this.Hd),this.jd=0,this.Hd=null,this.$d={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Cf(){this.qd!==null&&clearTimeout(this.qd),this.Ud=0,this.qd=null,this.Yd={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Bf(t){if(this.cf||this.Gd!==null||this.wf(t))return;const e=this.gf(t);this.Tf(e,this.yf.zf),this.vf=!0}Lf(t){const e=vn(t.changedTouches,z(this.ff));if(e===null||(this.df=is(t),this.lf!==null)||this.uf)return;this._f=!0;const s=this.xf(te(e),z(this.Gd)),{Ef:n,Nf:r,Mf:o}=s;if(this.Jd||!(o<5)){if(!this.Jd){const l=.5*n,h=r>=l&&!this._n.Ff(),a=l>r&&!this._n.Wf();h||a||(this.uf=!0),this.Jd=!0,this.tf=!0,this.Af(),this.Cf()}if(!this.uf){const l=this.gf(t,e);this.Sf(l,this.yf.jf),Qe(t)}}}Hf(t){if(t.button!==0)return;const e=this.xf(te(t),z(this.Zd)),{Mf:s}=e;if(s>=5&&(this.Qd=!0,this.Rf()),this.Qd){const n=this.gf(t);this.Tf(n,this.yf.$f)}}xf(t,e){const s=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{Ef:s,Nf:n,Mf:s+n}}Uf(t){let e=vn(t.changedTouches,z(this.ff));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.ff=null,this.df=is(t),this.Af(),this.Gd=null,this.hf&&(this.hf(),this.hf=null);const s=this.gf(t,e);if(this.Sf(s,this.yf.qf),++this.Ud,this.qd&&this.Ud>1){const{Mf:n}=this.xf(te(e),this.Yd);n<30&&!this.tf&&this.Sf(s,this.yf.kf),this.Cf()}else this.tf||(this.Sf(s,this.yf.Yf),this.yf.Yf&&Qe(t));this.Ud===0&&Qe(t),t.touches.length===0&&this.Kd&&(this.Kd=!1,Qe(t))}mf(t){if(t.button!==0)return;const e=this.gf(t);if(this.Zd=null,this.cf=!1,this.rf&&(this.rf(),this.rf=null),jo()&&this.Df.ownerDocument.documentElement.removeEventListener("mouseleave",this.pf),!this.wf(t))if(this.Tf(e,this.yf.Xf),++this.jd,this.Hd&&this.jd>1){const{Mf:s}=this.xf(te(t),this.$d);s<5&&!this.Qd&&this.Tf(e,this.yf.Pf),this.Rf()}else this.Qd||this.Tf(e,this.yf.Kf)}Af(){this.Xd!==null&&(clearTimeout(this.Xd),this.Xd=null)}Zf(t){if(this.ff!==null)return;const e=t.changedTouches[0];this.ff=e.identifier,this.df=is(t);const s=this.Df.ownerDocument.documentElement;this.tf=!1,this.Jd=!1,this.uf=!1,this.Gd=te(e),this.hf&&(this.hf(),this.hf=null);{const r=this.Lf.bind(this),o=this.Uf.bind(this);this.hf=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Af(),this.Xd=setTimeout(this.Gf.bind(this,t),240)}const n=this.gf(t,e);this.Sf(n,this.yf.Jf),this.qd||(this.Ud=0,this.qd=setTimeout(this.Cf.bind(this),500),this.Yd=te(e))}Qf(t){if(t.button!==0)return;const e=this.Df.ownerDocument.documentElement;jo()&&e.addEventListener("mouseleave",this.pf),this.Qd=!1,this.Zd=te(t),this.rf&&(this.rf(),this.rf=null);{const n=this.Hf.bind(this),r=this.mf.bind(this);this.rf=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",r)}if(this.cf=!0,this.wf(t))return;const s=this.gf(t);this.Tf(s,this.yf.tv),this.Hd||(this.jd=0,this.Hd=setTimeout(this.Rf.bind(this),500),this.$d=te(t))}Of(){this.Df.addEventListener("mouseenter",this.Vf.bind(this)),this.Df.addEventListener("touchcancel",this.Af.bind(this));{const t=this.Df.ownerDocument,e=s=>{this.yf.iv&&(s.composed&&this.Df.contains(s.composedPath()[0])||s.target&&this.Df.contains(s.target)||this.yf.iv())};this.nf=()=>{t.removeEventListener("touchstart",e)},this.if=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}fn()&&(this.sf=()=>{this.Df.removeEventListener("dblclick",this.bf)},this.Df.addEventListener("dblclick",this.bf)),this.Df.addEventListener("mouseleave",this.nv.bind(this)),this.Df.addEventListener("touchstart",this.Zf.bind(this),{passive:!0}),ad(this.Df),this.Df.addEventListener("mousedown",this.Qf.bind(this)),this.sv(),this.Df.addEventListener("touchmove",()=>{},{passive:!1})}sv(){this.yf.ev===void 0&&this.yf.rv===void 0&&this.yf.hv===void 0||(this.Df.addEventListener("touchstart",t=>this.lv(t.touches),{passive:!0}),this.Df.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.lf!==null&&this.yf.rv!==void 0){const e=Ho(t.touches[0],t.touches[1])/this.af;this.yf.rv(this.lf,e),Qe(t)}},{passive:!1}),this.Df.addEventListener("touchend",t=>{this.lv(t.touches)}))}lv(t){t.length===1&&(this._f=!1),t.length!==2||this._f||this.Kd?this.av():this.ov(t)}ov(t){const e=this.Df.getBoundingClientRect()||{left:0,top:0};this.lf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.af=Ho(t[0],t[1]),this.yf.ev!==void 0&&this.yf.ev(),this.Af()}av(){this.lf!==null&&(this.lf=null,this.yf.hv!==void 0&&this.yf.hv())}nv(t){if(this.ef&&this.ef(),this.wf(t)||!this.vf)return;const e=this.gf(t);this.Tf(e,this.yf._v),this.vf=!fn()}Gf(t){const e=vn(t.touches,z(this.ff));if(e===null)return;const s=this.gf(t,e);this.Sf(s,this.yf.uv),this.tf=!0,this.Kd=!0}wf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:is(t)<this.df+500}Sf(t,e){e&&e.call(this.yf,t)}Tf(t,e){e&&e.call(this.yf,t)}gf(t,e){const s=e||t,n=this.Df.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-n.left,localY:s.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,cv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",dv:t.type,fv:s.target,vv:t.view,pv:()=>{t.type!=="touchstart"&&Qe(t)}}}}function Ho(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function Qe(i){i.cancelable&&i.preventDefault()}function te(i){return{nt:i.pageX,st:i.pageY}}function is(i){return i.timeStamp||performance.now()}function vn(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}function ss(i){return{zc:i.zc,mv:{mr:i.bv.externalId},wv:i.bv.cursorStyle}}function ud(i,t,e){for(const s of i){const n=s.gt();if(n!==null&&n.pr){const r=n.pr(t,e);if(r!==null)return{vv:s,mv:r}}}return null}function mn(i,t){return e=>{var s,n,r,o;return((n=(s=e.Dt())===null||s===void 0?void 0:s.xa())!==null&&n!==void 0?n:"")!==t?[]:(o=(r=e.la)===null||r===void 0?void 0:r.call(e,i))!==null&&o!==void 0?o:[]}}class Uo{constructor(t,e,s,n){this.zi=null,this.gv=null,this.Mv=!1,this.xv=new Ni(200),this.Zr=null,this.Sv=0,this.kv=!1,this.yv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Tv=()=>{this.kv||this.Qi.Cv().$t().Nh()},this.Qi=t,this._n=e,this.mo=e.layout,this.yc=s,this.Pv=n==="left",this.Rv=mn("normal",n),this.Dv=mn("top",n),this.Ov=mn("bottom",n),this.Av=document.createElement("div"),this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Av.style.width="25px",this.Av.style.left="0",this.Av.style.position="relative",this.Vv=Ve(this.Av,ht({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const r=this.Vv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Bv=Ve(this.Av,ht({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const o=this.Bv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={tv:this.Iv.bind(this),Jf:this.Iv.bind(this),$f:this.zv.bind(this),jf:this.zv.bind(this),iv:this.Lv.bind(this),Xf:this.Ev.bind(this),qf:this.Ev.bind(this),Pf:this.Nv.bind(this),kf:this.Nv.bind(this),If:this.Fv.bind(this),_v:this.Wv.bind(this)};this.jv=new gr(this.Bv.canvasElement,l,{Ff:()=>!this._n.handleScroll.vertTouchDrag,Wf:()=>!0})}S(){this.jv.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),We(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),We(this.Vv.canvasElement),this.Vv.dispose(),this.zi!==null&&this.zi.$o().p(this),this.zi=null}Hv(){return this.Av}P(){return this.mo.fontSize}$v(){const t=this.yc.W();return this.Zr!==t.R&&(this.xv.Qe(),this.Zr=t.R),t}Uv(){if(this.zi===null)return 0;let t=0;const e=this.$v(),s=z(this.Vv.canvasElement.getContext("2d"));s.save();const n=this.zi.La();s.font=this.qv(),n.length>0&&(t=Math.max(this.xv.Mi(s,n[0].Za),this.xv.Mi(s,n[n.length-1].Za)));const r=this.Yv();for(let h=r.length;h--;){const a=this.xv.Mi(s,r[h].Zt());a>t&&(t=a)}const o=this.zi.Ct();if(o!==null&&this.gv!==null){const h=this.zi.fn(1,o),a=this.zi.fn(this.gv.height-2,o);t=Math.max(t,this.xv.Mi(s,this.zi.Ni(Math.floor(Math.min(h,a))+.11111111111111,o)),this.xv.Mi(s,this.zi.Ni(Math.ceil(Math.max(h,a))-.11111111111111,o)))}s.restore();const l=t||34;return Dn(Math.ceil(e.C+e.T+e.B+e.I+5+l))}Xv(t){this.gv!==null&&$e(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`)}Kv(){return z(this.gv).width}Zi(t){this.zi!==t&&(this.zi!==null&&this.zi.$o().p(this),this.zi=t,t.$o().l(this.ao.bind(this),this))}Dt(){return this.zi}Qe(){const t=this.Qi.Zv();this.Qi.Cv().$t().A_(t,z(this.Dt()))}Gv(t){if(this.gv===null)return;if(t!==1){this.Jv(),this.Vv.applySuggestedBitmapSize();const s=Be(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n),this.Ae(n)}),this.Qi.tp(s,this.Ov),this.ip(s),this.Qi.tp(s,this.Rv),this.np(s))}this.Bv.applySuggestedBitmapSize();const e=Be(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.sp(e),this.Qi.tp(e,this.Dv))}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}bt(){var t;(t=this.zi)===null||t===void 0||t.La()}Iv(t){if(this.zi===null||this.zi.Ei()||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv();this.Mv=!0,e.y_(s,this.zi,t.localY)}zv(t){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv(),n=this.zi;e.C_(s,n,t.localY)}Lv(){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const t=this.Qi.Cv().$t(),e=this.Qi.Zv(),s=this.zi;this.Mv&&(this.Mv=!1,t.T_(e,s))}Ev(t){if(this.zi===null||!this._n.handleScale.axisPressedMouseMove.price)return;const e=this.Qi.Cv().$t(),s=this.Qi.Zv();this.Mv=!1,e.T_(s,this.zi)}Nv(t){this._n.handleScale.axisDoubleClickReset.price&&this.Qe()}Fv(t){this.zi!==null&&(!this.Qi.Cv().$t().W().handleScale.axisPressedMouseMove.price||this.zi.fh()||this.zi.Co()||this.hp(1))}Wv(t){this.hp(0)}Yv(){const t=[],e=this.zi===null?void 0:this.zi;return(s=>{for(let n=0;n<s.length;++n){const r=s[n].Tn(this.Qi.Zv(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.Qi.Zv().No()),t}Qv({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Qi.Zv().$t(),o=r.q(),l=r._d();o===l?Ps(t,0,0,s,n,o):ah(t,0,0,s,n,o,l)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.gv===null||this.zi===null||!this.zi.W().borderVisible)return;t.fillStyle=this.zi.W().borderColor;const n=Math.max(1,Math.floor(this.$v().C*s));let r;r=this.Pv?e.width-n:0,t.fillRect(r,0,n,e.height)}ip(t){if(this.gv===null||this.zi===null)return;const e=this.zi.La(),s=this.zi.W(),n=this.$v(),r=this.Pv?this.gv.width-n.T:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:h})=>{o.fillStyle=s.borderColor;const a=Math.max(1,Math.floor(h)),u=Math.floor(.5*h),c=Math.round(n.T*l);o.beginPath();for(const f of e)o.rect(Math.floor(r*l),Math.round(f.Aa*h)-u,c,a);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this.qv(),o.fillStyle=(l=s.textColor)!==null&&l!==void 0?l:this.mo.textColor,o.textAlign=this.Pv?"right":"left",o.textBaseline="middle";const h=this.Pv?Math.round(r-n.B):Math.round(r+n.T+n.B),a=e.map(u=>this.xv.gi(o,u.Za));for(let u=e.length;u--;){const c=e[u];o.fillText(c.Za,h,c.Aa+a[u])}})}Jv(){if(this.gv===null||this.zi===null)return;let t=this.gv.height/2;const e=[],s=this.zi.No().slice(),n=this.Qi.Zv(),r=this.$v();this.zi===n.cr()&&this.Qi.Zv().No().forEach(h=>{n.ur(h)&&s.push(h)});const o=this.zi.Ta()[0],l=this.zi;s.forEach(h=>{const a=h.Tn(n,l);a.forEach(u=>{u.Oi(null),u.Ai()&&e.push(u)}),o===h&&a.length>0&&(t=a[0].Si())}),e.forEach(h=>h.Oi(h.Si())),this.zi.W().alignLabels&&this.lp(e,r,t)}lp(t,e,s){if(this.gv===null)return;const n=t.filter(o=>o.Si()<=s),r=t.filter(o=>o.Si()>s);n.sort((o,l)=>l.Si()-o.Si()),n.length&&r.length&&r.push(n[0]),r.sort((o,l)=>o.Si()-l.Si());for(const o of t){const l=Math.floor(o.Bt(e)/2),h=o.Si();h>-l&&h<l&&o.Oi(l),h>this.gv.height-l&&h<this.gv.height+l&&o.Oi(this.gv.height-l)}for(let o=1;o<n.length;o++){const l=n[o],h=n[o-1],a=h.Bt(e,!1),u=l.Si(),c=h.Di();u>c-a&&l.Oi(c-a)}for(let o=1;o<r.length;o++){const l=r[o],h=r[o-1],a=h.Bt(e,!0),u=l.Si(),c=h.Di();u<c+a&&l.Oi(c+a)}}np(t){if(this.gv===null)return;const e=this.Yv(),s=this.$v(),n=this.Pv?"right":"left";e.forEach(r=>{r.Vi()&&r.gt(z(this.zi)).K(t,s,this.xv,n)})}sp(t){if(this.gv===null||this.zi===null)return;const e=this.Qi.Cv().$t(),s=[],n=this.Qi.Zv(),r=e.Wc().Tn(n,this.zi);r.length&&s.push(r);const o=this.$v(),l=this.Pv?"right":"left";s.forEach(h=>{h.forEach(a=>{a.gt(z(this.zi)).K(t,o,this.xv,l)})})}hp(t){this.Av.style.cursor=t===1?"ns-resize":"default"}ao(){const t=this.Uv();this.Sv<t&&this.Qi.Cv().$t().$l(),this.Sv=t}qv(){return ai(this.mo.fontSize,this.mo.fontFamily)}}function cd(i,t){var e,s;return(s=(e=i.ra)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function ns(i,t){var e,s;return(s=(e=i.Cn)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function fd(i,t){var e,s;return(s=(e=i.Gi)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}function dd(i,t){var e,s;return(s=(e=i.na)===null||e===void 0?void 0:e.call(i,t))!==null&&s!==void 0?s:[]}class br{constructor(t,e){this.gv=ht({width:0,height:0}),this.ap=null,this.op=null,this._p=null,this.up=!1,this.cp=new vt,this.dp=new vt,this.fp=0,this.vp=!1,this.pp=null,this.mp=!1,this.bp=null,this.wp=null,this.kv=!1,this.yv=()=>{this.kv||this.gp===null||this.Hi().Nh()},this.Tv=()=>{this.kv||this.gp===null||this.Hi().Nh()},this.Mp=t,this.gp=e,this.gp.I_().l(this.xp.bind(this),this,!0),this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.Sp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.yp=document.createElement("td"),this.yp.style.padding="0",this.Sp.appendChild(s),this.Vv=Ve(s,ht({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const n=this.Vv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Bv=Ve(s,ht({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const r=this.Bv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Cp=document.createElement("tr"),this.Cp.appendChild(this.kp),this.Cp.appendChild(this.Sp),this.Cp.appendChild(this.yp),this.Tp(),this.jv=new gr(this.Bv.canvasElement,this,{Ff:()=>this.pp===null&&!this.Mp.W().handleScroll.vertTouchDrag,Wf:()=>this.pp===null&&!this.Mp.W().handleScroll.horzTouchDrag})}S(){this.ap!==null&&this.ap.S(),this.op!==null&&this.op.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),We(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),We(this.Vv.canvasElement),this.Vv.dispose(),this.gp!==null&&this.gp.I_().p(this),this.jv.S()}Zv(){return z(this.gp)}Pp(t){this.gp!==null&&this.gp.I_().p(this),this.gp=t,this.gp!==null&&this.gp.I_().l(br.prototype.xp.bind(this),this,!0),this.Tp()}Cv(){return this.Mp}Hv(){return this.Cp}Tp(){if(this.gp!==null&&(this.Rp(),this.Hi().wt().length!==0)){if(this.ap!==null){const t=this.gp.S_();this.ap.Zi(z(t))}if(this.op!==null){const t=this.gp.k_();this.op.Zi(z(t))}}}Dp(){this.ap!==null&&this.ap.bt(),this.op!==null&&this.op.bt()}v_(){return this.gp!==null?this.gp.v_():0}p_(t){this.gp&&this.gp.p_(t)}If(t){if(!this.gp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t)}tv(t){this.Op(),this.Vp(),this.Ap(t.localX,t.localY,t)}zf(t){var e;if(!this.gp)return;this.Op();const s=t.localX,n=t.localY;this.Ap(s,n,t);const r=this.pr(s,n);this.Mp.Bp((e=r==null?void 0:r.wv)!==null&&e!==void 0?e:null),this.Hi().Ic(r&&{zc:r.zc,mv:r.mv})}Kf(t){this.gp!==null&&(this.Op(),this.Ip(t))}Pf(t){this.gp!==null&&this.zp(this.dp,t)}kf(t){this.Pf(t)}$f(t){this.Op(),this.Lp(t),this.Ap(t.localX,t.localY,t)}Xf(t){this.gp!==null&&(this.Op(),this.vp=!1,this.Ep(t))}Yf(t){this.gp!==null&&this.Ip(t)}uv(t){if(this.vp=!0,this.pp===null){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}_v(t){this.gp!==null&&(this.Op(),this.gp.$t().Ic(null),this.Fp())}Wp(){return this.cp}jp(){return this.dp}ev(){this.fp=1,this.Hi().Hn()}rv(t,e){if(!this.Mp.W().handleScale.pinch)return;const s=5*(e-this.fp);this.fp=e,this.Hi().qc(t.nt,s)}Jf(t){this.vp=!1,this.mp=this.pp!==null,this.Vp();const e=this.Hi().Wc();this.pp!==null&&e.yt()&&(this.bp={x:e.Yt(),y:e.Xt()},this.pp={x:t.localX,y:t.localY})}jf(t){if(this.gp===null)return;const e=t.localX,s=t.localY;if(this.pp===null)this.Lp(t);else{this.mp=!1;const n=z(this.bp),r=n.x+(e-this.pp.x),o=n.y+(s-this.pp.y);this.Ap(r,o,t)}}qf(t){this.Cv().W().trackingMode.exitMode===0&&(this.mp=!0),this.Hp(),this.Ep(t)}pr(t,e){const s=this.gp;return s===null?null:function(n,r,o){const l=n.No(),h=function(a,u,c){var f,d;let m,v;for(const w of a){const E=(d=(f=w.oa)===null||f===void 0?void 0:f.call(w,u,c))!==null&&d!==void 0?d:[];for(const y of E)_=y.zOrder,(!(b=m==null?void 0:m.zOrder)||_==="top"&&b!=="top"||_==="normal"&&b==="bottom")&&(m=y,v=w)}var _,b;return m&&v?{bv:m,zc:v}:null}(l,r,o);if((h==null?void 0:h.bv.zOrder)==="top")return ss(h);for(const a of l){if(h&&h.zc===a&&h.bv.zOrder!=="bottom"&&!h.bv.isBackground)return ss(h);const u=ud(a.Cn(n),r,o);if(u!==null)return{zc:a,vv:u.vv,mv:u.mv};if(h&&h.zc===a&&h.bv.zOrder!=="bottom"&&h.bv.isBackground)return ss(h)}return h!=null&&h.bv?ss(h):null}(s,t,e)}$p(t,e){z(e==="left"?this.ap:this.op).Xv(ht({width:t,height:this.gv.height}))}Up(){return this.gv}Xv(t){$e(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Sp.style.width=t.width+"px",this.Sp.style.height=t.height+"px")}qp(){const t=z(this.gp);t.x_(t.S_()),t.x_(t.k_());for(const e of t.Ta())if(t.ur(e)){const s=e.Dt();s!==null&&t.x_(s),e.Rn()}}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Gv(t){if(t===0||this.gp===null)return;if(t>1&&this.qp(),this.ap!==null&&this.ap.Gv(t),this.op!==null&&this.op.Gv(t),t!==1){this.Vv.applySuggestedBitmapSize();const s=Be(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n)}),this.gp&&(this.Yp(s,cd),this.Xp(s),this.Kp(s),this.Yp(s,ns),this.Yp(s,fd)))}this.Bv.applySuggestedBitmapSize();const e=Be(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.Zp(e),this.Yp(e,dd))}Gp(){return this.ap}Jp(){return this.op}tp(t,e){this.Yp(t,e)}xp(){this.gp!==null&&this.gp.I_().p(this),this.gp=null}Ip(t){this.zp(this.cp,t)}zp(t,e){const s=e.localX,n=e.localY;t.M()&&t.m(this.Hi().St().Vu(s),{x:s,y:n},e)}Qv({context:t,bitmapSize:e}){const{width:s,height:n}=e,r=this.Hi(),o=r.q(),l=r._d();o===l?Ps(t,0,0,s,n,l):ah(t,0,0,s,n,o,l)}Xp(t){const e=z(this.gp).z_().Fh().gt();e!==null&&e.K(t,!1)}Kp(t){const e=this.Hi().Fc();this.Qp(t,ns,Bn,e),this.Qp(t,ns,cs,e)}Zp(t){this.Qp(t,ns,cs,this.Hi().Wc())}Yp(t,e){const s=z(this.gp).No();for(const n of s)this.Qp(t,e,Bn,n);for(const n of s)this.Qp(t,e,cs,n)}Qp(t,e,s,n){const r=z(this.gp),o=r.$t().Bc(),l=o!==null&&o.zc===n,h=o!==null&&l&&o.mv!==void 0?o.mv.br:void 0;Fn(e,a=>s(a,t,l,h),n,r)}Rp(){if(this.gp===null)return;const t=this.Mp,e=this.gp.S_().W().visible,s=this.gp.k_().W().visible;e||this.ap===null||(this.kp.removeChild(this.ap.Hv()),this.ap.S(),this.ap=null),s||this.op===null||(this.yp.removeChild(this.op.Hv()),this.op.S(),this.op=null);const n=t.$t().ed();e&&this.ap===null&&(this.ap=new Uo(this,t.W(),n,"left"),this.kp.appendChild(this.ap.Hv())),s&&this.op===null&&(this.op=new Uo(this,t.W(),n,"right"),this.yp.appendChild(this.op.Hv()))}tm(t){return t.cv&&this.vp||this.pp!==null}im(t){return Math.max(0,Math.min(t,this.gv.width-1))}nm(t){return Math.max(0,Math.min(t,this.gv.height-1))}Ap(t,e,s){this.Hi().Qc(this.im(t),this.nm(e),s,z(this.gp))}Fp(){this.Hi().nd()}Hp(){this.mp&&(this.pp=null,this.Fp())}Np(t,e,s){this.pp=t,this.mp=!1,this.Ap(e.x,e.y,s);const n=this.Hi().Wc();this.bp={x:n.Yt(),y:n.Xt()}}Hi(){return this.Mp.$t()}Ep(t){if(!this.up)return;const e=this.Hi(),s=this.Zv();if(e.D_(s,s.dn()),this._p=null,this.up=!1,e.Zc(),this.wp!==null){const n=performance.now(),r=e.St();this.wp.Pr(r.Lu(),n),this.wp.Yu(n)||e.qn(this.wp)}}Op(){this.pp=null}Vp(){if(this.gp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)z(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.gp.dn().Ei()&&this.Hi().St().Ei()}}Lp(t){if(this.gp===null)return;const e=this.Hi(),s=e.St();if(s.Ei())return;const n=this.Mp.W(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||t.cv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.cv))return;const l=this.gp.dn(),h=performance.now();if(this._p!==null||this.tm(t)||(this._p={x:t.clientX,y:t.clientY,yd:h,sm:t.localX,rm:t.localY}),this._p!==null&&!this.up&&(this._p.x!==t.clientX||this._p.y!==t.clientY)){if(t.cv&&o.touch||!t.cv&&o.mouse){const a=s.ee();this.wp=new hd(.2/a,7/a,.997,15/a),this.wp.Fd(s.Lu(),this._p.yd)}else this.wp=null;l.Ei()||e.P_(this.gp,l,t.localY),e.Xc(t.localX),this.up=!0}this.up&&(l.Ei()||e.R_(this.gp,l,t.localY),e.Kc(t.localX),this.wp!==null&&this.wp.Fd(s.Lu(),h))}}class Ko{constructor(t,e,s,n,r){this.ft=!0,this.gv=ht({width:0,height:0}),this.yv=()=>this.Gv(3),this.Pv=t==="left",this.yc=s.ed,this._n=e,this.hm=n,this.lm=r,this.Av=document.createElement("div"),this.Av.style.width="25px",this.Av.style.height="100%",this.Av.style.overflow="hidden",this.Vv=Ve(this.Av,ht({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv)}S(){this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),We(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.Av}Up(){return this.gv}Xv(t){$e(this.gv,t)||(this.gv=t,this.Vv.resizeCanvasElement(t),this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.ft=!0)}Gv(t){if(t<3&&!this.ft||this.gv.width===0||this.gv.height===0)return;this.ft=!1,this.Vv.applySuggestedBitmapSize();const e=Be(this.Vv);e!==null&&e.useBitmapCoordinateSpace(s=>{this.Qv(s),this.Ae(s)})}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(!this.hm())return;t.fillStyle=this._n.timeScale.borderColor;const r=Math.floor(this.yc.W().C*s),o=Math.floor(this.yc.W().C*n),l=this.Pv?e.width-r:0;t.fillRect(l,0,r,o)}Qv({context:t,bitmapSize:e}){Ps(t,0,0,e.width,e.height,this.lm())}}function wr(i){return t=>{var e,s;return(s=(e=t.aa)===null||e===void 0?void 0:e.call(t,i))!==null&&s!==void 0?s:[]}}const pd=wr("normal"),vd=wr("top"),md=wr("bottom");class gd{constructor(t,e){this.am=null,this.om=null,this.k=null,this._m=!1,this.gv=ht({width:0,height:0}),this.um=new vt,this.xv=new Ni(5),this.kv=!1,this.yv=()=>{this.kv||this.Mp.$t().Nh()},this.Tv=()=>{this.kv||this.Mp.$t().Nh()},this.Mp=t,this.N_=e,this._n=t.W().layout,this.dm=document.createElement("tr"),this.fm=document.createElement("td"),this.fm.style.padding="0",this.vm=document.createElement("td"),this.vm.style.padding="0",this.Av=document.createElement("td"),this.Av.style.height="25px",this.Av.style.padding="0",this.pm=document.createElement("div"),this.pm.style.width="100%",this.pm.style.height="100%",this.pm.style.position="relative",this.pm.style.overflow="hidden",this.Av.appendChild(this.pm),this.Vv=Ve(this.pm,ht({width:16,height:16})),this.Vv.subscribeSuggestedBitmapSizeChanged(this.yv);const s=this.Vv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Bv=Ve(this.pm,ht({width:16,height:16})),this.Bv.subscribeSuggestedBitmapSizeChanged(this.Tv);const n=this.Bv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.dm.appendChild(this.fm),this.dm.appendChild(this.Av),this.dm.appendChild(this.vm),this.bm(),this.Mp.$t().f_().l(this.bm.bind(this),this),this.jv=new gr(this.Bv.canvasElement,this,{Ff:()=>!0,Wf:()=>!this.Mp.W().handleScroll.horzTouchDrag})}S(){this.jv.S(),this.am!==null&&this.am.S(),this.om!==null&&this.om.S(),this.Bv.unsubscribeSuggestedBitmapSizeChanged(this.Tv),We(this.Bv.canvasElement),this.Bv.dispose(),this.Vv.unsubscribeSuggestedBitmapSizeChanged(this.yv),We(this.Vv.canvasElement),this.Vv.dispose()}Hv(){return this.dm}wm(){return this.am}gm(){return this.om}tv(t){if(this._m)return;this._m=!0;const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Uc(t.localX)}Jf(t){this.tv(t)}iv(){const t=this.Mp.$t();!t.St().Ei()&&this._m&&(this._m=!1,this.Mp.W().handleScale.axisPressedMouseMove.time&&t.Jc())}$f(t){const e=this.Mp.$t();!e.St().Ei()&&this.Mp.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}jf(t){this.$f(t)}Xf(){this._m=!1;const t=this.Mp.$t();t.St().Ei()&&!this.Mp.W().handleScale.axisPressedMouseMove.time||t.Jc()}qf(){this.Xf()}Pf(){this.Mp.W().handleScale.axisDoubleClickReset.time&&this.Mp.$t().Xn()}kf(){this.Pf()}If(){this.Mp.$t().W().handleScale.axisPressedMouseMove.time&&this.hp(1)}_v(){this.hp(0)}Up(){return this.gv}Mm(){return this.um}xm(t,e,s){$e(this.gv,t)||(this.gv=t,this.kv=!0,this.Vv.resizeCanvasElement(t),this.Bv.resizeCanvasElement(t),this.kv=!1,this.Av.style.width=`${t.width}px`,this.Av.style.height=`${t.height}px`,this.um.m(t)),this.am!==null&&this.am.Xv(ht({width:e,height:t.height})),this.om!==null&&this.om.Xv(ht({width:s,height:t.height}))}Sm(){const t=this.km();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.ym)}bt(){this.Mp.$t().St().La()}ep(){return this.Vv.bitmapSize}rp(t,e,s){const n=this.ep();n.width>0&&n.height>0&&t.drawImage(this.Vv.canvasElement,e,s)}Gv(t){if(t===0)return;if(t!==1){this.Vv.applySuggestedBitmapSize();const s=Be(this.Vv);s!==null&&(s.useBitmapCoordinateSpace(n=>{this.Qv(n),this.Ae(n),this.Cm(s,md)}),this.ip(s),this.Cm(s,pd)),this.am!==null&&this.am.Gv(t),this.om!==null&&this.om.Gv(t)}this.Bv.applySuggestedBitmapSize();const e=Be(this.Bv);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:n})=>{s.clearRect(0,0,n.width,n.height)}),this.Tm([...this.Mp.$t().wt(),this.Mp.$t().Wc()],e),this.Cm(e,vd))}Cm(t,e){const s=this.Mp.$t().wt();for(const n of s)Fn(e,r=>Bn(r,t,!1,void 0),n,void 0);for(const n of s)Fn(e,r=>cs(r,t,!1,void 0),n,void 0)}Qv({context:t,bitmapSize:e}){Ps(t,0,0,e.width,e.height,this.Mp.$t()._d())}Ae({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Mp.W().timeScale.borderVisible){t.fillStyle=this.Pm();const n=Math.max(1,Math.floor(this.km().C*s));t.fillRect(0,0,e.width,n)}}ip(t){const e=this.Mp.$t().St(),s=e.La();if(!s||s.length===0)return;const n=this.N_.maxTickMarkWeight(s),r=this.km(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:h,verticalPixelRatio:a})=>{l.strokeStyle=this.Pm(),l.fillStyle=this.Pm();const u=Math.max(1,Math.floor(h)),c=Math.floor(.5*h);l.beginPath();const f=Math.round(r.T*a);for(let d=s.length;d--;){const m=Math.round(s[d].coord*h);l.rect(m-c,0,u,f)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const h=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this.qv();for(const a of s)if(a.weight<n){const u=a.needAlignCoordinate?this.Rm(l,a.coord,a.label):a.coord;l.fillText(a.label,u,h)}this.Mp.W().timeScale.allowBoldLabels&&(l.font=this.Dm());for(const a of s)if(a.weight>=n){const u=a.needAlignCoordinate?this.Rm(l,a.coord,a.label):a.coord;l.fillText(a.label,u,h)}})}Rm(t,e,s){const n=this.xv.Mi(t,s),r=n/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+n>this.gv.width&&(e-=Math.abs(this.gv.width-(o+n))),e}Tm(t,e){const s=this.km();for(const n of t)for(const r of n.Ji())r.gt().K(e,s)}Pm(){return this.Mp.W().timeScale.borderColor}$(){return this._n.textColor}j(){return this._n.fontSize}qv(){return ai(this.j(),this._n.fontFamily)}Dm(){return ai(this.j(),this._n.fontFamily,"bold")}km(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Wi:NaN,T:5,P:NaN,R:"",Fi:new Ni,ym:0});const t=this.k,e=this.qv();if(t.R!==e){const s=this.j();t.P=s,t.R=e,t.L=3*s/12,t.V=3*s/12,t.Wi=9*s/12,t.N=0,t.ym=4*s/12,t.Fi.Qe()}return this.k}hp(t){this.Av.style.cursor=t===1?"ew-resize":"default"}bm(){const t=this.Mp.$t(),e=t.W();e.leftPriceScale.visible||this.am===null||(this.fm.removeChild(this.am.Hv()),this.am.S(),this.am=null),e.rightPriceScale.visible||this.om===null||(this.vm.removeChild(this.om.Hv()),this.om.S(),this.om=null);const s={ed:this.Mp.$t().ed()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t._d();e.leftPriceScale.visible&&this.am===null&&(this.am=new Ko("left",e,s,n,r),this.fm.appendChild(this.am.Hv())),e.rightPriceScale.visible&&this.om===null&&(this.om=new Ko("right",e,s,n,r),this.vm.appendChild(this.om.Hv()))}}const bd=!!ui&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!ui&&(!((gn=navigator==null?void 0:navigator.userAgentData)===null||gn===void 0)&&gn.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var gn;class wd{constructor(t,e,s){var n;this.Om=[],this.Am=0,this.Qa=0,this.e_=0,this.Vm=0,this.Bm=0,this.Im=null,this.zm=!1,this.cp=new vt,this.dp=new vt,this.xc=new vt,this.Lm=null,this.Em=null,this.Nm=t,this._n=e,this.N_=s,this.dm=document.createElement("div"),this.dm.classList.add("tv-lightweight-charts"),this.dm.style.overflow="hidden",this.dm.style.direction="ltr",this.dm.style.width="100%",this.dm.style.height="100%",(n=this.dm).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Fm=document.createElement("table"),this.Fm.setAttribute("cellspacing","0"),this.dm.appendChild(this.Fm),this.Wm=this.jm.bind(this),bn(this._n)&&this.Hm(!0),this.Hi=new sd(this.kc.bind(this),this._n,s),this.$t().jc().l(this.$m.bind(this),this),this.Um=new gd(this,this.N_),this.Fm.appendChild(this.Um.Hv());const r=e.autoSize&&this.qm();let o=this._n.width,l=this._n.height;if(r||o===0||l===0){const h=t.getBoundingClientRect();o=o||h.width,l=l||h.height}this.Ym(o,l),this.Xm(),t.appendChild(this.dm),this.Km(),this.Hi.St().Gu().l(this.Hi.$l.bind(this.Hi),this),this.Hi.f_().l(this.Hi.$l.bind(this.Hi),this)}$t(){return this.Hi}W(){return this._n}Zm(){return this.Om}Gm(){return this.Um}S(){this.Hm(!1),this.Am!==0&&window.cancelAnimationFrame(this.Am),this.Hi.jc().p(this),this.Hi.St().Gu().p(this),this.Hi.f_().p(this),this.Hi.S();for(const t of this.Om)this.Fm.removeChild(t.Hv()),t.Wp().p(this),t.jp().p(this),t.S();this.Om=[],z(this.Um).S(),this.dm.parentElement!==null&&this.dm.parentElement.removeChild(this.dm),this.xc.S(),this.cp.S(),this.dp.S(),this.Jm()}Ym(t,e,s=!1){if(this.Qa===e&&this.e_===t)return;const n=function(l){const h=Math.floor(l.width),a=Math.floor(l.height);return ht({width:h-h%2,height:a-a%2})}(ht({width:t,height:e}));this.Qa=n.height,this.e_=n.width;const r=this.Qa+"px",o=this.e_+"px";z(this.dm).style.height=r,z(this.dm).style.width=o,this.Fm.style.height=r,this.Fm.style.width=o,s?this.Qm(wt.ns(),performance.now()):this.Hi.$l()}Gv(t){t===void 0&&(t=wt.ns());for(let e=0;e<this.Om.length;e++)this.Om[e].Gv(t.Wn(e).En);this._n.timeScale.visible&&this.Um.Gv(t.Fn())}Eh(t){const e=bn(this._n);this.Hi.Eh(t);const s=bn(this._n);s!==e&&this.Hm(s),this.Km(),this.tb(t)}Wp(){return this.cp}jp(){return this.dp}jc(){return this.xc}ib(){this.Im!==null&&(this.Qm(this.Im,performance.now()),this.Im=null);const t=this.nb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=z(e.getContext("2d"));return this.nb(s),e}sb(t){return t==="left"&&!this.eb()||t==="right"&&!this.rb()||this.Om.length===0?0:z(t==="left"?this.Om[0].Gp():this.Om[0].Jp()).Kv()}hb(){return this._n.autoSize&&this.Lm!==null}lb(){return this.dm}Bp(t){this.Em=t,this.Em?this.lb().style.setProperty("cursor",t):this.lb().style.removeProperty("cursor")}ab(){return this.Em}ob(){return It(this.Om[0]).Up()}tb(t){(t.autoSize!==void 0||!this.Lm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Lm&&this.qm(),t.autoSize===!1&&this.Lm!==null&&this.Jm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Ym(t.width||this.e_,t.height||this.Qa))}nb(t){let e=0,s=0;const n=this.Om[0],r=(l,h)=>{let a=0;for(let u=0;u<this.Om.length;u++){const c=this.Om[u],f=z(l==="left"?c.Gp():c.Jp()),d=f.ep();t!==null&&f.rp(t,h,a),a+=d.height}};this.eb()&&(r("left",0),e+=z(n.Gp()).ep().width);for(let l=0;l<this.Om.length;l++){const h=this.Om[l],a=h.ep();t!==null&&h.rp(t,e,s),s+=a.height}e+=n.ep().width,this.rb()&&(r("right",e),e+=z(n.Jp()).ep().width);const o=(l,h,a)=>{z(l==="left"?this.Um.wm():this.Um.gm()).rp(z(t),h,a)};if(this._n.timeScale.visible){const l=this.Um.ep();if(t!==null){let h=0;this.eb()&&(o("left",h,s),h=z(n.Gp()).ep().width),this.Um.rp(t,h,s),h+=l.width,this.rb()&&o("right",h,s)}s+=l.height}return ht({width:e,height:s})}_b(){let t=0,e=0,s=0;for(const m of this.Om)this.eb()&&(e=Math.max(e,z(m.Gp()).Uv(),this._n.leftPriceScale.minimumWidth)),this.rb()&&(s=Math.max(s,z(m.Jp()).Uv(),this._n.rightPriceScale.minimumWidth)),t+=m.v_();e=Dn(e),s=Dn(s);const n=this.e_,r=this.Qa,o=Math.max(n-e-s,0),l=this._n.timeScale.visible;let h=l?Math.max(this.Um.Sm(),this._n.timeScale.minimumHeight):0;var a;h=(a=h)+a%2;const u=0+h,c=r<u?0:r-u,f=c/t;let d=0;for(let m=0;m<this.Om.length;++m){const v=this.Om[m];v.Pp(this.Hi.Nc()[m]);let _=0,b=0;b=m===this.Om.length-1?c-d:Math.round(v.v_()*f),_=Math.max(b,2),d+=_,v.Xv(ht({width:o,height:_})),this.eb()&&v.$p(e,"left"),this.rb()&&v.$p(s,"right"),v.Zv()&&this.Hi.Hc(v.Zv(),_)}this.Um.xm(ht({width:l?o:0,height:h}),l?e:0,l?s:0),this.Hi.m_(o),this.Vm!==e&&(this.Vm=e),this.Bm!==s&&(this.Bm=s)}Hm(t){t?this.dm.addEventListener("wheel",this.Wm,{passive:!1}):this.dm.removeEventListener("wheel",this.Wm)}ub(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return bd?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this._n.handleScroll.mouseWheel||t.deltaY!==0&&this._n.handleScale.mouseWheel))return;const e=this.ub(t),s=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),n!==0&&this._n.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=t.clientX-this.dm.getBoundingClientRect().left;this.$t().qc(o,r)}s!==0&&this._n.handleScroll.mouseWheel&&this.$t().Yc(-80*s)}Qm(t,e){var s;const n=t.Fn();n===3&&this.cb(),n!==3&&n!==2||(this.fb(t),this.vb(t,e),this.Um.bt(),this.Om.forEach(r=>{r.Dp()}),((s=this.Im)===null||s===void 0?void 0:s.Fn())===3&&(this.Im.Jn(t),this.cb(),this.fb(this.Im),this.vb(this.Im,e),t=this.Im,this.Im=null)),this.Gv(t)}vb(t,e){for(const s of t.Gn())this.Qn(s,e)}fb(t){const e=this.Hi.Nc();for(let s=0;s<e.length;s++)t.Wn(s).Nn&&e[s].V_()}Qn(t,e){const s=this.Hi.St();switch(t.$n){case 0:s.Qu();break;case 1:s.tc(t.Ot);break;case 2:s.Kn(t.Ot);break;case 3:s.Zn(t.Ot);break;case 4:s.Fu();break;case 5:t.Ot.Yu(e)||s.Zn(t.Ot.Xu(e))}}kc(t){this.Im!==null?this.Im.Jn(t):this.Im=t,this.zm||(this.zm=!0,this.Am=window.requestAnimationFrame(e=>{if(this.zm=!1,this.Am=0,this.Im!==null){const s=this.Im;this.Im=null,this.Qm(s,e);for(const n of s.Gn())if(n.$n===5&&!n.Ot.Yu(e)){this.$t().qn(n.Ot);break}}}))}cb(){this.Xm()}Xm(){const t=this.Hi.Nc(),e=t.length,s=this.Om.length;for(let n=e;n<s;n++){const r=It(this.Om.pop());this.Fm.removeChild(r.Hv()),r.Wp().p(this),r.jp().p(this),r.S()}for(let n=s;n<e;n++){const r=new br(this,t[n]);r.Wp().l(this.pb.bind(this),this),r.jp().l(this.mb.bind(this),this),this.Om.push(r),this.Fm.insertBefore(r.Hv(),this.Um.Hv())}for(let n=0;n<e;n++){const r=t[n],o=this.Om[n];o.Zv()!==r?o.Pp(r):o.Tp()}this.Km(),this._b()}bb(t,e,s){var n;const r=new Map;t!==null&&this.Hi.wt().forEach(u=>{const c=u.Vn().il(t);c!==null&&r.set(u,c)});let o;if(t!==null){const u=(n=this.Hi.St().$i(t))===null||n===void 0?void 0:n.originalTime;u!==void 0&&(o=u)}const l=this.$t().Bc(),h=l!==null&&l.zc instanceof vr?l.zc:void 0,a=l!==null&&l.mv!==void 0?l.mv.mr:void 0;return{wb:o,ie:t??void 0,gb:e??void 0,Mb:h,xb:r,Sb:a,kb:s??void 0}}pb(t,e,s){this.cp.m(()=>this.bb(t,e,s))}mb(t,e,s){this.dp.m(()=>this.bb(t,e,s))}$m(t,e,s){this.xc.m(()=>this.bb(t,e,s))}Km(){const t=this._n.timeScale.visible?"":"none";this.Um.Hv().style.display=t}eb(){return this.Om[0].Zv().S_().W().visible}rb(){return this.Om[0].Zv().k_().W().visible}qm(){return"ResizeObserver"in window&&(this.Lm=new ResizeObserver(t=>{const e=t.find(s=>s.target===this.Nm);e&&this.Ym(e.contentRect.width,e.contentRect.height)}),this.Lm.observe(this.Nm,{box:"border-box"}),!0)}Jm(){this.Lm!==null&&this.Lm.disconnect(),this.Lm=null}}function bn(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function zh(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(s=Object.getOwnPropertySymbols(i);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(i,s[n])&&(e[s[n]]=i[s[n]])}return e}function Zo(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.color!==void 0&&(r.O=e.color),r}function _d(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.ys=e.topColor),e.bottomColor!==void 0&&(r.Cs=e.bottomColor),r}function yd(i,t,e,s){const n=e.value,r={ie:t,ot:i,Ot:[n,n,n,n],wb:s};return e.topLineColor!==void 0&&(r.Ce=e.topLineColor),e.bottomLineColor!==void 0&&(r.Te=e.bottomLineColor),e.topFillColor1!==void 0&&(r.Me=e.topFillColor1),e.topFillColor2!==void 0&&(r.xe=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Se=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.ke=e.bottomFillColor2),r}function xd(i,t,e,s){const n={ie:t,ot:i,Ot:[e.open,e.high,e.low,e.close],wb:s};return e.color!==void 0&&(n.O=e.color),n}function Sd(i,t,e,s){const n={ie:t,ot:i,Ot:[e.open,e.high,e.low,e.close],wb:s};return e.color!==void 0&&(n.O=e.color),e.borderColor!==void 0&&(n.At=e.borderColor),e.wickColor!==void 0&&(n.Hh=e.wickColor),n}function Md(i,t,e,s,n){const r=It(n)(e),o=Math.max(...r),l=Math.min(...r),h=r[r.length-1],a=[h,o,l,h],u=e,{time:c,color:f}=u;return{ie:t,ot:i,Ot:a,wb:s,We:zh(u,["time","color"]),O:f}}function rs(i){return i.Ot!==void 0}function qo(i,t){return t.customValues!==void 0&&(i.yb=t.customValues),i}function ze(i){return(t,e,s,n,r,o)=>function(l,h){return h?h(l):(a=l).open===void 0&&a.value===void 0;var a}(s,o)?qo({ot:t,ie:e,wb:n},s):qo(i(t,e,s,n,r),s)}function Yo(i){return{Candlestick:ze(Sd),Bar:ze(xd),Area:ze(_d),Baseline:ze(yd),Histogram:ze(Zo),Line:ze(Zo),Custom:ze(Md)}[i]}function Qo(i){return{ie:0,Cb:new Map,ia:i}}function Xo(i,t){if(i!==void 0&&i.length!==0)return{Tb:t.key(i[0].ot),Pb:t.key(i[i.length-1].ot)}}function Go(i){let t;return i.forEach(e=>{t===void 0&&(t=e.wb)}),It(t)}class Cd{constructor(t){this.Rb=new Map,this.Db=new Map,this.Ob=new Map,this.Ab=[],this.N_=t}S(){this.Rb.clear(),this.Db.clear(),this.Ob.clear(),this.Ab=[]}Vb(t,e){let s=this.Rb.size!==0,n=!1;const r=this.Db.get(t);if(r!==void 0)if(this.Db.size===1)s=!1,n=!0,this.Rb.clear();else for(const h of this.Ab)h.pointData.Cb.delete(t)&&(n=!0);let o=[];if(e.length!==0){const h=e.map(d=>d.time),a=this.N_.createConverterToInternalObj(e),u=Yo(t.Yh()),c=t.ga(),f=t.Ma();o=e.map((d,m)=>{const v=a(d.time),_=this.N_.key(v);let b=this.Rb.get(_);b===void 0&&(b=Qo(v),this.Rb.set(_,b),n=!0);const w=u(v,b.ie,d,h[m],c,f);return b.Cb.set(t,w),w})}s&&this.Bb(),this.Ib(t,o);let l=-1;if(n){const h=[];this.Rb.forEach(a=>{h.push({timeWeight:0,time:a.ia,pointData:a,originalTime:Go(a.Cb)})}),h.sort((a,u)=>this.N_.key(a.time)-this.N_.key(u.time)),l=this.zb(h)}return this.Lb(t,l,function(h,a,u){const c=Xo(h,u),f=Xo(a,u);if(c!==void 0&&f!==void 0)return{Xl:c.Pb>=f.Pb&&c.Tb>=f.Tb}}(this.Db.get(t),r,this.N_))}ld(t){return this.Vb(t,[])}Eb(t,e){const s=e;(function(v){v.wb===void 0&&(v.wb=v.time)})(s),this.N_.preprocessData(e);const n=this.N_.createConverterToInternalObj([e])(e.time),r=this.Ob.get(t);if(r!==void 0&&this.N_.key(n)<this.N_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${n}`);let o=this.Rb.get(this.N_.key(n));const l=o===void 0;o===void 0&&(o=Qo(n),this.Rb.set(this.N_.key(n),o));const h=Yo(t.Yh()),a=t.ga(),u=t.Ma(),c=h(n,o.ie,e,s.wb,a,u);o.Cb.set(t,c),this.Nb(t,c);const f={Xl:rs(c)};if(!l)return this.Lb(t,-1,f);const d={timeWeight:0,time:o.ia,pointData:o,originalTime:Go(o.Cb)},m=Vi(this.Ab,this.N_.key(d.time),(v,_)=>this.N_.key(v.time)<_);this.Ab.splice(m,0,d);for(let v=m;v<this.Ab.length;++v)wn(this.Ab[v].pointData,v);return this.N_.fillWeightsForPoints(this.Ab,m),this.Lb(t,m,f)}Nb(t,e){let s=this.Db.get(t);s===void 0&&(s=[],this.Db.set(t,s));const n=s.length!==0?s[s.length-1]:null;n===null||this.N_.key(e.ot)>this.N_.key(n.ot)?rs(e)&&s.push(e):rs(e)?s[s.length-1]=e:s.splice(-1,1),this.Ob.set(t,e.ot)}Ib(t,e){e.length!==0?(this.Db.set(t,e.filter(rs)),this.Ob.set(t,e[e.length-1].ot)):(this.Db.delete(t),this.Ob.delete(t))}Bb(){for(const t of this.Ab)t.pointData.Cb.size===0&&this.Rb.delete(this.N_.key(t.time))}zb(t){let e=-1;for(let s=0;s<this.Ab.length&&s<t.length;++s){const n=this.Ab[s],r=t[s];if(this.N_.key(n.time)!==this.N_.key(r.time)){e=s;break}r.timeWeight=n.timeWeight,wn(r.pointData,s)}if(e===-1&&this.Ab.length!==t.length&&(e=Math.min(this.Ab.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)wn(t[s].pointData,s);return this.N_.fillWeightsForPoints(t,e),this.Ab=t,e}Fb(){if(this.Db.size===0)return null;let t=0;return this.Db.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].ie))}),t}Lb(t,e,s){const n={Wb:new Map,St:{Au:this.Fb()}};if(e!==-1)this.Db.forEach((r,o)=>{n.Wb.set(o,{We:r,jb:o===t?s:void 0})}),this.Db.has(t)||n.Wb.set(t,{We:[],jb:s}),n.St.Hb=this.Ab,n.St.$b=e;else{const r=this.Db.get(t);n.Wb.set(t,{We:r||[],jb:s})}return n}}function wn(i,t){i.ie=t,i.Cb.forEach(e=>{e.ie=t})}function _r(i){const t={value:i.Ot[3],time:i.wb};return i.yb!==void 0&&(t.customValues=i.yb),t}function Jo(i){const t=_r(i);return i.O!==void 0&&(t.color=i.O),t}function Ed(i){const t=_r(i);return i.lt!==void 0&&(t.lineColor=i.lt),i.ys!==void 0&&(t.topColor=i.ys),i.Cs!==void 0&&(t.bottomColor=i.Cs),t}function Od(i){const t=_r(i);return i.Ce!==void 0&&(t.topLineColor=i.Ce),i.Te!==void 0&&(t.bottomLineColor=i.Te),i.Me!==void 0&&(t.topFillColor1=i.Me),i.xe!==void 0&&(t.topFillColor2=i.xe),i.Se!==void 0&&(t.bottomFillColor1=i.Se),i.ke!==void 0&&(t.bottomFillColor2=i.ke),t}function Th(i){const t={open:i.Ot[0],high:i.Ot[1],low:i.Ot[2],close:i.Ot[3],time:i.wb};return i.yb!==void 0&&(t.customValues=i.yb),t}function zd(i){const t=Th(i);return i.O!==void 0&&(t.color=i.O),t}function Td(i){const t=Th(i),{O:e,At:s,Hh:n}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),n!==void 0&&(t.wickColor=n),t}function Vn(i){return{Area:Ed,Line:Jo,Baseline:Od,Histogram:Jo,Bar:zd,Candlestick:Td,Custom:Id}[i]}function Id(i){const t=i.wb;return Object.assign(Object.assign({},i.We),{time:t})}const Rd={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Pd={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},kd={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:ar},_n={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Ld={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Nd={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ar,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function tl(){return{width:0,height:0,autoSize:!1,layout:kd,crosshair:Rd,grid:Pd,overlayPriceScales:Object.assign({},_n),leftPriceScale:Object.assign(Object.assign({},_n),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},_n),{visible:!0}),timeScale:Ld,watermark:Nd,localization:{locale:ui?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}let $d=class{constructor(t,e){this.Ub=t,this.qb=e}applyOptions(t){this.Ub.$t().Lc(this.qb,t)}options(){return this.zi().W()}width(){return Ls(this.qb)?this.Ub.sb(this.qb):0}zi(){return z(this.Ub.$t().Ec(this.qb)).Dt}};function el(i,t,e){const s=zh(i,["time","originalTime"]),n=Object.assign({time:t},s);return e!==void 0&&(n.originalTime=e),n}const Ad={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};let Dd=class{constructor(t){this.Vh=t}applyOptions(t){this.Vh.Eh(t)}options(){return this.Vh.W()}Yb(){return this.Vh}};class Bd{constructor(t,e,s,n,r){this.Xb=new vt,this.Is=t,this.Kb=e,this.Zb=s,this.N_=r,this.Gb=n}S(){this.Xb.S()}priceFormatter(){return this.Is.ca()}priceToCoordinate(t){const e=this.Is.Ct();return e===null?null:this.Is.Dt().Rt(t,e.Ot)}coordinateToPrice(t){const e=this.Is.Ct();return e===null?null:this.Is.Dt().fn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new oi(new zi(t.from,t.to)).iu(),s=this.Is.Vn();if(s.Ei())return null;const n=s.il(e.Rs(),1),r=s.il(e.ui(),-1),o=z(s.Jh()),l=z(s.An());if(n!==null&&r!==null&&n.ie>r.ie)return{barsBefore:t.from-o,barsAfter:l-t.to};const h={barsBefore:n===null||n.ie===o?t.from-o:n.ie-o,barsAfter:r===null||r.ie===l?l-t.to:l-r.ie};return n!==null&&r!==null&&(h.from=n.wb,h.to=r.wb),h}setData(t){this.N_,this.Is.Yh(),this.Kb.Jb(this.Is,t),this.Qb("full")}update(t){this.Is.Yh(),this.Kb.tw(this.Is,t),this.Qb("update")}dataByIndex(t,e){const s=this.Is.Vn().il(t,e);return s===null?null:Vn(this.seriesType())(s)}data(){const t=Vn(this.seriesType());return this.Is.Vn().Qs().map(e=>t(e))}subscribeDataChanged(t){this.Xb.l(t)}unsubscribeDataChanged(t){this.Xb.v(t)}setMarkers(t){this.N_;const e=t.map(s=>el(s,this.N_.convertHorzItemToInternal(s.time),s.time));this.Is.Zl(e)}markers(){return this.Is.Gl().map(t=>el(t,t.originalTime,void 0))}applyOptions(t){this.Is.Eh(t)}options(){return ue(this.Is.W())}priceScale(){return this.Zb.priceScale(this.Is.Dt().xa())}createPriceLine(t){const e=Qt(ue(Ad),t),s=this.Is.Jl(e);return new Dd(s)}removePriceLine(t){this.Is.Ql(t.Yb())}seriesType(){return this.Is.Yh()}attachPrimitive(t){this.Is.ba(t),t.attached&&t.attached({chart:this.Gb,series:this,requestUpdate:()=>this.Is.$t().$l()})}detachPrimitive(t){this.Is.wa(t),t.detached&&t.detached()}Qb(t){this.Xb.M()&&this.Xb.m(t)}}let Fd=class{constructor(t,e,s){this.iw=new vt,this.uu=new vt,this.um=new vt,this.Hi=t,this.wl=t.St(),this.Um=e,this.wl.Ku().l(this.nw.bind(this)),this.wl.Zu().l(this.sw.bind(this)),this.Um.Mm().l(this.ew.bind(this)),this.N_=s}S(){this.wl.Ku().p(this),this.wl.Zu().p(this),this.Um.Mm().p(this),this.iw.S(),this.uu.S(),this.um.S()}scrollPosition(){return this.wl.Lu()}scrollToPosition(t,e){e?this.wl.qu(t,1e3):this.Hi.Zn(t)}scrollToRealTime(){this.wl.Uu()}getVisibleRange(){const t=this.wl.yu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},s=this.wl.Ru(e);this.Hi.ad(s)}getVisibleLogicalRange(){const t=this.wl.ku();return t===null?null:{from:t.Rs(),to:t.ui()}}setVisibleLogicalRange(t){Ce(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.ad(t)}resetTimeScale(){this.Hi.Xn()}fitContent(){this.Hi.Qu()}logicalToCoordinate(t){const e=this.Hi.St();return e.Ei()?null:e.It(t)}coordinateToLogical(t){return this.wl.Ei()?null:this.wl.Vu(t)}timeToCoordinate(t){const e=this.N_.convertHorzItemToInternal(t),s=this.wl.ya(e,!1);return s===null?null:this.wl.It(s)}coordinateToTime(t){const e=this.Hi.St(),s=e.Vu(t),n=e.$i(s);return n===null?null:n.originalTime}width(){return this.Um.Up().width}height(){return this.Um.Up().height}subscribeVisibleTimeRangeChange(t){this.iw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.iw.v(t)}subscribeVisibleLogicalRangeChange(t){this.uu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.uu.v(t)}subscribeSizeChange(t){this.um.l(t)}unsubscribeSizeChange(t){this.um.v(t)}applyOptions(t){this.wl.Eh(t)}options(){return Object.assign(Object.assign({},ue(this.wl.W())),{barSpacing:this.wl.ee()})}nw(){this.iw.M()&&this.iw.m(this.getVisibleRange())}sw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}ew(t){this.um.m(t.width,t.height)}};function Vd(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const n=Math.round(e);if(Math.abs(n-e)<1e-8)return s;e*=10}return s}(t.minMove))}function il(i){return function(t){if(Qi(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:n}=t.handleScale;Qi(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),Qi(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;Qi(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class Wd{constructor(t,e,s){this.rw=new Map,this.hw=new Map,this.lw=new vt,this.aw=new vt,this.ow=new vt,this._w=new Cd(e);const n=s===void 0?ue(tl()):Qt(ue(tl()),il(s));this.N_=e,this.Ub=new wd(t,n,e),this.Ub.Wp().l(o=>{this.lw.M()&&this.lw.m(this.uw(o()))},this),this.Ub.jp().l(o=>{this.aw.M()&&this.aw.m(this.uw(o()))},this),this.Ub.jc().l(o=>{this.ow.M()&&this.ow.m(this.uw(o()))},this);const r=this.Ub.$t();this.cw=new Fd(r,this.Ub.Gm(),this.N_)}remove(){this.Ub.Wp().p(this),this.Ub.jp().p(this),this.Ub.jc().p(this),this.cw.S(),this.Ub.S(),this.rw.clear(),this.hw.clear(),this.lw.S(),this.aw.S(),this.ow.S(),this._w.S()}resize(t,e,s){this.autoSizeActive()||this.Ub.Ym(t,e,s)}addCustomSeries(t,e){const s=ti(t),n=Object.assign(Object.assign({},rh),s.defaultOptions());return this.dw("Custom",n,e,s)}addAreaSeries(t){return this.dw("Area",Ec,t)}addBaselineSeries(t){return this.dw("Baseline",Oc,t)}addBarSeries(t){return this.dw("Bar",Mc,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.dw("Candlestick",Sc,t)}addHistogramSeries(t){return this.dw("Histogram",zc,t)}addLineSeries(t){return this.dw("Line",Cc,t)}removeSeries(t){const e=It(this.rw.get(t)),s=this._w.ld(e);this.Ub.$t().ld(e),this.fw(s),this.rw.delete(t),this.hw.delete(e)}Jb(t,e){this.fw(this._w.Vb(t,e))}tw(t,e){this.fw(this._w.Eb(t,e))}subscribeClick(t){this.lw.l(t)}unsubscribeClick(t){this.lw.v(t)}subscribeCrosshairMove(t){this.ow.l(t)}unsubscribeCrosshairMove(t){this.ow.v(t)}subscribeDblClick(t){this.aw.l(t)}unsubscribeDblClick(t){this.aw.v(t)}priceScale(t){return new $d(this.Ub,t)}timeScale(){return this.cw}applyOptions(t){this.Ub.Eh(il(t))}options(){return this.Ub.W()}takeScreenshot(){return this.Ub.ib()}autoSizeActive(){return this.Ub.hb()}chartElement(){return this.Ub.lb()}paneSize(){const t=this.Ub.ob();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,s){const n=this.rw.get(s);if(n===void 0)return;const r=this.Ub.$t()._r(n);r!==null&&this.Ub.$t().td(t,e,r)}clearCrosshairPosition(){this.Ub.$t().nd(!0)}dw(t,e,s={},n){Vd(s.priceFormat);const r=Qt(ue(oh),ue(e),s),o=this.Ub.$t().rd(t,r,n),l=new Bd(o,this,this,this,this.N_);return this.rw.set(l,o),this.hw.set(o,l),l}fw(t){const e=this.Ub.$t();e.sd(t.St.Au,t.St.Hb,t.St.$b),t.Wb.forEach((s,n)=>n.J(s.We,s.jb)),e.Iu()}pw(t){return It(this.hw.get(t))}uw(t){const e=new Map;t.xb.forEach((n,r)=>{const o=r.Yh(),l=Vn(o)(n);if(o!=="Custom")Ce(function(h){return h.open!==void 0||h.value!==void 0}(l));else{const h=r.Ma();Ce(!h||h(l)===!1)}e.set(this.pw(r),l)});const s=t.Mb===void 0?void 0:this.pw(t.Mb);return{time:t.wb,logical:t.ie,point:t.gb,hoveredSeries:s,hoveredObjectId:t.Sb,seriesData:e,sourceEvent:t.kb}}}function jd(i,t,e){let s;if(Fi(i)){const r=document.getElementById(i);Ce(r!==null,`Cannot find element in DOM with id=${i}`),s=r}else s=i;const n=new Wd(s,t,e);return t.setOptions(n.options()),n}function Hd(i,t){return jd(i,new Wo,Wo.Pd(t))}Object.assign(Object.assign({},oh),rh);const Ud=mt({__name:"LWChart",props:{type:{},data:{},autosize:{},chartOptions:{},seriesOptions:{},timeScaleOptions:{},priceScaleOptions:{}},setup(i,{expose:t}){const e=i;function s(c){return`add${c.charAt(0).toUpperCase()+c.slice(1)}Series`}let n,r;const o=j();t({fitContent:()=>{r&&r.timeScale().fitContent()},getChart:()=>r});const a=()=>{if(!r||!o.value)return;const c=o.value.getBoundingClientRect();r.resize(c.width,c.height)},u=c=>{r==null||r.addCandlestickSeries;const f=s(c.type);r&&(n=r[f](c.seriesOptions),n&&n.setData(c.data))};return Tt(()=>{r=Hd(o.value,e.chartOptions),u(e),e.priceScaleOptions&&r.priceScale("").applyOptions(e.priceScaleOptions),e.timeScaleOptions&&r.timeScale().applyOptions(e.timeScaleOptions),r.timeScale().fitContent(),e.autosize&&window.addEventListener("resize",a)}),Ue(()=>{r&&(r.remove(),r=null),n&&(n=null),window.removeEventListener("resize",a)}),ct(()=>e.autosize,c=>{if(!c){window.removeEventListener("resize",a);return}window.addEventListener("resize",a)}),ct(()=>e.type,()=>{n&&r&&r.removeSeries(n),u(e)}),ct(()=>e.data,c=>{n&&n.setData(c)}),ct(()=>e.chartOptions,c=>{!r||!c||r.applyOptions(c)}),ct(()=>e.seriesOptions,c=>{!n||!c||n.applyOptions(c)}),ct(()=>e.priceScaleOptions,c=>{!r||!c||r.priceScale("").applyOptions(c)}),ct(()=>e.timeScaleOptions,c=>{!r||!c||r.timeScale().applyOptions(c)}),(c,f)=>(pt(),kt("div",{class:"lw-chart h-full",ref_key:"chartContainer",ref:o},null,512))}}),Kd={class:"chart-container h-[60svh] min-h-56 p-5"},Zd=mt({__name:"RenderChart",props:{serverData:{},chartType:{}},setup(i){const t=i,e=j(t.serverData),s=Et("isDarkMode",j(!1));ct(()=>t.serverData,()=>{e.value=t.serverData});const n=D(()=>s.value?{layout:{background:{color:"#222"},textColor:"#DDD"},grid:{vertLines:{color:"#444"},horzLines:{color:"#444"}}}:{layout:{background:{color:"#FFFFFF"},textColor:"#191919"},grid:{vertLines:{color:"#D6DCDE"},horzLines:{color:"#D6DCDE"}}}),r=j({color:"#90400e"}),o=j();return(l,h)=>(pt(),kt("div",Kd,[dt(Ud,{type:t.chartType,data:e.value,autosize:!0,"chart-options":n.value,"series-options":r.value,ref_key:"lwChart",ref:o},null,8,["type","data","chart-options","series-options"])]))}});function Xe(i,t,e){let s=e.initialDeps??[],n;return()=>{var r,o,l,h;let a;e.key&&((r=e.debug)!=null&&r.call(e))&&(a=Date.now());const u=i();if(!(u.length!==s.length||u.some((d,m)=>s[m]!==d)))return n;s=u;let f;if(e.key&&((o=e.debug)!=null&&o.call(e))&&(f=Date.now()),n=t(...u),e.key&&((l=e.debug)!=null&&l.call(e))){const d=Math.round((Date.now()-a)*100)/100,m=Math.round((Date.now()-f)*100)/100,v=m/16,_=(b,w)=>{for(b=String(b);b.length<w;)b=" "+b;return b};console.info(`%c ${_(m,5)} /${_(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(h=e==null?void 0:e.onChange)==null||h.call(e,n),n}}function yn(i,t){if(i===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return i}const qd=(i,t)=>Math.abs(i-t)<1,Yd=i=>i,Qd=i=>{const t=Math.max(i.startIndex-i.overscan,0),e=Math.min(i.endIndex+i.overscan,i.count-1),s=[];for(let n=t;n<=e;n++)s.push(n);return s},Xd=(i,t)=>{const e=i.scrollElement;if(!e)return;const s=r=>{const{width:o,height:l}=r;t({width:Math.round(o),height:Math.round(l)})};if(s(e.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const n=new ResizeObserver(r=>{const o=r[0];if(o!=null&&o.borderBoxSize){const l=o.borderBoxSize[0];if(l){s({width:l.inlineSize,height:l.blockSize});return}}s(e.getBoundingClientRect())});return n.observe(e,{box:"border-box"}),()=>{n.unobserve(e)}},Gd=(i,t)=>{const e=i.scrollElement;if(!e)return;const s=()=>{t(e[i.options.horizontal?"scrollLeft":"scrollTop"])};return s(),e.addEventListener("scroll",s,{passive:!0}),()=>{e.removeEventListener("scroll",s)}},Jd=(i,t,e)=>{if(t!=null&&t.borderBoxSize){const s=t.borderBoxSize[0];if(s)return Math.round(s[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(i.getBoundingClientRect()[e.options.horizontal?"width":"height"])},tp=(i,{adjustments:t=0,behavior:e},s)=>{var n,r;const o=i+t;(r=(n=s.scrollElement)==null?void 0:n.scrollTo)==null||r.call(n,{[s.options.horizontal?"left":"top"]:o,behavior:e})};class ep{constructor(t){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let e=null;const s=()=>e||(typeof ResizeObserver<"u"?e=new ResizeObserver(n=>{n.forEach(r=>{this._measureElement(r.target,r)})}):null);return{disconnect:()=>{var n;return(n=s())==null?void 0:n.disconnect()},observe:n=>{var r;return(r=s())==null?void 0:r.observe(n,{box:"border-box"})},unobserve:n=>{var r;return(r=s())==null?void 0:r.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([s,n])=>{typeof n>"u"&&delete e[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Yd,rangeExtractor:Qd,onChange:()=>{},measureElement:Jd,initialRect:{width:0,height:0},scrollMargin:0,gap:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...e}},this.notify=e=>{var s,n;(n=(s=this.options).onChange)==null||n.call(s,this,e)},this.maybeNotify=Xe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const e=this.options.getScrollElement();this.scrollElement!==e&&(this.cleanup(),this.scrollElement=e,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,s=>{this.scrollAdjustments=0,this.scrollOffset!==s&&(this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.isScrolling=!0,this.scrollDirection=this.scrollOffset<s?"forward":"backward",this.scrollOffset=s,this.maybeNotify(),this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.scrollDirection=null,this.maybeNotify()},this.options.scrollingDelay))})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.memoOptions=Xe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(e,s,n,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:s,scrollMargin:n,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(e,s)=>{const n=new Map,r=new Map;for(let o=s-1;o>=0;o--){const l=e[o];if(n.has(l.lane))continue;const h=r.get(l.lane);if(h==null||l.end>h.end?r.set(l.lane,l):l.end<h.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurements=Xe(()=>[this.memoOptions(),this.itemSizeCache],({count:e,paddingStart:s,scrollMargin:n,getItemKey:r},o)=>{const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,l);for(let a=l;a<e;a++){const u=r(a),c=this.options.lanes===1?h[a-1]:this.getFurthestMeasurement(h,a),f=c?c.end+this.options.gap:s+n,d=o.get(u),m=typeof d=="number"?d:this.options.estimateSize(a),v=f+m,_=c?c.lane:a%this.options.lanes;h[a]={index:a,start:f,size:m,end:v,key:u,lane:_}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Xe(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(e,s,n)=>this.range=e.length>0&&s>0?ip({measurements:e,outerSize:s,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Xe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,s,n,r)=>s===null?[]:e({...s,overscan:n,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const s=this.options.indexAttribute,n=e.getAttribute(s);return n?parseInt(n,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(e,s)=>{const n=this.measurementsCache[this.indexFromElement(e)];if(!n||!e.isConnected){this.measureElementCache.forEach((l,h)=>{l===e&&(this.observer.unobserve(e),this.measureElementCache.delete(h))});return}const r=this.measureElementCache.get(n.key);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.measureElementCache.set(n.key,e));const o=this.options.measureElement(e,s,this);this.resizeItem(n,o)},this.resizeItem=(e,s)=>{const n=this.itemSizeCache.get(e.key)??e.size,r=s-n;r!==0&&(e.start<this.scrollOffset+this.scrollAdjustments&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,s)),this.notify(!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=Xe(()=>[this.getIndexes(),this.getMeasurements()],(e,s)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const l=e[r],h=s[l];n.push(h)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const s=this.getMeasurements();return yn(s[Ih(0,s.length-1,n=>yn(s[n]).start,e)])},this.getOffsetForAlignment=(e,s)=>{const n=this.getSize();s==="auto"&&(e<=this.scrollOffset?s="start":e>=this.scrollOffset+n?s="end":s="start"),s==="start"?e=e:s==="end"?e=e-n:s==="center"&&(e=e-n/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(l,e),0)},this.getOffsetForIndex=(e,s="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=yn(this.getMeasurements()[e]);if(s==="auto")if(n.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)s="end";else if(n.start<=this.scrollOffset+this.options.scrollPaddingStart)s="start";else return[this.scrollOffset,s];const r=s==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,s),s]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:s="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,s),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:s="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,o]=this.getOffsetForIndex(e,s);this._scrollToOffset(r,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(e))){const[h]=this.getOffsetForIndex(e,o);qd(h,this.scrollOffset)||this.scrollToIndex(e,{align:o,behavior:n})}else this.scrollToIndex(e,{align:o,behavior:n})}))},this.scrollBy=(e,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var e;const s=this.getMeasurements();let n;return s.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((e=s[s.length-1])==null?void 0:e.end)??0:Math.max(...s.slice(-this.options.lanes).map(r=>r.end)),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:s,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}),this.maybeNotify()}}const Ih=(i,t,e,s)=>{for(;i<=t;){const n=(i+t)/2|0,r=e(n);if(r<s)i=n+1;else if(r>s)t=n-1;else return n}return i>0?i-1:0};function ip({measurements:i,outerSize:t,scrollOffset:e}){const s=i.length-1,r=Ih(0,s,l=>i[l].start,e);let o=r;for(;o<s&&i[o].end<e+t;)o++;return{startIndex:r,endIndex:o}}function sp(i){const t=new ep(rt(i)),e=Pl(t),s=t._didMount();return ct(()=>rt(i).getScrollElement(),n=>{n&&t._willUpdate()},{immediate:!0}),ct(()=>rt(i),n=>{t.setOptions({...n,onChange:(r,o)=>{var l;Br(e),(l=n.onChange)==null||l.call(n,r,o)}}),t._willUpdate(),Br(e)},{immediate:!0}),fa(s),e}function np(i){return sp(D(()=>({observeElementRect:Xd,observeElementOffset:Gd,scrollToFn:tp,...rt(i)})))}function Rh(i,t,e){let s=j(e==null?void 0:e.value),n=D(()=>i.value!==void 0);return[D(()=>n.value?i.value:s.value),function(r){return n.value||(s.value=r),t==null?void 0:t(r)}]}let rp=Symbol("headlessui.useid"),op=0;function Ke(){return Et(rp,()=>`${++op}`)()}function H(i){var t;if(i==null||i.value==null)return null;let e=(t=i.value.$el)!=null?t:i.value;return e instanceof Node?e:null}function Ct(i,t,...e){if(i in t){let n=t[i];return typeof n=="function"?n(...e):n}let s=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Ct),s}var lp=Object.defineProperty,hp=(i,t,e)=>t in i?lp(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,sl=(i,t,e)=>(hp(i,typeof t!="symbol"?t+"":t,e),e);let ap=class{constructor(){sl(this,"current",this.detect()),sl(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},As=new ap;function Ds(i){if(As.isServer)return null;if(i instanceof Node)return i.ownerDocument;if(i!=null&&i.hasOwnProperty("value")){let t=H(i);if(t)return t.ownerDocument}return document}let Wn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(i=>`${i}:not([tabindex='-1'])`).join(",");var Zt=(i=>(i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll",i))(Zt||{}),wi=(i=>(i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i))(wi||{}),up=(i=>(i[i.Previous=-1]="Previous",i[i.Next=1]="Next",i))(up||{});function cp(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(Wn)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ph=(i=>(i[i.Strict=0]="Strict",i[i.Loose=1]="Loose",i))(Ph||{});function fp(i,t=0){var e;return i===((e=Ds(i))==null?void 0:e.body)?!1:Ct(t,{0(){return i.matches(Wn)},1(){let s=i;for(;s!==null;){if(s.matches(Wn))return!0;s=s.parentElement}return!1}})}var dp=(i=>(i[i.Keyboard=0]="Keyboard",i[i.Mouse=1]="Mouse",i))(dp||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",i=>{i.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:i.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let pp=["textarea","input"].join(",");function vp(i){var t,e;return(e=(t=i==null?void 0:i.matches)==null?void 0:t.call(i,pp))!=null?e:!1}function Re(i,t=e=>e){return i.slice().sort((e,s)=>{let n=t(e),r=t(s);if(n===null||r===null)return 0;let o=n.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ge(i,t,{sorted:e=!0,relativeTo:s=null,skipElements:n=[]}={}){var r;let o=(r=Array.isArray(i)?i.length>0?i[0].ownerDocument:document:i==null?void 0:i.ownerDocument)!=null?r:document,l=Array.isArray(i)?e?Re(i):i:cp(i);n.length>0&&l.length>1&&(l=l.filter(m=>!n.includes(m))),s=s??o.activeElement;let h=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(s))-1;if(t&4)return Math.max(0,l.indexOf(s))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=l.length,d;do{if(c>=f||c+f<=0)return 0;let m=a+c;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}d=l[m],d==null||d.focus(u),c+=h}while(d!==o.activeElement);return t&6&&vp(d)&&d.select(),2}function mp(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gp(){return/Android/gi.test(window.navigator.userAgent)}function kh(){return mp()||gp()}function os(i,t,e){As.isServer||Ft(s=>{document.addEventListener(i,t,e),s(()=>document.removeEventListener(i,t,e))})}function bp(i,t,e){As.isServer||Ft(s=>{window.addEventListener(i,t,e),s(()=>window.removeEventListener(i,t,e))})}function wp(i,t,e=D(()=>!0)){function s(r,o){if(!e.value||r.defaultPrevented)return;let l=o(r);if(l===null||!l.getRootNode().contains(l))return;let h=function a(u){return typeof u=="function"?a(u()):Array.isArray(u)||u instanceof Set?u:[u]}(i);for(let a of h){if(a===null)continue;let u=a instanceof HTMLElement?a:H(a);if(u!=null&&u.contains(l)||r.composed&&r.composedPath().includes(u))return}return!fp(l,Ph.Loose)&&l.tabIndex!==-1&&r.preventDefault(),t(r,l)}let n=j(null);os("pointerdown",r=>{var o,l;e.value&&(n.value=((l=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:l[0])||r.target)},!0),os("mousedown",r=>{var o,l;e.value&&(n.value=((l=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:l[0])||r.target)},!0),os("click",r=>{kh()||n.value&&(s(r,()=>n.value),n.value=null)},!0),os("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),bp("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function nl(i,t){if(i)return i;let e=t??"button";if(typeof e=="string"&&e.toLowerCase()==="button")return"button"}function yr(i,t){let e=j(nl(i.value.type,i.value.as));return Tt(()=>{e.value=nl(i.value.type,i.value.as)}),Ft(()=>{var s;e.value||H(t)&&H(t)instanceof HTMLButtonElement&&!((s=H(t))!=null&&s.hasAttribute("type"))&&(e.value="button")}),e}function rl(i){return[i.screenX,i.screenY]}function _p(){let i=j([-1,-1]);return{wasMoved(t){let e=rl(t);return i.value[0]===e[0]&&i.value[1]===e[1]?!1:(i.value=e,!0)},update(t){i.value=rl(t)}}}function yp({container:i,accept:t,walk:e,enabled:s}){Ft(()=>{let n=i.value;if(!n||s!==void 0&&!s.value)return;let r=Ds(i);if(!r)return;let o=Object.assign(h=>t(h),{acceptNode:t}),l=r.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,o,!1);for(;l.nextNode();)e(l.currentNode)})}var ci=(i=>(i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i))(ci||{}),_e=(i=>(i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i))(_e||{});function Ut({visible:i=!0,features:t=0,ourProps:e,theirProps:s,...n}){var r;let o=Nh(s,e),l=Object.assign(n,{props:o});if(i||t&2&&o.static)return xn(l);if(t&1){let h=(r=o.unmount)==null||r?0:1;return Ct(h,{0(){return null},1(){return xn({...n,props:{...o,hidden:!0,style:{display:"none"}}})}})}return xn(l)}function xn({props:i,attrs:t,slots:e,slot:s,name:n}){var r,o;let{as:l,...h}=Ze(i,["unmount","static"]),a=(r=e.default)==null?void 0:r.call(e,s),u={};if(s){let c=!1,f=[];for(let[d,m]of Object.entries(s))typeof m=="boolean"&&(c=!0),m===!0&&f.push(d);c&&(u["data-headlessui-state"]=f.join(" "))}if(l==="template"){if(a=Lh(a??[]),Object.keys(h).length>0||Object.keys(t).length>0){let[c,...f]=a??[];if(!xp(c)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(t)).map(v=>v.trim()).filter((v,_,b)=>b.indexOf(v)===_).sort((v,_)=>v.localeCompare(_)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let d=Nh((o=c.props)!=null?o:{},h,u),m=Me(c,d,!0);for(let v in d)v.startsWith("on")&&(m.props||(m.props={}),m.props[v]=d[v]);return m}return Array.isArray(a)&&a.length===1?a[0]:a}return Ht(l,Object.assign({},h,u),{default:()=>a})}function Lh(i){return i.flatMap(t=>t.type===yt?Lh(t.children):[t])}function Nh(...i){if(i.length===0)return{};if(i.length===1)return i[0];let t={},e={};for(let s of i)for(let n in s)n.startsWith("on")&&typeof s[n]=="function"?(e[n]!=null||(e[n]=[]),e[n].push(s[n])):t[n]=s[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(e).map(s=>[s,void 0])));for(let s in e)Object.assign(t,{[s](n,...r){let o=e[s];for(let l of o){if(n instanceof Event&&n.defaultPrevented)return;l(n,...r)}}});return t}function $h(i){let t=Object.assign({},i);for(let e in t)t[e]===void 0&&delete t[e];return t}function Ze(i,t=[]){let e=Object.assign({},i);for(let s of t)s in e&&delete e[s];return e}function xp(i){return i==null?!1:typeof i.type=="string"||typeof i.type=="object"||typeof i.type=="function"}var Bs=(i=>(i[i.None=1]="None",i[i.Focusable=2]="Focusable",i[i.Hidden=4]="Hidden",i))(Bs||{});let xr=mt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(i,{slots:t,attrs:e}){return()=>{var s;let{features:n,...r}=i,o={"aria-hidden":(n&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ut({ourProps:o,theirProps:r,slot:{},attrs:e,slots:t,name:"Hidden"})}}}),Ah=Symbol("Context");var Bt=(i=>(i[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i))(Bt||{});function Sp(){return Sr()!==null}function Sr(){return Et(Ah,null)}function Dh(i){le(Ah,i)}var ot=(i=>(i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.Delete="Delete",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab",i))(ot||{});function Mp(i){function t(){document.readyState!=="loading"&&(i(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Pe=[];Mp(()=>{function i(t){t.target instanceof HTMLElement&&t.target!==document.body&&Pe[0]!==t.target&&(Pe.unshift(t.target),Pe=Pe.filter(e=>e!=null&&e.isConnected),Pe.splice(10))}window.addEventListener("click",i,{capture:!0}),window.addEventListener("mousedown",i,{capture:!0}),window.addEventListener("focus",i,{capture:!0}),document.body.addEventListener("click",i,{capture:!0}),document.body.addEventListener("mousedown",i,{capture:!0}),document.body.addEventListener("focus",i,{capture:!0})});function Cp(i){throw new Error("Unexpected object: "+i)}var _t=(i=>(i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing",i))(_t||{});function ol(i,t){let e=t.resolveItems();if(e.length<=0)return null;let s=t.resolveActiveIndex(),n=s??-1;switch(i.focus){case 0:{for(let r=0;r<e.length;++r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 1:{n===-1&&(n=e.length);for(let r=n-1;r>=0;--r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 2:{for(let r=n+1;r<e.length;++r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 3:{for(let r=e.length-1;r>=0;--r)if(!t.resolveDisabled(e[r],r,e))return r;return s}case 4:{for(let r=0;r<e.length;++r)if(t.resolveId(e[r],r,e)===i.id)return r;return s}case 5:return null;default:Cp(i)}}function Bh(i){typeof queueMicrotask=="function"?queueMicrotask(i):Promise.resolve().then(i).catch(t=>setTimeout(()=>{throw t}))}function Ai(){let i=[],t={addEventListener(e,s,n,r){return e.addEventListener(s,n,r),t.add(()=>e.removeEventListener(s,n,r))},requestAnimationFrame(...e){let s=requestAnimationFrame(...e);t.add(()=>cancelAnimationFrame(s))},nextFrame(...e){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...e)})},setTimeout(...e){let s=setTimeout(...e);t.add(()=>clearTimeout(s))},microTask(...e){let s={current:!0};return Bh(()=>{s.current&&e[0]()}),t.add(()=>{s.current=!1})},style(e,s,n){let r=e.style.getPropertyValue(s);return Object.assign(e.style,{[s]:n}),this.add(()=>{Object.assign(e.style,{[s]:r})})},group(e){let s=Ai();return e(s),this.add(()=>s.dispose())},add(e){return i.push(e),()=>{let s=i.indexOf(e);if(s>=0)for(let n of i.splice(s,1))n()}},dispose(){for(let e of i.splice(0))e()}};return t}function Fh(i={},t=null,e=[]){for(let[s,n]of Object.entries(i))Wh(e,Vh(t,s),n);return e}function Vh(i,t){return i?i+"["+t+"]":t}function Wh(i,t,e){if(Array.isArray(e))for(let[s,n]of e.entries())Wh(i,Vh(t,s.toString()),n);else e instanceof Date?i.push([t,e.toISOString()]):typeof e=="boolean"?i.push([t,e?"1":"0"]):typeof e=="string"?i.push([t,e]):typeof e=="number"?i.push([t,`${e}`]):e==null?i.push([t,""]):Fh(e,t,i)}function Ep(i){var t,e;let s=(t=i==null?void 0:i.form)!=null?t:i.closest("form");if(s){for(let n of s.elements)if(n!==i&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(e=s.requestSubmit)==null||e.call(s)}}var Op={};function zp(i,t){return i===t}var Tp=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(Tp||{}),Ip=(i=>(i[i.Single=0]="Single",i[i.Multi=1]="Multi",i))(Ip||{}),Rp=(i=>(i[i.Pointer=0]="Pointer",i[i.Focus=1]="Focus",i[i.Other=2]="Other",i))(Rp||{});let jh=Symbol("ComboboxContext");function pi(i){let t=Et(jh,null);if(t===null){let e=new Error(`<${i} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,pi),e}return t}let Hh=Symbol("VirtualContext"),Pp=mt({name:"VirtualProvider",setup(i,{slots:t}){let e=pi("VirtualProvider"),s=D(()=>{let l=H(e.optionsRef);if(!l)return{start:0,end:0};let h=window.getComputedStyle(l);return{start:parseFloat(h.paddingBlockStart||h.paddingTop),end:parseFloat(h.paddingBlockEnd||h.paddingBottom)}}),n=np(D(()=>({scrollPaddingStart:s.value.start,scrollPaddingEnd:s.value.end,count:e.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return H(e.optionsRef)},overscan:12}))),r=D(()=>{var l;return(l=e.virtual.value)==null?void 0:l.options}),o=j(0);return ct([r],()=>{o.value+=1}),le(Hh,e.virtual.value?n:null),()=>[Ht("div",{style:{position:"relative",width:"100%",height:`${n.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&Op.JEST_WORKER_ID!==void 0||e.activationTrigger.value===0)return;e.activeOptionIndex.value!==null&&e.virtual.value.options.length>e.activeOptionIndex.value&&n.value.scrollToIndex(e.activeOptionIndex.value)}}},n.value.getVirtualItems().map(l=>Me(t.default({option:e.virtual.value.options[l.index],open:e.comboboxState.value===0})[0],{key:`${o.value}-${l.index}`,"data-index":l.index,"aria-setsize":e.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),kp=mt({name:"Combobox",emits:{"update:modelValue":i=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(i,{slots:t,attrs:e,emit:s}){let n=j(1),r=j(null),o=j(null),l=j(null),h=j(null),a=j({static:!1,hold:!1}),u=j([]),c=j(null),f=j(2),d=j(!1);function m(I=A=>A){let A=c.value!==null?u.value[c.value]:null,Z=I(u.value.slice()),W=Z.length>0&&Z[0].dataRef.order.value!==null?Z.sort((J,X)=>J.dataRef.order.value-X.dataRef.order.value):Re(Z,J=>H(J.dataRef.domRef)),tt=A?W.indexOf(A):null;return tt===-1&&(tt=null),{options:W,activeOptionIndex:tt}}let v=D(()=>i.multiple?1:0),_=D(()=>i.nullable),[b,w]=Rh(D(()=>i.modelValue),I=>s("update:modelValue",I),D(()=>i.defaultValue)),E=D(()=>b.value===void 0?Ct(v.value,{1:[],0:void 0}):b.value),y=null,L=null;function P(I){return Ct(v.value,{0(){return w==null?void 0:w(I)},1:()=>{let A=Q(C.value.value).slice(),Z=Q(I),W=A.findIndex(tt=>C.compare(Z,Q(tt)));return W===-1?A.push(Z):A.splice(W,1),w==null?void 0:w(A)}})}let F=D(()=>{});ct([F],([I],[A])=>{if(C.virtual.value&&I&&A&&c.value!==null){let Z=I.indexOf(A[c.value]);Z!==-1?c.value=Z:c.value=null}});let C={comboboxState:n,value:E,mode:v,compare(I,A){if(typeof i.by=="string"){let Z=i.by;return(I==null?void 0:I[Z])===(A==null?void 0:A[Z])}return i.by===null?zp(I,A):i.by(I,A)},calculateIndex(I){return C.virtual.value?i.by===null?C.virtual.value.options.indexOf(I):C.virtual.value.options.findIndex(A=>C.compare(A,I)):u.value.findIndex(A=>C.compare(A.dataRef.value,I))},defaultValue:D(()=>i.defaultValue),nullable:_,immediate:D(()=>!1),virtual:D(()=>null),inputRef:o,labelRef:r,buttonRef:l,optionsRef:h,disabled:D(()=>i.disabled),options:u,change(I){w(I)},activeOptionIndex:D(()=>{if(d.value&&c.value===null&&(C.virtual.value?C.virtual.value.options.length>0:u.value.length>0)){if(C.virtual.value){let A=C.virtual.value.options.findIndex(Z=>{var W;return!((W=C.virtual.value)!=null&&W.disabled(Z))});if(A!==-1)return A}let I=u.value.findIndex(A=>!A.dataRef.disabled);if(I!==-1)return I}return c.value}),activationTrigger:f,optionsPropsRef:a,closeCombobox(){d.value=!1,!i.disabled&&n.value!==1&&(n.value=1,c.value=null)},openCombobox(){if(d.value=!0,!i.disabled&&n.value!==0){if(C.value.value){let I=C.calculateIndex(C.value.value);I!==-1&&(c.value=I)}n.value=0}},setActivationTrigger(I){f.value=I},goToOption(I,A,Z){d.value=!1,y!==null&&cancelAnimationFrame(y),y=requestAnimationFrame(()=>{if(i.disabled||h.value&&!a.value.static&&n.value===1)return;if(C.virtual.value){c.value=I===_t.Specific?A:ol({focus:I},{resolveItems:()=>C.virtual.value.options,resolveActiveIndex:()=>{var J,X;return(X=(J=C.activeOptionIndex.value)!=null?J:C.virtual.value.options.findIndex(st=>{var Y;return!((Y=C.virtual.value)!=null&&Y.disabled(st))}))!=null?X:null},resolveDisabled:J=>C.virtual.value.disabled(J),resolveId(){throw new Error("Function not implemented.")}}),f.value=Z??2;return}let W=m();if(W.activeOptionIndex===null){let J=W.options.findIndex(X=>!X.dataRef.disabled);J!==-1&&(W.activeOptionIndex=J)}let tt=I===_t.Specific?A:ol({focus:I},{resolveItems:()=>W.options,resolveActiveIndex:()=>W.activeOptionIndex,resolveId:J=>J.id,resolveDisabled:J=>J.dataRef.disabled});c.value=tt,f.value=Z??2,u.value=W.options})},selectOption(I){let A=u.value.find(W=>W.id===I);if(!A)return;let{dataRef:Z}=A;P(Z.value)},selectActiveOption(){if(C.activeOptionIndex.value!==null){if(C.virtual.value)P(C.virtual.value.options[C.activeOptionIndex.value]);else{let{dataRef:I}=u.value[C.activeOptionIndex.value];P(I.value)}C.goToOption(_t.Specific,C.activeOptionIndex.value)}},registerOption(I,A){let Z=Di({id:I,dataRef:A});if(C.virtual.value){u.value.push(Z);return}L&&cancelAnimationFrame(L);let W=m(tt=>(tt.push(Z),tt));c.value===null&&C.isSelected(A.value.value)&&(W.activeOptionIndex=W.options.indexOf(Z)),u.value=W.options,c.value=W.activeOptionIndex,f.value=2,W.options.some(tt=>!H(tt.dataRef.domRef))&&(L=requestAnimationFrame(()=>{let tt=m();u.value=tt.options,c.value=tt.activeOptionIndex}))},unregisterOption(I,A){if(y!==null&&cancelAnimationFrame(y),A&&(d.value=!0),C.virtual.value){u.value=u.value.filter(W=>W.id!==I);return}let Z=m(W=>{let tt=W.findIndex(J=>J.id===I);return tt!==-1&&W.splice(tt,1),W});u.value=Z.options,c.value=Z.activeOptionIndex,f.value=2},isSelected(I){return Ct(v.value,{0:()=>C.compare(Q(C.value.value),Q(I)),1:()=>Q(C.value.value).some(A=>C.compare(Q(A),Q(I)))})},isActive(I){return c.value===C.calculateIndex(I)}};wp([o,l,h],()=>C.closeCombobox(),D(()=>n.value===0)),le(jh,C),Dh(D(()=>Ct(n.value,{0:Bt.Open,1:Bt.Closed})));let it=D(()=>{var I;return(I=H(o))==null?void 0:I.closest("form")});return Tt(()=>{ct([it],()=>{if(!it.value||i.defaultValue===void 0)return;function I(){C.change(i.defaultValue)}return it.value.addEventListener("reset",I),()=>{var A;(A=it.value)==null||A.removeEventListener("reset",I)}},{immediate:!0})}),()=>{var I,A,Z;let{name:W,disabled:tt,form:J,...X}=i,st={open:n.value===0,disabled:tt,activeIndex:C.activeOptionIndex.value,activeOption:C.activeOptionIndex.value===null?null:C.virtual.value?C.virtual.value.options[(I=C.activeOptionIndex.value)!=null?I:0]:(Z=(A=C.options.value[C.activeOptionIndex.value])==null?void 0:A.dataRef.value)!=null?Z:null,value:E.value};return Ht(yt,[...W!=null&&E.value!=null?Fh({[W]:E.value}).map(([Y,Rt])=>Ht(xr,$h({features:Bs.Hidden,key:Y,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:J,name:Y,value:Rt}))):[],Ut({theirProps:{...e,...Ze(X,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:st,slots:t,attrs:e,name:"Combobox"})])}}}),Lp=mt({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(i,{attrs:t,slots:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-combobox-button-${Ke()}`,o=pi("ComboboxButton");s({el:o.buttonRef,$el:o.buttonRef});function l(u){o.disabled.value||(o.comboboxState.value===0?o.closeCombobox():(u.preventDefault(),o.openCombobox()),we(()=>{var c;return(c=H(o.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function h(u){switch(u.key){case ot.ArrowDown:u.preventDefault(),u.stopPropagation(),o.comboboxState.value===1&&o.openCombobox(),we(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case ot.ArrowUp:u.preventDefault(),u.stopPropagation(),o.comboboxState.value===1&&(o.openCombobox(),we(()=>{o.value.value||o.goToOption(_t.Last)})),we(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case ot.Escape:if(o.comboboxState.value!==0)return;u.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&u.stopPropagation(),o.closeCombobox(),we(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let a=yr(D(()=>({as:i.as,type:t.type})),o.buttonRef);return()=>{var u,c;let f={open:o.comboboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...d}=i,m={ref:o.buttonRef,id:r,type:a.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=H(o.optionsRef))==null?void 0:u.id,"aria-expanded":o.comboboxState.value===0,"aria-labelledby":o.labelRef.value?[(c=H(o.labelRef))==null?void 0:c.id,r].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:h,onClick:l};return Ut({ourProps:m,theirProps:d,slot:f,attrs:t,slots:e,name:"ComboboxButton"})}}}),Np=mt({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:i=>!0},setup(i,{emit:t,attrs:e,slots:s,expose:n}){var r;let o=(r=i.id)!=null?r:`headlessui-combobox-input-${Ke()}`,l=pi("ComboboxInput"),h=D(()=>Ds(H(l.inputRef))),a={value:!1};n({el:l.inputRef,$el:l.inputRef});function u(){l.change(null);let y=H(l.optionsRef);y&&(y.scrollTop=0),l.goToOption(_t.Nothing)}let c=D(()=>{var y;let L=l.value.value;return H(l.inputRef)?typeof i.displayValue<"u"&&L!==void 0?(y=i.displayValue(L))!=null?y:"":typeof L=="string"?L:"":""});Tt(()=>{ct([c,l.comboboxState,h],([y,L],[P,F])=>{if(a.value)return;let C=H(l.inputRef);C&&((F===0&&L===1||y!==P)&&(C.value=y),requestAnimationFrame(()=>{var it;if(a.value||!C||((it=h.value)==null?void 0:it.activeElement)!==C)return;let{selectionStart:I,selectionEnd:A}=C;Math.abs((A??0)-(I??0))===0&&I===0&&C.setSelectionRange(C.value.length,C.value.length)}))},{immediate:!0}),ct([l.comboboxState],([y],[L])=>{if(y===0&&L===1){if(a.value)return;let P=H(l.inputRef);if(!P)return;let F=P.value,{selectionStart:C,selectionEnd:it,selectionDirection:I}=P;P.value="",P.value=F,I!==null?P.setSelectionRange(C,it,I):P.setSelectionRange(C,it)}})});let f=j(!1);function d(){f.value=!0}function m(){Ai().nextFrame(()=>{f.value=!1})}function v(y){switch(a.value=!0,y.key){case ot.Enter:if(a.value=!1,l.comboboxState.value!==0||f.value)return;if(y.preventDefault(),y.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case ot.ArrowDown:return a.value=!1,y.preventDefault(),y.stopPropagation(),Ct(l.comboboxState.value,{0:()=>l.goToOption(_t.Next),1:()=>l.openCombobox()});case ot.ArrowUp:return a.value=!1,y.preventDefault(),y.stopPropagation(),Ct(l.comboboxState.value,{0:()=>l.goToOption(_t.Previous),1:()=>{l.openCombobox(),we(()=>{l.value.value||l.goToOption(_t.Last)})}});case ot.Home:if(y.shiftKey)break;return a.value=!1,y.preventDefault(),y.stopPropagation(),l.goToOption(_t.First);case ot.PageUp:return a.value=!1,y.preventDefault(),y.stopPropagation(),l.goToOption(_t.First);case ot.End:if(y.shiftKey)break;return a.value=!1,y.preventDefault(),y.stopPropagation(),l.goToOption(_t.Last);case ot.PageDown:return a.value=!1,y.preventDefault(),y.stopPropagation(),l.goToOption(_t.Last);case ot.Escape:if(a.value=!1,l.comboboxState.value!==0)return;y.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&y.stopPropagation(),l.nullable.value&&l.mode.value===0&&l.value.value===null&&u(),l.closeCombobox();break;case ot.Tab:if(a.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.activationTrigger.value!==1&&l.selectActiveOption(),l.closeCombobox();break}}function _(y){t("change",y),l.nullable.value&&l.mode.value===0&&y.target.value===""&&u(),l.openCombobox()}function b(y){var L,P,F;let C=(L=y.relatedTarget)!=null?L:Pe.find(it=>it!==y.currentTarget);if(a.value=!1,!((P=H(l.optionsRef))!=null&&P.contains(C))&&!((F=H(l.buttonRef))!=null&&F.contains(C))&&l.comboboxState.value===0)return y.preventDefault(),l.mode.value===0&&(l.nullable.value&&l.value.value===null?u():l.activationTrigger.value!==1&&l.selectActiveOption()),l.closeCombobox()}function w(y){var L,P,F;let C=(L=y.relatedTarget)!=null?L:Pe.find(it=>it!==y.currentTarget);(P=H(l.buttonRef))!=null&&P.contains(C)||(F=H(l.optionsRef))!=null&&F.contains(C)||l.disabled.value||l.immediate.value&&l.comboboxState.value!==0&&(l.openCombobox(),Ai().nextFrame(()=>{l.setActivationTrigger(1)}))}let E=D(()=>{var y,L,P,F;return(F=(P=(L=i.defaultValue)!=null?L:l.defaultValue.value!==void 0?(y=i.displayValue)==null?void 0:y.call(i,l.defaultValue.value):null)!=null?P:l.defaultValue.value)!=null?F:""});return()=>{var y,L,P,F,C,it,I;let A={open:l.comboboxState.value===0},{displayValue:Z,onChange:W,...tt}=i,J={"aria-controls":(y=l.optionsRef.value)==null?void 0:y.id,"aria-expanded":l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null?void 0:l.virtual.value?(L=l.options.value.find(X=>!l.virtual.value.disabled(X.dataRef.value)&&l.compare(X.dataRef.value,l.virtual.value.options[l.activeOptionIndex.value])))==null?void 0:L.id:(P=l.options.value[l.activeOptionIndex.value])==null?void 0:P.id,"aria-labelledby":(it=(F=H(l.labelRef))==null?void 0:F.id)!=null?it:(C=H(l.buttonRef))==null?void 0:C.id,"aria-autocomplete":"list",id:o,onCompositionstart:d,onCompositionend:m,onKeydown:v,onInput:_,onFocus:w,onBlur:b,role:"combobox",type:(I=e.type)!=null?I:"text",tabIndex:0,ref:l.inputRef,defaultValue:E.value,disabled:l.disabled.value===!0?!0:void 0};return Ut({ourProps:J,theirProps:tt,slot:A,attrs:e,slots:s,features:ci.RenderStrategy|ci.Static,name:"ComboboxInput"})}}}),$p=mt({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(i,{attrs:t,slots:e,expose:s}){let n=pi("ComboboxOptions"),r=`headlessui-combobox-options-${Ke()}`;s({el:n.optionsRef,$el:n.optionsRef}),Ft(()=>{n.optionsPropsRef.value.static=i.static}),Ft(()=>{n.optionsPropsRef.value.hold=i.hold});let o=Sr(),l=D(()=>o!==null?(o.value&Bt.Open)===Bt.Open:n.comboboxState.value===0);return yp({container:D(()=>H(n.optionsRef)),enabled:D(()=>n.comboboxState.value===0),accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}}),()=>{var h,a,u;let c={open:n.comboboxState.value===0},f={"aria-labelledby":(u=(h=H(n.labelRef))==null?void 0:h.id)!=null?u:(a=H(n.buttonRef))==null?void 0:a.id,id:r,ref:n.optionsRef,role:"listbox","aria-multiselectable":n.mode.value===1?!0:void 0},d=Ze(i,["hold"]);return Ut({ourProps:f,theirProps:d,slot:c,attrs:t,slots:n.virtual.value&&n.comboboxState.value===0?{...e,default:()=>[Ht(Pp,{},e.default)]}:e,features:ci.RenderStrategy|ci.Static,visible:l.value,name:"ComboboxOptions"})}}}),Ap=mt({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(i,{slots:t,attrs:e,expose:s}){let n=pi("ComboboxOption"),r=`headlessui-combobox-option-${Ke()}`,o=j(null);s({el:o,$el:o});let l=D(()=>{var b;return n.virtual.value?n.activeOptionIndex.value===n.calculateIndex(i.value):n.activeOptionIndex.value===null?!1:((b=n.options.value[n.activeOptionIndex.value])==null?void 0:b.id)===r}),h=D(()=>n.isSelected(i.value)),a=Et(Hh,null),u=D(()=>({disabled:i.disabled,value:i.value,domRef:o,order:D(()=>i.order)}));Tt(()=>n.registerOption(r,u)),Ue(()=>n.unregisterOption(r,l.value)),Ft(()=>{let b=H(o);b&&(a==null||a.value.measureElement(b))}),Ft(()=>{n.comboboxState.value===0&&l.value&&(n.virtual.value||n.activationTrigger.value!==0&&we(()=>{var b,w;return(w=(b=H(o))==null?void 0:b.scrollIntoView)==null?void 0:w.call(b,{block:"nearest"})}))});function c(b){var w;if(i.disabled||(w=n.virtual.value)!=null&&w.disabled(i.value))return b.preventDefault();n.selectOption(r),kh()||requestAnimationFrame(()=>{var E;return(E=H(n.inputRef))==null?void 0:E.focus({preventScroll:!0})}),n.mode.value===0&&requestAnimationFrame(()=>n.closeCombobox())}function f(){var b;if(i.disabled||(b=n.virtual.value)!=null&&b.disabled(i.value))return n.goToOption(_t.Nothing);let w=n.calculateIndex(i.value);n.goToOption(_t.Specific,w)}let d=_p();function m(b){d.update(b)}function v(b){var w;if(!d.wasMoved(b)||i.disabled||(w=n.virtual.value)!=null&&w.disabled(i.value)||l.value)return;let E=n.calculateIndex(i.value);n.goToOption(_t.Specific,E,0)}function _(b){var w;d.wasMoved(b)&&(i.disabled||(w=n.virtual.value)!=null&&w.disabled(i.value)||l.value&&(n.optionsPropsRef.value.hold||n.goToOption(_t.Nothing)))}return()=>{let{disabled:b}=i,w={active:l.value,selected:h.value,disabled:b},E={id:r,ref:o,role:"option",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onClick:c,onFocus:f,onPointerenter:m,onMouseenter:m,onPointermove:v,onMousemove:v,onPointerleave:_,onMouseleave:_},y=Ze(i,["order","value"]);return Ut({ourProps:E,theirProps:y,slot:w,attrs:e,slots:t,name:"ComboboxOption"})}}}),Dp=Symbol("GroupContext"),Bp=mt({name:"Switch",emits:{"update:modelValue":i=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(i,{emit:t,attrs:e,slots:s,expose:n}){var r;let o=(r=i.id)!=null?r:`headlessui-switch-${Ke()}`,l=Et(Dp,null),[h,a]=Rh(D(()=>i.modelValue),w=>t("update:modelValue",w),D(()=>i.defaultChecked));function u(){a(!h.value)}let c=j(null),f=l===null?c:l.switchRef,d=yr(D(()=>({as:i.as,type:e.type})),f);n({el:f,$el:f});function m(w){w.preventDefault(),u()}function v(w){w.key===ot.Space?(w.preventDefault(),u()):w.key===ot.Enter&&Ep(w.currentTarget)}function _(w){w.preventDefault()}let b=D(()=>{var w,E;return(E=(w=H(f))==null?void 0:w.closest)==null?void 0:E.call(w,"form")});return Tt(()=>{ct([b],()=>{if(!b.value||i.defaultChecked===void 0)return;function w(){a(i.defaultChecked)}return b.value.addEventListener("reset",w),()=>{var E;(E=b.value)==null||E.removeEventListener("reset",w)}},{immediate:!0})}),()=>{let{name:w,value:E,form:y,...L}=i,P={checked:h.value},F={id:o,ref:f,role:"switch",type:d.value,tabIndex:0,"aria-checked":h.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:m,onKeyup:v,onKeypress:_};return Ht(yt,[w!=null&&h.value!=null?Ht(xr,$h({features:Bs.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:h.value,form:y,name:w,value:E})):null,Ut({ourProps:F,theirProps:{...e,...Ze(L,["modelValue","defaultChecked"])},slot:P,attrs:e,slots:s,name:"Switch"})])}}}),Fp=mt({props:{onFocus:{type:Function,required:!0}},setup(i){let t=j(!0);return()=>t.value?Ht(xr,{as:"button",type:"button",features:Bs.Focusable,onFocus(e){e.preventDefault();let s,n=50;function r(){var o;if(n--<=0){s&&cancelAnimationFrame(s);return}if((o=i.onFocus)!=null&&o.call(i)){t.value=!1,cancelAnimationFrame(s);return}s=requestAnimationFrame(r)}s=requestAnimationFrame(r)}}):null}});var Vp=(i=>(i[i.Forwards=0]="Forwards",i[i.Backwards=1]="Backwards",i))(Vp||{}),Wp=(i=>(i[i.Less=-1]="Less",i[i.Equal=0]="Equal",i[i.Greater=1]="Greater",i))(Wp||{});let Uh=Symbol("TabsContext");function Mr(i){let t=Et(Uh,null);if(t===null){let e=new Error(`<${i} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Mr),e}return t}let Kh=Symbol("TabsSSRContext"),jp=mt({name:"TabGroup",emits:{change:i=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(i,{slots:t,attrs:e,emit:s}){var n;let r=j((n=i.selectedIndex)!=null?n:i.defaultIndex),o=j([]),l=j([]),h=D(()=>i.selectedIndex!==null),a=D(()=>h.value?i.selectedIndex:r.value);function u(v){var _;let b=Re(c.tabs.value,H),w=Re(c.panels.value,H),E=b.filter(y=>{var L;return!((L=H(y))!=null&&L.hasAttribute("disabled"))});if(v<0||v>b.length-1){let y=Ct(r.value===null?0:Math.sign(v-r.value),{[-1]:()=>1,0:()=>Ct(Math.sign(v),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),L=Ct(y,{0:()=>b.indexOf(E[0]),1:()=>b.indexOf(E[E.length-1])});L!==-1&&(r.value=L),c.tabs.value=b,c.panels.value=w}else{let y=b.slice(0,v),L=[...b.slice(v),...y].find(F=>E.includes(F));if(!L)return;let P=(_=b.indexOf(L))!=null?_:c.selectedIndex.value;P===-1&&(P=c.selectedIndex.value),r.value=P,c.tabs.value=b,c.panels.value=w}}let c={selectedIndex:D(()=>{var v,_;return(_=(v=r.value)!=null?v:i.defaultIndex)!=null?_:null}),orientation:D(()=>i.vertical?"vertical":"horizontal"),activation:D(()=>i.manual?"manual":"auto"),tabs:o,panels:l,setSelectedIndex(v){a.value!==v&&s("change",v),h.value||u(v)},registerTab(v){var _;if(o.value.includes(v))return;let b=o.value[r.value];o.value.push(v),o.value=Re(o.value,H);let w=(_=o.value.indexOf(b))!=null?_:r.value;w!==-1&&(r.value=w)},unregisterTab(v){let _=o.value.indexOf(v);_!==-1&&o.value.splice(_,1)},registerPanel(v){l.value.includes(v)||(l.value.push(v),l.value=Re(l.value,H))},unregisterPanel(v){let _=l.value.indexOf(v);_!==-1&&l.value.splice(_,1)}};le(Uh,c);let f=j({tabs:[],panels:[]}),d=j(!1);Tt(()=>{d.value=!0}),le(Kh,D(()=>d.value?null:f.value));let m=D(()=>i.selectedIndex);return Tt(()=>{ct([m],()=>{var v;return u((v=i.selectedIndex)!=null?v:i.defaultIndex)},{immediate:!0})}),Ft(()=>{if(!h.value||a.value==null||c.tabs.value.length<=0)return;let v=Re(c.tabs.value,H);v.some((_,b)=>H(c.tabs.value[b])!==H(_))&&c.setSelectedIndex(v.findIndex(_=>H(_)===H(c.tabs.value[a.value])))}),()=>{let v={selectedIndex:r.value};return Ht(yt,[o.value.length<=0&&Ht(Fp,{onFocus:()=>{for(let _ of o.value){let b=H(_);if((b==null?void 0:b.tabIndex)===0)return b.focus(),!0}return!1}}),Ut({theirProps:{...e,...Ze(i,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:v,slots:t,attrs:e,name:"TabGroup"})])}}}),Hp=mt({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(i,{attrs:t,slots:e}){let s=Mr("TabList");return()=>{let n={selectedIndex:s.selectedIndex.value},r={role:"tablist","aria-orientation":s.orientation.value};return Ut({ourProps:r,theirProps:i,slot:n,attrs:t,slots:e,name:"TabList"})}}}),Up=mt({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(i,{attrs:t,slots:e,expose:s}){var n;let r=(n=i.id)!=null?n:`headlessui-tabs-tab-${Ke()}`,o=Mr("Tab"),l=j(null);s({el:l,$el:l}),Tt(()=>o.registerTab(l)),Ue(()=>o.unregisterTab(l));let h=Et(Kh),a=D(()=>{if(h.value){let w=h.value.tabs.indexOf(r);return w===-1?h.value.tabs.push(r)-1:w}return-1}),u=D(()=>{let w=o.tabs.value.indexOf(l);return w===-1?a.value:w}),c=D(()=>u.value===o.selectedIndex.value);function f(w){var E;let y=w();if(y===wi.Success&&o.activation.value==="auto"){let L=(E=Ds(l))==null?void 0:E.activeElement,P=o.tabs.value.findIndex(F=>H(F)===L);P!==-1&&o.setSelectedIndex(P)}return y}function d(w){let E=o.tabs.value.map(y=>H(y)).filter(Boolean);if(w.key===ot.Space||w.key===ot.Enter){w.preventDefault(),w.stopPropagation(),o.setSelectedIndex(u.value);return}switch(w.key){case ot.Home:case ot.PageUp:return w.preventDefault(),w.stopPropagation(),f(()=>Ge(E,Zt.First));case ot.End:case ot.PageDown:return w.preventDefault(),w.stopPropagation(),f(()=>Ge(E,Zt.Last))}if(f(()=>Ct(o.orientation.value,{vertical(){return w.key===ot.ArrowUp?Ge(E,Zt.Previous|Zt.WrapAround):w.key===ot.ArrowDown?Ge(E,Zt.Next|Zt.WrapAround):wi.Error},horizontal(){return w.key===ot.ArrowLeft?Ge(E,Zt.Previous|Zt.WrapAround):w.key===ot.ArrowRight?Ge(E,Zt.Next|Zt.WrapAround):wi.Error}}))===wi.Success)return w.preventDefault()}let m=j(!1);function v(){var w;m.value||(m.value=!0,!i.disabled&&((w=H(l))==null||w.focus({preventScroll:!0}),o.setSelectedIndex(u.value),Bh(()=>{m.value=!1})))}function _(w){w.preventDefault()}let b=yr(D(()=>({as:i.as,type:t.type})),l);return()=>{var w;let E={selected:c.value},{...y}=i,L={ref:l,onKeydown:d,onMousedown:_,onClick:v,id:r,role:"tab",type:b.value,"aria-controls":(w=H(o.panels.value[u.value]))==null?void 0:w.id,"aria-selected":c.value,tabIndex:c.value?0:-1,disabled:i.disabled?!0:void 0};return Ut({ourProps:L,theirProps:y,slot:E,attrs:t,slots:e,name:"Tab"})}}});function Kp(i){let t={called:!1};return(...e)=>{if(!t.called)return t.called=!0,i(...e)}}function Sn(i,...t){i&&t.length>0&&i.classList.add(...t)}function ls(i,...t){i&&t.length>0&&i.classList.remove(...t)}var jn=(i=>(i.Finished="finished",i.Cancelled="cancelled",i))(jn||{});function Zp(i,t){let e=Ai();if(!i)return e.dispose;let{transitionDuration:s,transitionDelay:n}=getComputedStyle(i),[r,o]=[s,n].map(l=>{let[h=0]=l.split(",").filter(Boolean).map(a=>a.includes("ms")?parseFloat(a):parseFloat(a)*1e3).sort((a,u)=>u-a);return h});return r!==0?e.setTimeout(()=>t("finished"),r+o):t("finished"),e.add(()=>t("cancelled")),e.dispose}function ll(i,t,e,s,n,r){let o=Ai(),l=r!==void 0?Kp(r):()=>{};return ls(i,...n),Sn(i,...t,...e),o.nextFrame(()=>{ls(i,...e),Sn(i,...s),o.add(Zp(i,h=>(ls(i,...s,...t),Sn(i,...n),l(h))))}),o.add(()=>ls(i,...t,...e,...s,...n)),o.add(()=>l("cancelled")),o.dispose}function Te(i=""){return i.split(/\s+/).filter(t=>t.length>1)}let Cr=Symbol("TransitionContext");var qp=(i=>(i.Visible="visible",i.Hidden="hidden",i))(qp||{});function Yp(){return Et(Cr,null)!==null}function Qp(){let i=Et(Cr,null);if(i===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}function Xp(){let i=Et(Er,null);if(i===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}let Er=Symbol("NestingContext");function Fs(i){return"children"in i?Fs(i.children):i.value.filter(({state:t})=>t==="visible").length>0}function Zh(i){let t=j([]),e=j(!1);Tt(()=>e.value=!0),Ue(()=>e.value=!1);function s(r,o=_e.Hidden){let l=t.value.findIndex(({id:h})=>h===r);l!==-1&&(Ct(o,{[_e.Unmount](){t.value.splice(l,1)},[_e.Hidden](){t.value[l].state="hidden"}}),!Fs(t)&&e.value&&(i==null||i()))}function n(r){let o=t.value.find(({id:l})=>l===r);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:r,state:"visible"}),()=>s(r,_e.Unmount)}return{children:t,register:n,unregister:s}}let qh=ci.RenderStrategy,Gp=mt({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(i,{emit:t,attrs:e,slots:s,expose:n}){let r=j(0);function o(){r.value|=Bt.Opening,t("beforeEnter")}function l(){r.value&=~Bt.Opening,t("afterEnter")}function h(){r.value|=Bt.Closing,t("beforeLeave")}function a(){r.value&=~Bt.Closing,t("afterLeave")}if(!Yp()&&Sp())return()=>Ht(Yh,{...i,onBeforeEnter:o,onAfterEnter:l,onBeforeLeave:h,onAfterLeave:a},s);let u=j(null),c=D(()=>i.unmount?_e.Unmount:_e.Hidden);n({el:u,$el:u});let{show:f,appear:d}=Qp(),{register:m,unregister:v}=Xp(),_=j(f.value?"visible":"hidden"),b={value:!0},w=Ke(),E={value:!1},y=Zh(()=>{!E.value&&_.value!=="hidden"&&(_.value="hidden",v(w),a())});Tt(()=>{let W=m(w);Ue(W)}),Ft(()=>{if(c.value===_e.Hidden&&w){if(f.value&&_.value!=="visible"){_.value="visible";return}Ct(_.value,{hidden:()=>v(w),visible:()=>m(w)})}});let L=Te(i.enter),P=Te(i.enterFrom),F=Te(i.enterTo),C=Te(i.entered),it=Te(i.leave),I=Te(i.leaveFrom),A=Te(i.leaveTo);Tt(()=>{Ft(()=>{if(_.value==="visible"){let W=H(u);if(W instanceof Comment&&W.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Z(W){let tt=b.value&&!d.value,J=H(u);!J||!(J instanceof HTMLElement)||tt||(E.value=!0,f.value&&o(),f.value||h(),W(f.value?ll(J,L,P,F,C,X=>{E.value=!1,X===jn.Finished&&l()}):ll(J,it,I,A,C,X=>{E.value=!1,X===jn.Finished&&(Fs(y)||(_.value="hidden",v(w),a()))})))}return Tt(()=>{ct([f],(W,tt,J)=>{Z(J),b.value=!1},{immediate:!0})}),le(Er,y),Dh(D(()=>Ct(_.value,{visible:Bt.Open,hidden:Bt.Closed})|r.value)),()=>{let{appear:W,show:tt,enter:J,enterFrom:X,enterTo:st,entered:Y,leave:Rt,leaveFrom:he,leaveTo:Vt,...$t}=i,Wi={ref:u},Vs={...$t,...d.value&&f.value&&As.isServer?{class:oe([e.class,$t.class,...L,...P])}:{}};return Ut({theirProps:Vs,ourProps:Wi,slot:{},slots:s,attrs:e,features:qh,visible:_.value==="visible",name:"TransitionChild"})}}}),Jp=Gp,Yh=mt({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(i,{emit:t,attrs:e,slots:s}){let n=Sr(),r=D(()=>i.show===null&&n!==null?(n.value&Bt.Open)===Bt.Open:i.show);Ft(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=j(r.value?"visible":"hidden"),l=Zh(()=>{o.value="hidden"}),h=j(!0),a={show:r,appear:D(()=>i.appear||!h.value)};return Tt(()=>{Ft(()=>{h.value=!1,r.value?o.value="visible":Fs(l)||(o.value="hidden")})}),le(Er,l),le(Cr,a),()=>{let u=Ze(i,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),c={unmount:i.unmount};return Ut({ourProps:{...c,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ht(Jp,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...e,...c,...u},s.default)]},attrs:{},features:qh,visible:o.value==="visible",name:"Transition"})}}});const tv=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="w-6 h-6">
    <path fill="var(--foreground)" stroke-linecap="round" stroke-linejoin="round"
        d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" />
</svg>`,ev=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="w-6 h-6">
    <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" stroke="var(--check-stroke)" />
</svg>`;function iv(i){return i.split(`
`).map(e=>{const s=e.split(","),n=s[0];return{time:new Date(parseInt(n.substring(4,6))+2e3,parseInt(n.substring(2,4))-1,parseInt(n.substring(0,2))).getTime()/1e3,open:parseInt(s[3]),high:parseInt(s[4]),low:parseInt(s[5]),close:parseInt(s[6]),value:parseInt(s[9])}}).filter(e=>e.time).sort((e,s)=>e.time-s.time)}async function sv(i,t){if(!i.ok||!i.body)throw new Error(`HTTP error! status: ${i.status}`);const e=i.body.pipeThrough(new TextDecoderStream).getReader(),s=r=>{const o=r.split(",");return{id:o[0],name:o[1],symbol:o[2],ISIN:o[3]}};let n="";for(;;){const{value:r,done:o}=await e.read();if(o)break;n+=r;const l=n.split(`
`),h=l.slice(0,-1).map(a=>s(a));t(h),n=l[l.length-1]}n&&t([s(n)])}const nv={class:"relative mt-1"},rv={class:"flex h-10 w-full items-center"},ov={class:"h-5 w-5 top-5 left-5 self-center"},lv=["innerHTML"],hv={key:0,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},av=["innerHTML"],uv={key:1,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},cv={key:2,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},fv=mt({__name:"ComboboxComp",emits:["update","errorFetching"],setup(i,{emit:t}){const e=j(),s=t;ct(e,u=>{u!=null&&u.id&&s("update",u.id)});const n=Pl([]),r=j(!0);fetch("https://raw.githubusercontent.com/ketan-10/stock-data-visualization/master/cron/Equity.csv").then(u=>sv(u,c=>{n.value=[...n.value,...c]})).then(()=>{r.value=!1}).catch(u=>{s("errorFetching",u??"Server Error")});let o=j(""),l=j(o.value),h=j();ct(o,async u=>{clearTimeout(h.value),h.value=setTimeout(()=>{l.value=u},200)});let a=D(()=>o.value===""?n.value.slice(0,20):l.value===""?[]:n.value.filter(u=>{const c=l.value.toLowerCase().replace(/\s+/g,"");return u.name.toLowerCase().replace(/\s+/g,"").includes(c)||u.symbol.toLowerCase().replace(/\s+/g,"").includes(c)}).slice(0,20));return(u,c)=>(pt(),De(rt(kp),ih({modelValue:e.value,"onUpdate:modelValue":c[2]||(c[2]=f=>e.value=f)},u.$attrs),{default:se(({open:f})=>[lt("div",nv,[lt("div",rv,[dt(rt(Np),{class:"rounded-md border border-input bg-background pl-3 pr-8 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed w-full",displayValue:d=>f?"":d==null?void 0:d.name,onChange:c[0]||(c[0]=d=>St(o)?o.value=d.target.value:o=d.target.value),placeholder:"Search company name"},null,8,["displayValue"]),dt(rt(Lp),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:se(()=>[lt("div",ov,[lt("div",{class:"object-contain h-full w-full",innerHTML:rt(tv)},null,8,lv)])]),_:1})]),dt(rt(Yh),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:c[1]||(c[1]=d=>St(o)?o.value="":o="")},{default:se(()=>[dt(rt($p),{class:"overflow-auto absolute z-50 mt-1 w-full max-h-60 text-base bg-popover text-popover-foreground rounded-md ring-1 ring-black ring-opacity-5 shadow-lg focus:outline-none sm:text-sm"},{default:se(()=>[rt(a).length===0&&rt(o)!==""?(pt(),kt("div",hv," Nothing found. ")):ke("",!0),(pt(!0),kt(yt,null,Hl(rt(a),d=>(pt(),De(rt(Ap),{as:"template",key:d.id,value:d},{default:se(({selected:m,active:v})=>[lt("li",{class:oe(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-amber-600 text-amber-900":v,"":!v}])},[lt("span",{class:oe(["block truncate",{"font-medium":m,"font-normal":!m}])},ds(d.name),3),m?(pt(),kt("span",{key:0,class:oe(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":v,"text-amber-600":!v}])},[lt("div",{class:"h-5 w-5",innerHTML:rt(ev)},null,8,av)],2)):ke("",!0)],2)]),_:2},1032,["value"]))),128)),rt(a).length===20?(pt(),kt("div",uv," Search to load more... ")):ke("",!0),r.value?(pt(),kt("div",cv," loading more... ")):ke("",!0)]),_:1})]),_:1})])]),_:1},16,["modelValue"]))}}),dv={class:"max-w-96 flex-grow"},pv=lt("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"}," Symbol: ",-1),vv={class:"min-h-[18px] inline-block text-[0.8rem] font-medium text-destructive"},mv={key:0,class:"flex text-[0.8rem] mt-[-18px] font-medium text-destructive justify-center"},gv=mt({__name:"FormView",props:{isLoading:{type:Boolean}},emits:["onChartData","update:isLoading"],setup(i,{emit:t}){const e=i,s=t,n=D({get(){return e.isLoading},set(u){s("update:isLoading",u)}}),r=Di({symbol:{value:"",errorMsg:""},period:{value:"daily",errorMsg:""}}),o=()=>{let u=!0;return r.period.value||(r.period.errorMsg="Please select an period",u=!1),r.symbol.value?r.symbol.value.length>10||r.symbol.value.length<2?(r.symbol.errorMsg="symbol lenght must be between 2 & 5.",u=!1):/[^a-zA-Z0-9]/.test(r.symbol.value)&&(r.symbol.errorMsg="symbol should not have special characters.",u=!1):(r.symbol.errorMsg="Required",u=!1),u},l=j("");let h;const a=async()=>{if(!o())return;h&&h.abort();const u=h=new AbortController;r.period.errorMsg="",r.symbol.errorMsg="",l.value="",n.value=!0;try{const c=await fetch(`https://raw.githubusercontent.com/ketan-10/stock-data-visualization/master/cron/output/${r.symbol.value}.csv`,{signal:u.signal}),f=await c.text(),d=iv(f);if(!c.ok)throw new Error("failed to load data");n.value=!1,s("onChartData",d)}catch(c){(c==null?void 0:c.name)!=="AbortError"?(l.value=(c==null?void 0:c.message)??"Server error",n.value=!1):console.log("Request already Aborted.")}};return(u,c)=>(pt(),kt(yt,null,[lt("form",{autocomplete:"off",onSubmit:uc(a,["prevent"]),class:"py-2 px-6 flex gap-x-5 w-full items-center self-center flex-wrap justify-center"},[lt("div",dv,[pv,dt(fv,{onUpdate:c[0]||(c[0]=f=>{r.symbol.value=f,a()}),onChange:c[1]||(c[1]=f=>r.symbol.errorMsg=""),onErrorFetching:c[2]||(c[2]=f=>l.value=f)}),lt("span",vv,ds(r.symbol.errorMsg),1)])],32),l.value?(pt(),kt("div",mv,ds(l.value),1)):ke("",!0)],64))}}),bv=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="bg-secondary rounded-full py-[3px] aspect-square">
    <path stroke-linecap="round" stroke-linejoin="round"
        d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
        stroke="var(--forground)" />
</svg>`,wv=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="bg-secondary rounded-full py-[3px] aspect-square">
    <path stroke-linecap="round" stroke-linejoin="round"
        d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
        stroke="var(--forground)" />
</svg>`,_v=`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30">
    <path fill="var(--foreground)"
        d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z">
    </path>
</svg>`,yv={class:"bg-primary-foreground flex w-full shadow align-middle"},xv={class:"flex justify-between w-full items-center p-3"},Sv=lt("div",{class:"text-xl pl-4"},"Stocks visualizer",-1),Mv={class:"flex gap-5"},Cv={class:"h-8 top-5 left-5 self-center w-10"},Ev=["innerHTML"],Ov={class:"self-center leading-none"},zv=lt("span",{class:"sr-only"},"Dark Mode",-1),Tv=["innerHTML"],Iv=mt({__name:"HeaderView",setup(i){const t=Et("isDarkMode",j(!1));return ct(t,e=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("isDarkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.removeItem("isDarkMode"))}),(e,s)=>(pt(),kt("div",yv,[lt("div",xv,[Sv,lt("div",Mv,[lt("div",Cv,[lt("a",{class:"object-contain h-full w-full cursor-pointer",innerHTML:rt(_v),href:"https://github.com/ketan-10/stock-data-visualization",target:"_blank"},null,8,Ev)]),lt("div",Ov,[dt(rt(Bp),{modelValue:rt(t),"onUpdate:modelValue":s[0]||(s[0]=n=>St(t)?t.value=n:null),class:oe([rt(t)?"bg-amber-900":"bg-amber-600","relative inline-flex h-[25px] w-[45px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 dark:focus-visible:ring-black/75"])},{default:se(()=>[zv,lt("span",{class:oe([rt(t)?"translate-x-5":"translate-x-0 white","flex object-contain p-[1.4px] h-full w-full shadow-lg ring-0 transform transition duration-200 ease-in-out"]),innerHTML:rt(t)?rt(wv):rt(bv)},null,10,Tv)]),_:1},8,["modelValue","class"])])])])]))}}),Rv=mt({__name:"TabComp",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(i){const t=i,e=s=>s==="line"?"No of trades":s==="candlestick"?"Price":s;return(s,n)=>(pt(),De(rt(jp),{selectedIndex:t.tabs.findIndex(r=>r==t.modelValue),onChange:n[0]||(n[0]=r=>s.$emit("update:modelValue",t.tabs[r]))},{default:se(()=>[dt(rt(Hp),{class:"flex space-x-1 rounded-xl bg-amber-900/20 p-1"},{default:se(()=>[(pt(!0),kt(yt,null,Hl(t.tabs,r=>(pt(),De(rt(Up),{as:"template",key:r},{default:se(({selected:o})=>[lt("button",{class:oe(["w-full rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-amber-400 focus:outline-none focus:ring-2",o?"bg-white text-amber-700 shadow":"text-yellow-600 hover:bg-white/[0.12] hover:text-amber-900"])},ds(e(r)),3)]),_:2},1024))),128))]),_:1})]),_:1},8,["selectedIndex"]))}}),Pv={class:"flex w-full flex-col"},kv={class:"w-full z-[9999] top-0 left-0 fixed h-14 flex"},Lv={class:"pt-14 w-full h-[100svh] flex flex-col"},Nv={key:0,id:"spinner"},$v={class:"w-full md:w-80 self-center mb-5 px-5"},Av=mt({__name:"App",setup(i){const t=j(!!localStorage.getItem("isDarkMode"));le("isDarkMode",t);const e=j(!1),s=["candlestick","line"],n=j("candlestick"),r=j([]),o=l=>{r.value=l};return(l,h)=>(pt(),kt("div",Pv,[lt("div",kv,[dt(Iv)]),lt("div",Lv,[dt(gv,{isLoading:e.value,"onUpdate:isLoading":h[0]||(h[0]=a=>e.value=a),onOnChartData:o},null,8,["isLoading"]),e.value?(pt(),kt("div",Nv)):(pt(),kt(yt,{key:1},[lt("div",$v,[r.value.length?(pt(),De(Rv,{key:0,modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=a=>n.value=a),tabs:s},null,8,["modelValue"])):ke("",!0)]),r.value.length?(pt(),De(Zd,{key:0,serverData:r.value,chartType:n.value},null,8,["serverData","chartType"])):ke("",!0)],64))])]))}});dc(Av).mount("#app");
